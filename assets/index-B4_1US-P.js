(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var dd={exports:{}},ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function KA(){if(s_)return ol;s_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:c}}return ol.Fragment=t,ol.jsx=n,ol.jsxs=n,ol}var a_;function YA(){return a_||(a_=1,dd.exports=KA()),dd.exports}var st=YA(),md={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function XA(){if(o_)return St;o_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),I=Symbol.iterator;function N(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,tt={};function X(D,Z,nt){this.props=D,this.context=Z,this.refs=tt,this.updater=nt||j}X.prototype.isReactComponent={},X.prototype.setState=function(D,Z){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Z,"setState")},X.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function vt(){}vt.prototype=X.prototype;function ft(D,Z,nt){this.props=D,this.context=Z,this.refs=tt,this.updater=nt||j}var lt=ft.prototype=new vt;lt.constructor=ft,$(lt,X.prototype),lt.isPureReactComponent=!0;var Ct=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Dt=Object.prototype.hasOwnProperty;function M(D,Z,nt,J,ht,wt){return nt=wt.ref,{$$typeof:r,type:D,key:Z,ref:nt!==void 0?nt:null,props:wt}}function S(D,Z){return M(D.type,Z,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function V(D){var Z={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return Z[nt]})}var P=/\/+/g;function C(D,Z){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):Z.toString(36)}function R(){}function se(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(Z){D.status==="pending"&&(D.status="fulfilled",D.value=Z)},function(Z){D.status==="pending"&&(D.status="rejected",D.reason=Z)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Wt(D,Z,nt,J,ht){var wt=typeof D;(wt==="undefined"||wt==="boolean")&&(D=null);var Et=!1;if(D===null)Et=!0;else switch(wt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(D.$$typeof){case r:case t:Et=!0;break;case T:return Et=D._init,Wt(Et(D._payload),Z,nt,J,ht)}}if(Et)return ht=ht(D),Et=J===""?"."+C(D,0):J,Ct(ht)?(nt="",Et!=null&&(nt=Et.replace(P,"$&/")+"/"),Wt(ht,Z,nt,"",function(Bn){return Bn})):ht!=null&&(w(ht)&&(ht=S(ht,nt+(ht.key==null||D&&D.key===ht.key?"":(""+ht.key).replace(P,"$&/")+"/")+Et)),Z.push(ht)),1;Et=0;var we=J===""?".":J+":";if(Ct(D))for(var Zt=0;Zt<D.length;Zt++)J=D[Zt],wt=we+C(J,Zt),Et+=Wt(J,Z,nt,wt,ht);else if(Zt=N(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(J=D.next()).done;)J=J.value,wt=we+C(J,Zt++),Et+=Wt(J,Z,nt,wt,ht);else if(wt==="object"){if(typeof D.then=="function")return Wt(se(D),Z,nt,J,ht);throw Z=String(D),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Et}function H(D,Z,nt){if(D==null)return D;var J=[],ht=0;return Wt(D,J,"","",function(wt){return Z.call(nt,wt,ht++)}),J}function et(D){if(D._status===-1){var Z=D._result;Z=Z(),Z.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=Z)}if(D._status===1)return D._result.default;throw D._result}var ut=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function zt(){}return St.Children={map:H,forEach:function(D,Z,nt){H(D,function(){Z.apply(this,arguments)},nt)},count:function(D){var Z=0;return H(D,function(){Z++}),Z},toArray:function(D){return H(D,function(Z){return Z})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},St.Component=X,St.Fragment=n,St.Profiler=l,St.PureComponent=ft,St.StrictMode=s,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,St.__COMPILER_RUNTIME={__proto__:null,c:function(D){return _t.H.useMemoCache(D)}},St.cache=function(D){return function(){return D.apply(null,arguments)}},St.cloneElement=function(D,Z,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var J=$({},D.props),ht=D.key,wt=void 0;if(Z!=null)for(Et in Z.ref!==void 0&&(wt=void 0),Z.key!==void 0&&(ht=""+Z.key),Z)!Dt.call(Z,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&Z.ref===void 0||(J[Et]=Z[Et]);var Et=arguments.length-2;if(Et===1)J.children=nt;else if(1<Et){for(var we=Array(Et),Zt=0;Zt<Et;Zt++)we[Zt]=arguments[Zt+2];J.children=we}return M(D.type,ht,void 0,void 0,wt,J)},St.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},St.createElement=function(D,Z,nt){var J,ht={},wt=null;if(Z!=null)for(J in Z.key!==void 0&&(wt=""+Z.key),Z)Dt.call(Z,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ht[J]=Z[J]);var Et=arguments.length-2;if(Et===1)ht.children=nt;else if(1<Et){for(var we=Array(Et),Zt=0;Zt<Et;Zt++)we[Zt]=arguments[Zt+2];ht.children=we}if(D&&D.defaultProps)for(J in Et=D.defaultProps,Et)ht[J]===void 0&&(ht[J]=Et[J]);return M(D,wt,void 0,void 0,null,ht)},St.createRef=function(){return{current:null}},St.forwardRef=function(D){return{$$typeof:g,render:D}},St.isValidElement=w,St.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:et}},St.memo=function(D,Z){return{$$typeof:_,type:D,compare:Z===void 0?null:Z}},St.startTransition=function(D){var Z=_t.T,nt={};_t.T=nt;try{var J=D(),ht=_t.S;ht!==null&&ht(nt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(zt,ut)}catch(wt){ut(wt)}finally{_t.T=Z}},St.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},St.use=function(D){return _t.H.use(D)},St.useActionState=function(D,Z,nt){return _t.H.useActionState(D,Z,nt)},St.useCallback=function(D,Z){return _t.H.useCallback(D,Z)},St.useContext=function(D){return _t.H.useContext(D)},St.useDebugValue=function(){},St.useDeferredValue=function(D,Z){return _t.H.useDeferredValue(D,Z)},St.useEffect=function(D,Z,nt){var J=_t.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(D,Z)},St.useId=function(){return _t.H.useId()},St.useImperativeHandle=function(D,Z,nt){return _t.H.useImperativeHandle(D,Z,nt)},St.useInsertionEffect=function(D,Z){return _t.H.useInsertionEffect(D,Z)},St.useLayoutEffect=function(D,Z){return _t.H.useLayoutEffect(D,Z)},St.useMemo=function(D,Z){return _t.H.useMemo(D,Z)},St.useOptimistic=function(D,Z){return _t.H.useOptimistic(D,Z)},St.useReducer=function(D,Z,nt){return _t.H.useReducer(D,Z,nt)},St.useRef=function(D){return _t.H.useRef(D)},St.useState=function(D){return _t.H.useState(D)},St.useSyncExternalStore=function(D,Z,nt){return _t.H.useSyncExternalStore(D,Z,nt)},St.useTransition=function(){return _t.H.useTransition()},St.version="19.1.0",St}var l_;function nm(){return l_||(l_=1,md.exports=XA()),md.exports}var Le=nm(),gd={exports:{}},ll={},pd={exports:{}},yd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function $A(){return u_||(u_=1,function(r){function t(H,et){var ut=H.length;H.push(et);t:for(;0<ut;){var zt=ut-1>>>1,D=H[zt];if(0<l(D,et))H[zt]=et,H[ut]=D,ut=zt;else break t}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ut=H.pop();if(ut!==et){H[0]=ut;t:for(var zt=0,D=H.length,Z=D>>>1;zt<Z;){var nt=2*(zt+1)-1,J=H[nt],ht=nt+1,wt=H[ht];if(0>l(J,ut))ht<D&&0>l(wt,J)?(H[zt]=wt,H[ht]=ut,zt=ht):(H[zt]=J,H[nt]=ut,zt=nt);else if(ht<D&&0>l(wt,ut))H[zt]=wt,H[ht]=ut,zt=ht;else break t}}return et}function l(H,et){var ut=H.sortIndex-et.sortIndex;return ut!==0?ut:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],_=[],T=1,I=null,N=3,j=!1,$=!1,tt=!1,X=!1,vt=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function Ct(H){for(var et=n(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=H)s(_),et.sortIndex=et.expirationTime,t(p,et);else break;et=n(_)}}function _t(H){if(tt=!1,Ct(H),!$)if(n(p)!==null)$=!0,Dt||(Dt=!0,C());else{var et=n(_);et!==null&&Wt(_t,et.startTime-H)}}var Dt=!1,M=-1,S=5,w=-1;function V(){return X?!0:!(r.unstable_now()-w<S)}function P(){if(X=!1,Dt){var H=r.unstable_now();w=H;var et=!0;try{t:{$=!1,tt&&(tt=!1,ft(M),M=-1),j=!0;var ut=N;try{e:{for(Ct(H),I=n(p);I!==null&&!(I.expirationTime>H&&V());){var zt=I.callback;if(typeof zt=="function"){I.callback=null,N=I.priorityLevel;var D=zt(I.expirationTime<=H);if(H=r.unstable_now(),typeof D=="function"){I.callback=D,Ct(H),et=!0;break e}I===n(p)&&s(p),Ct(H)}else s(p);I=n(p)}if(I!==null)et=!0;else{var Z=n(_);Z!==null&&Wt(_t,Z.startTime-H),et=!1}}break t}finally{I=null,N=ut,j=!1}et=void 0}}finally{et?C():Dt=!1}}}var C;if(typeof lt=="function")C=function(){lt(P)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,se=R.port2;R.port1.onmessage=P,C=function(){se.postMessage(null)}}else C=function(){vt(P,0)};function Wt(H,et){M=vt(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(H){switch(N){case 1:case 2:case 3:var et=3;break;default:et=N}var ut=N;N=et;try{return H()}finally{N=ut}},r.unstable_requestPaint=function(){X=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=N;N=H;try{return et()}finally{N=ut}},r.unstable_scheduleCallback=function(H,et,ut){var zt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?zt+ut:zt):ut=zt,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ut+D,H={id:T++,callback:et,priorityLevel:H,startTime:ut,expirationTime:D,sortIndex:-1},ut>zt?(H.sortIndex=ut,t(_,H),n(p)===null&&H===n(_)&&(tt?(ft(M),M=-1):tt=!0,Wt(_t,ut-zt))):(H.sortIndex=D,t(p,H),$||j||($=!0,Dt||(Dt=!0,C()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var et=N;return function(){var ut=N;N=et;try{return H.apply(this,arguments)}finally{N=ut}}}}(yd)),yd}var c_;function ZA(){return c_||(c_=1,pd.exports=$A()),pd.exports}var _d={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function JA(){if(h_)return Ge;h_=1;var r=nm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,T){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:p,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,T)},Ge.flushSync=function(p){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=T,s.d.f()}},Ge.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,I=g(T,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:N,fetchPriority:j}):T==="script"&&s.d.X(p,{crossOrigin:I,integrity:N,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Ge.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,I=g(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,_){return p(_)},Ge.useFormState=function(p,_,T){return f.H.useFormState(p,_,T)},Ge.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var f_;function WA(){if(f_)return _d.exports;f_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),_d.exports=JA(),_d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function tS(){if(d_)return ll;d_=1;var r=ZA(),t=nm(),n=WA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===o)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=d;break}if(E===o){v=!0,o=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,o=h;break}if(E===o){v=!0,o=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,I=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),vt=Symbol.for("react.provider"),ft=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function C(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case X:return"Profiler";case tt:return"StrictMode";case _t:return"Suspense";case Dt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case lt:return(e.displayName||"Context")+".Provider";case ft:return(e._context.displayName||"Context")+".Consumer";case Ct:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return i=e.displayName||null,i!==null?i:se(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return se(e(i))}catch{}}return null}var Wt=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},zt=[],D=-1;function Z(e){return{current:e}}function nt(e){0>D||(e.current=zt[D],zt[D]=null,D--)}function J(e,i){D++,zt[D]=e.current,e.current=i}var ht=Z(null),wt=Z(null),Et=Z(null),we=Z(null);function Zt(e,i){switch(J(Et,i),J(wt,e),J(ht,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?My(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=My(i),e=Py(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ht),J(ht,e)}function Bn(){nt(ht),nt(wt),nt(Et)}function Hi(e){e.memoizedState!==null&&J(we,e);var i=ht.current,a=Py(i,e.type);i!==a&&(J(wt,e),J(ht,a))}function ui(e){wt.current===e&&(nt(ht),nt(wt)),we.current===e&&(nt(we),nl._currentValue=ut)}var Ur=Object.prototype.hasOwnProperty,Lr=r.unstable_scheduleCallback,zr=r.unstable_cancelCallback,Ja=r.unstable_shouldYield,jl=r.unstable_requestPaint,gn=r.unstable_now,fh=r.unstable_getCurrentPriorityLevel,Wa=r.unstable_ImmediatePriority,Ps=r.unstable_UserBlockingPriority,Br=r.unstable_NormalPriority,dh=r.unstable_LowPriority,xs=r.unstable_IdlePriority,to=r.log,Hl=r.unstable_setDisableYieldValue,ae=null,Ht=null;function sn(e){if(typeof to=="function"&&Hl(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ae,e)}catch{}}var je=Math.clz32?Math.clz32:qr,Gl=Math.log,mh=Math.LN2;function qr(e){return e>>>=0,e===0?32:31-(Gl(e)/mh|0)|0}var jr=256,Hr=4194304;function Dn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ks(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?h=Dn(o):(v&=E,v!==0?h=Dn(v):a||(a=E&~e,a!==0&&(h=Dn(a))))):(E=o&~d,E!==0?h=Dn(E):v!==0?h=Dn(v):a||(a=o&~e,a!==0&&(h=Dn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Gr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function eo(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function no(){var e=jr;return jr<<=1,(jr&4194048)===0&&(jr=256),e}function io(){var e=Hr;return Hr<<=1,(Hr&62914560)===0&&(Hr=4194304),e}function ci(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function hi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ro(e,i,a,o,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-je(a),Q=1<<G;E[G]=0,b[G]=-1;var z=L[G];if(z!==null)for(L[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}a&=~Q}o!==0&&qn(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function qn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-je(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function so(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-je(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Gi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Us(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fi(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:Wy(e.type))}function Fl(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var ee=Math.random().toString(36).slice(2),ve="__reactFiber$"+ee,de="__reactProps$"+ee,pn="__reactContainer$"+ee,ao="__reactEvents$"+ee,gh="__reactListeners$"+ee,Qi="__reactHandles$"+ee,Ql="__reactResources$"+ee,Fr="__reactMarker$"+ee;function Ki(e){delete e[ve],delete e[de],delete e[ao],delete e[gh],delete e[Qi]}function fi(e){var i=e[ve];if(i)return i;for(var a=e.parentNode;a;){if(i=a[pn]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Ly(e);e!==null;){if(a=e[ve])return a;e=Ly(e)}return i}e=a,a=e.parentNode}return null}function jn(e){if(e=e[ve]||e[pn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Hn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function $e(e){var i=e[Ql];return i||(i=e[Ql]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ue(e){e[Fr]=!0}var oo=new Set,Ls={};function On(e,i){di(e,i),di(e+"Capture",i)}function di(e,i){for(Ls[e]=i,e=0;e<i.length;e++)oo.add(i[e])}var Kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yl={},Qr={};function Xl(e){return Ur.call(Qr,e)?!0:Ur.call(Yl,e)?!1:Kl.test(e)?Qr[e]=!0:(Yl[e]=!0,!1)}function Yi(e,i,a){if(Xl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Gn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Me(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var Kr,$l;function mi(e){if(Kr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Kr=i&&i[1]||"",$l=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+e+$l}var zs=!1;function Bs(e,i){if(!e||zs)return"";zs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var z=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){z=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){z=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var b=v.split(`
`),L=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===L.length)for(o=b.length-1,h=L.length-1;1<=o&&0<=h&&b[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==L[h]){var G=`
`+b[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{zs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?mi(a):""}function lo(e){switch(e.tag){case 26:case 27:case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Bs(e.type,!1);case 11:return Bs(e.type.render,!1);case 1:return Bs(e.type,!0);case 31:return mi("Activity");default:return""}}function qs(e){try{var i="";do i+=lo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ph(e){var i=uo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function js(e){e._valueTracker||(e._valueTracker=ph(e))}function co(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=uo(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Yr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yh=/[\n"\\]/g;function me(e){return e.replace(yh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function an(e,i,a,o,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ze(i)):e.value!==""+Ze(i)&&(e.value=""+Ze(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Xi(e,v,Ze(i)):a!=null?Xi(e,v,Ze(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ze(E):e.removeAttribute("name")}function Xr(e,i,a,o,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Ze(a):"",i=i!=null?""+Ze(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Xi(e,i,a){i==="number"&&Yr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function gi(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Qt(e,i,a){if(i!=null&&(i=""+Ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ze(a):""}function $r(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(Wt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ze(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function yn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Zr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zl(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||Zr.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function ho(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Zl(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&Zl(e,d,i[d])}function fo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _h=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hs(e){return vh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var pi=null;function _n(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yi=null,_i=null;function mo(e){var i=jn(e);if(i&&(e=i.stateNode)){var a=e[de]||null;t:switch(e=i.stateNode,i.type){case"input":if(an(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+me(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[de]||null;if(!h)throw Error(s(90));an(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&co(o)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&gi(e,!!a.multiple,i,!1)}}}var Fn=!1;function Jl(e,i,a){if(Fn)return e(i,a);Fn=!0;try{var o=e(i);return o}finally{if(Fn=!1,(yi!==null||_i!==null)&&(Fu(),yi&&(i=yi,e=_i,_i=yi=null,mo(i),e)))for(i=0;i<e.length;i++)mo(e[i])}}function Jr(e,i){var a=e.stateNode;if(a===null)return null;var o=a[de]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(Nn)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{vn=!1}var Qn=null,$i=null,vi=null;function go(){if(vi)return vi;var e,i=$i,a=i.length,o,h="value"in Qn?Qn.value:Qn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return vi=h.slice(e,1<o?1-o:void 0)}function Kn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Yn(){return!0}function po(){return!1}function Ie(e){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yn:po,this.isPropagationStopped=po,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),i}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gs=Ie(qt),ts=T({},qt,{view:0,detail:0}),Wl=Ie(ts),Fs,Qs,Xn,es=T({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xn&&(Xn&&e.type==="mousemove"?(Fs=e.screenX-Xn.screenX,Qs=e.screenY-Xn.screenY):Qs=Fs=0,Xn=e),Fs)},movementY:function(e){return"movementY"in e?e.movementY:Qs}}),En=Ie(es),tu=T({},es,{dataTransfer:0}),Eh=Ie(tu),ns=T({},ts,{relatedTarget:0}),Ks=Ie(ns),yo=T({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ys=Ie(yo),eu=T({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xs=Ie(eu),Th=T({},qt,{data:0}),_o=Ie(Th),is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=iu[e])?!!i[e]:!1}function rs(){return vo}var ru=T({},ts,{key:function(e){if(e.key){var i=is[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Kn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(e){return e.type==="keypress"?Kn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$s=Ie(ru),su=T({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eo=Ie(su),Ei=T({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),au=Ie(Ei),ou=T({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),lu=Ie(ou),uu=T({},es,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zs=Ie(uu),Je=T({},qt,{newState:0,oldState:0}),cu=Ie(Je),hu=[9,13,27,32],$n=Nn&&"CompositionEvent"in window,u=null;Nn&&"documentMode"in document&&(u=document.documentMode);var m=Nn&&"TextEvent"in window&&!u,y=Nn&&(!$n||u&&8<u&&11>=u),A=" ",k=!1;function q(e,i){switch(e){case"keyup":return hu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Ee(e,i){switch(e){case"compositionend":return W(i);case"keypress":return i.which!==32?null:(k=!0,A);case"textInput":return e=i.data,e===A&&k?null:e;default:return null}}function xt(e,i){if(Pt)return e==="compositionend"||!$n&&q(e,i)?(e=go(),vi=$i=Qn=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ce[e.type]:i==="textarea"}function Ti(e,i,a,o){yi?_i?_i.push(o):_i=[o]:yi=o,i=Zu(i,"onChange"),0<i.length&&(a=new Gs("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Pe=null,Zn=null;function To(e){Cy(e,0)}function fu(e){var i=Hn(e);if(co(i))return e}function Xm(e,i){if(e==="change")return i}var $m=!1;if(Nn){var Ah;if(Nn){var Sh="oninput"in document;if(!Sh){var Zm=document.createElement("div");Zm.setAttribute("oninput","return;"),Sh=typeof Zm.oninput=="function"}Ah=Sh}else Ah=!1;$m=Ah&&(!document.documentMode||9<document.documentMode)}function Jm(){Pe&&(Pe.detachEvent("onpropertychange",Wm),Zn=Pe=null)}function Wm(e){if(e.propertyName==="value"&&fu(Zn)){var i=[];Ti(i,Zn,e,_n(e)),Jl(To,i)}}function S0(e,i,a){e==="focusin"?(Jm(),Pe=i,Zn=a,Pe.attachEvent("onpropertychange",Wm)):e==="focusout"&&Jm()}function b0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fu(Zn)}function R0(e,i){if(e==="click")return fu(i)}function w0(e,i){if(e==="input"||e==="change")return fu(i)}function I0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var on=typeof Object.is=="function"?Object.is:I0;function Ao(e,i){if(on(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Ur.call(i,h)||!on(e[h],i[h]))return!1}return!0}function tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eg(e,i){var a=tg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=tg(a)}}function ng(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ng(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Yr(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Yr(e.document)}return i}function bh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var C0=Nn&&"documentMode"in document&&11>=document.documentMode,Js=null,Rh=null,So=null,wh=!1;function rg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wh||Js==null||Js!==Yr(o)||(o=Js,"selectionStart"in o&&bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),So&&Ao(So,o)||(So=o,o=Zu(Rh,"onSelect"),0<o.length&&(i=new Gs("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=Js)))}function ss(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ws={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionrun:ss("Transition","TransitionRun"),transitionstart:ss("Transition","TransitionStart"),transitioncancel:ss("Transition","TransitionCancel"),transitionend:ss("Transition","TransitionEnd")},Ih={},sg={};Nn&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function as(e){if(Ih[e])return Ih[e];if(!Ws[e])return e;var i=Ws[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in sg)return Ih[e]=i[a];return e}var ag=as("animationend"),og=as("animationiteration"),lg=as("animationstart"),D0=as("transitionrun"),O0=as("transitionstart"),N0=as("transitioncancel"),ug=as("transitionend"),cg=new Map,Ch="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ch.push("scrollEnd");function Vn(e,i){cg.set(e,i),On(i,[e])}var hg=new WeakMap;function Tn(e,i){if(typeof e=="object"&&e!==null){var a=hg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:qs(i)},hg.set(e,i),i)}return{value:e,source:i,stack:qs(i)}}var An=[],ta=0,Dh=0;function du(){for(var e=ta,i=Dh=ta=0;i<e;){var a=An[i];An[i++]=null;var o=An[i];An[i++]=null;var h=An[i];An[i++]=null;var d=An[i];if(An[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&fg(a,h,d)}}function mu(e,i,a,o){An[ta++]=e,An[ta++]=i,An[ta++]=a,An[ta++]=o,Dh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Oh(e,i,a,o){return mu(e,i,a,o),gu(e)}function ea(e,i){return mu(e,null,null,i),gu(e)}function fg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-je(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function gu(e){if(50<Yo)throw Yo=0,Uf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var na={};function V0(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,i,a,o){return new V0(e,i,a,o)}function Nh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ai(e,i){var a=e.alternate;return a===null?(a=ln(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function dg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function pu(e,i,a,o,h,d){var v=0;if(o=e,typeof e=="function")Nh(e)&&(v=1);else if(typeof e=="string")v=PA(e,a,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=ln(31,a,i,h),e.elementType=w,e.lanes=d,e;case $:return os(a.children,h,d,i);case tt:v=8,h|=24;break;case X:return e=ln(12,a,i,h|2),e.elementType=X,e.lanes=d,e;case _t:return e=ln(13,a,i,h),e.elementType=_t,e.lanes=d,e;case Dt:return e=ln(19,a,i,h),e.elementType=Dt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vt:case lt:v=10;break t;case ft:v=9;break t;case Ct:v=11;break t;case M:v=14;break t;case S:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=ln(v,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function os(e,i,a,o){return e=ln(7,e,o,i),e.lanes=a,e}function Vh(e,i,a){return e=ln(6,e,null,i),e.lanes=a,e}function Mh(e,i,a){return i=ln(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ia=[],ra=0,yu=null,_u=0,Sn=[],bn=0,ls=null,Si=1,bi="";function us(e,i){ia[ra++]=_u,ia[ra++]=yu,yu=e,_u=i}function mg(e,i,a){Sn[bn++]=Si,Sn[bn++]=bi,Sn[bn++]=ls,ls=e;var o=Si;e=bi;var h=32-je(o)-1;o&=~(1<<h),a+=1;var d=32-je(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Si=1<<32-je(i)+h|a<<h|o,bi=d+e}else Si=1<<d|a<<h|o,bi=e}function Ph(e){e.return!==null&&(us(e,1),mg(e,1,0))}function xh(e){for(;e===yu;)yu=ia[--ra],ia[ra]=null,_u=ia[--ra],ia[ra]=null;for(;e===ls;)ls=Sn[--bn],Sn[bn]=null,bi=Sn[--bn],Sn[bn]=null,Si=Sn[--bn],Sn[bn]=null}var We=null,oe=null,Bt=!1,cs=null,Jn=!1,kh=Error(s(519));function hs(e){var i=Error(s(418,""));throw wo(Tn(i,e)),kh}function gg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[ve]=e,i[de]=o,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<$o.length;a++)Nt($o[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),Xr(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),js(i);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),$r(i,o.value,o.defaultValue,o.children),js(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Vy(i.textContent,a)?(o.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),o.onScroll!=null&&Nt("scroll",i),o.onScrollEnd!=null&&Nt("scrollend",i),o.onClick!=null&&(i.onclick=Ju),i=!0):i=!1,i||hs(e)}function pg(e){for(We=e.return;We;)switch(We.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:We=We.return}}function bo(e){if(e!==We)return!1;if(!Bt)return pg(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Wf(e.type,e.memoizedProps)),a=!a),a&&oe&&hs(e),pg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){oe=Pn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}oe=null}}else i===27?(i=oe,fr(e.type)?(e=id,id=null,oe=e):oe=i):oe=We?Pn(e.stateNode.nextSibling):null;return!0}function Ro(){oe=We=null,Bt=!1}function yg(){var e=cs;return e!==null&&(nn===null?nn=e:nn.push.apply(nn,e),cs=null),e}function wo(e){cs===null?cs=[e]:cs.push(e)}var Uh=Z(null),fs=null,Ri=null;function Zi(e,i,a){J(Uh,i._currentValue),i._currentValue=a}function wi(e){e._currentValue=Uh.current,nt(Uh)}function Lh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function zh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var b=0;b<i.length;b++)if(E.context===i[b]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Lh(d.return,a,e),o||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Lh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Io(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;on(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===we.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(nl):e=[nl])}h=h.return}e!==null&&zh(i,e,a,o),i.flags|=262144}function vu(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ds(e){fs=e,Ri=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return _g(fs,e)}function Eu(e,i){return fs===null&&ds(e),_g(e,i)}function _g(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ri===null){if(e===null)throw Error(s(308));Ri=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ri=Ri.next=i;return a}var M0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},P0=r.unstable_scheduleCallback,x0=r.unstable_NormalPriority,Ae={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bh(){return{controller:new M0,data:new Map,refCount:0}}function Co(e){e.refCount--,e.refCount===0&&P0(x0,function(){e.controller.abort()})}var Do=null,qh=0,sa=0,aa=null;function k0(e,i){if(Do===null){var a=Do=[];qh=0,sa=Gf(),aa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return qh++,i.then(vg,vg),i}function vg(){if(--qh===0&&Do!==null){aa!==null&&(aa.status="fulfilled");var e=Do;Do=null,sa=0,aa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function U0(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Eg=H.S;H.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&k0(e,i),Eg!==null&&Eg(e,i)};var ms=Z(null);function jh(){var e=ms.current;return e!==null?e:Jt.pooledCache}function Tu(e,i){i===null?J(ms,ms.current):J(ms,i.pool)}function Tg(){var e=jh();return e===null?null:{parent:Ae._currentValue,pool:e}}var Oo=Error(s(460)),Ag=Error(s(474)),Au=Error(s(542)),Hh={then:function(){}};function Sg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Su(){}function bg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Su,Su),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,wg(e),e;default:if(typeof i.status=="string")i.then(Su,Su);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,wg(e),e}throw No=i,Oo}}var No=null;function Rg(){if(No===null)throw Error(s(459));var e=No;return No=null,e}function wg(e){if(e===Oo||e===Au)throw Error(s(483))}var Ji=!1;function Gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function tr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=gu(e),fg(e,null,a),i}return mu(e,o,i,a),gu(e)}function Vo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,so(e,a)}}function Qh(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Kh=!1;function Mo(){if(Kh){var e=aa;if(e!==null)throw e}}function Po(e,i,a,o){Kh=!1;var h=e.updateQueue;Ji=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,L=b.next;b.next=null,v===null?d=L:v.next=L,v=b;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=L:E.next=L,G.lastBaseUpdate=b))}if(d!==null){var Q=h.baseState;v=0,G=L=b=null,E=d;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(kt&z)===z:(o&z)===z){z!==0&&z===sa&&(Kh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=e,dt=E;z=i;var Xt=a;switch(dt.tag){case 1:if(yt=dt.payload,typeof yt=="function"){Q=yt.call(Xt,Q,z);break t}Q=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=dt.payload,z=typeof yt=="function"?yt.call(Xt,Q,z):yt,z==null)break t;Q=T({},Q,z);break t;case 2:Ji=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(L=G=B,b=Q):G=G.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(b=Q),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),lr|=v,e.lanes=v,e.memoizedState=Q}}function Ig(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Cg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ig(a[e],i)}var oa=Z(null),bu=Z(0);function Dg(e,i){e=Mi,J(bu,e),J(oa,i),Mi=e|i.baseLanes}function Yh(){J(bu,Mi),J(oa,oa.current)}function Xh(){Mi=bu.current,nt(oa),nt(bu)}var er=0,bt=null,Kt=null,ge=null,Ru=!1,la=!1,gs=!1,wu=0,xo=0,ua=null,L0=0;function ce(){throw Error(s(321))}function $h(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!on(e[a],i[a]))return!1;return!0}function Zh(e,i,a,o,h,d){return er=d,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?fp:dp,gs=!1,d=a(o,h),gs=!1,la&&(d=Ng(i,a,o,h)),Og(e),d}function Og(e){H.H=Vu;var i=Kt!==null&&Kt.next!==null;if(er=0,ge=Kt=bt=null,Ru=!1,xo=0,ua=null,i)throw Error(s(300));e===null||De||(e=e.dependencies,e!==null&&vu(e)&&(De=!0))}function Ng(e,i,a,o){bt=e;var h=0;do{if(la&&(ua=null),xo=0,la=!1,25<=h)throw Error(s(301));if(h+=1,ge=Kt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=F0,d=i(a,o)}while(la);return d}function z0(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?ko(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(bt.flags|=1024),i}function Jh(){var e=wu!==0;return wu=0,e}function Wh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function tf(e){if(Ru){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Ru=!1}er=0,ge=Kt=bt=null,la=!1,xo=wu=0,ua=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?bt.memoizedState=ge=e:ge=ge.next=e,ge}function pe(){if(Kt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=ge===null?bt.memoizedState:ge.next;if(i!==null)ge=i,Kt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ge===null?bt.memoizedState=ge=e:ge=ge.next=e}return ge}function ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(e){var i=xo;return xo+=1,ua===null&&(ua=[]),e=bg(ua,e,i),i=bt,(ge===null?i.memoizedState:ge.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?fp:dp),e}function Iu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ko(e);if(e.$$typeof===lt)return He(e)}throw Error(s(438,String(e)))}function nf(e){var i=null,a=bt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ef(),bt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=V;return i.index++,a}function Ii(e,i){return typeof i=="function"?i(e):i}function Cu(e){var i=pe();return rf(i,Kt,e)}function rf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,b=null,L=i,G=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(kt&Q)===Q:(er&Q)===Q){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===sa&&(G=!0);else if((er&z)===z){L=L.next,z===sa&&(G=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=Q,v=d):b=b.next=Q,bt.lanes|=z,lr|=z;Q=L.action,gs&&a(d,Q),d=L.hasEagerState?L.eagerState:a(d,Q)}else z={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=z,v=d):b=b.next=z,bt.lanes|=Q,lr|=Q;L=L.next}while(L!==null&&L!==i);if(b===null?v=d:b.next=E,!on(d,e.memoizedState)&&(De=!0,G&&(a=aa,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=b,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function sf(e){var i=pe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);on(d,i.memoizedState)||(De=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Vg(e,i,a){var o=bt,h=pe(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!on((Kt||h).memoizedState,a);v&&(h.memoizedState=a,De=!0),h=h.queue;var E=xg.bind(null,o,h,e);if(Uo(2048,8,E,[e]),h.getSnapshot!==i||v||ge!==null&&ge.memoizedState.tag&1){if(o.flags|=2048,ca(9,Du(),Pg.bind(null,o,h,a,i),null),Jt===null)throw Error(s(349));d||(er&124)!==0||Mg(o,i,a)}return a}function Mg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i=ef(),bt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Pg(e,i,a,o){i.value=a,i.getSnapshot=o,kg(i)&&Ug(e)}function xg(e,i,a){return a(function(){kg(i)&&Ug(e)})}function kg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!on(e,a)}catch{return!0}}function Ug(e){var i=ea(e,2);i!==null&&dn(i,e,2)}function af(e){var i=tn();if(typeof e=="function"){var a=e;if(e=a(),gs){sn(!0);try{a()}finally{sn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},i}function Lg(e,i,a,o){return e.baseState=a,rf(e,Kt,typeof o=="function"?o:Ii)}function B0(e,i,a,o,h){if(Nu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};H.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,zg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function zg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=H.T,v={};H.T=v;try{var E=a(h,o),b=H.S;b!==null&&b(v,E),Bg(e,i,E)}catch(L){of(e,i,L)}finally{H.T=d}}else try{d=a(h,o),Bg(e,i,d)}catch(L){of(e,i,L)}}function Bg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){qg(e,i,o)},function(o){return of(e,i,o)}):qg(e,i,a)}function qg(e,i,a){i.status="fulfilled",i.value=a,jg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,zg(e,a)))}function of(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,jg(i),i=i.next;while(i!==o)}e.action=null}function jg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Hg(e,i){return i}function Gg(e,i){if(Bt){var a=Jt.formState;if(a!==null){t:{var o=bt;if(Bt){if(oe){e:{for(var h=oe,d=Jn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){oe=Pn(h.nextSibling),o=h.data==="F!";break t}}hs(o)}o=!1}o&&(i=a[0])}}return a=tn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hg,lastRenderedState:i},a.queue=o,a=up.bind(null,bt,o),o.dispatch=a,o=af(!1),d=ff.bind(null,bt,!1,o.queue),o=tn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=B0.bind(null,bt,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Fg(e){var i=pe();return Qg(i,Kt,e)}function Qg(e,i,a){if(i=rf(e,i,Hg)[0],e=Cu(Ii)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=ko(i)}catch(v){throw v===Oo?Au:v}else o=i;i=pe();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(bt.flags|=2048,ca(9,Du(),q0.bind(null,h,a),null)),[o,d,e]}function q0(e,i){e.action=i}function Kg(e){var i=pe(),a=Kt;if(a!==null)return Qg(i,a,e);pe(),i=i.memoizedState,a=pe();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function ca(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=bt.updateQueue,i===null&&(i=ef(),bt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Du(){return{destroy:void 0,resource:void 0}}function Yg(){return pe().memoizedState}function Ou(e,i,a,o){var h=tn();o=o===void 0?null:o,bt.flags|=e,h.memoizedState=ca(1|i,Du(),a,o)}function Uo(e,i,a,o){var h=pe();o=o===void 0?null:o;var d=h.memoizedState.inst;Kt!==null&&o!==null&&$h(o,Kt.memoizedState.deps)?h.memoizedState=ca(i,d,a,o):(bt.flags|=e,h.memoizedState=ca(1|i,d,a,o))}function Xg(e,i){Ou(8390656,8,e,i)}function $g(e,i){Uo(2048,8,e,i)}function Zg(e,i){return Uo(4,2,e,i)}function Jg(e,i){return Uo(4,4,e,i)}function Wg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function tp(e,i,a){a=a!=null?a.concat([e]):null,Uo(4,4,Wg.bind(null,i,e),a)}function lf(){}function ep(e,i){var a=pe();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&$h(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function np(e,i){var a=pe();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&$h(i,o[1]))return o[0];if(o=e(),gs){sn(!0);try{e()}finally{sn(!1)}}return a.memoizedState=[o,i],o}function uf(e,i,a){return a===void 0||(er&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=sy(),bt.lanes|=e,lr|=e,a)}function ip(e,i,a,o){return on(a,i)?a:oa.current!==null?(e=uf(e,a,o),on(e,i)||(De=!0),e):(er&42)===0?(De=!0,e.memoizedState=a):(e=sy(),bt.lanes|=e,lr|=e,i)}function rp(e,i,a,o,h){var d=et.p;et.p=d!==0&&8>d?d:8;var v=H.T,E={};H.T=E,ff(e,!1,i,a);try{var b=h(),L=H.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=U0(b,o);Lo(e,i,G,fn(e))}else Lo(e,i,o,fn(e))}catch(Q){Lo(e,i,{then:function(){},status:"rejected",reason:Q},fn())}finally{et.p=d,H.T=v}}function j0(){}function cf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=sp(e).queue;rp(e,h,i,ut,a===null?j0:function(){return ap(e),a(o)})}function sp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:ut},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ap(e){var i=sp(e).next.queue;Lo(e,i,{},fn())}function hf(){return He(nl)}function op(){return pe().memoizedState}function lp(){return pe().memoizedState}function H0(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=fn();e=Wi(a);var o=tr(i,e,a);o!==null&&(dn(o,i,a),Vo(o,i,a)),i={cache:Bh()},e.payload=i;return}i=i.return}}function G0(e,i,a){var o=fn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Nu(e)?cp(i,a):(a=Oh(e,i,a,o),a!==null&&(dn(a,e,o),hp(a,i,o)))}function up(e,i,a){var o=fn();Lo(e,i,a,o)}function Lo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nu(e))cp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,on(E,v))return mu(e,i,h,0),Jt===null&&du(),!1}catch{}finally{}if(a=Oh(e,i,h,o),a!==null)return dn(a,e,o),hp(a,i,o),!0}return!1}function ff(e,i,a,o){if(o={lane:2,revertLane:Gf(),action:o,hasEagerState:!1,eagerState:null,next:null},Nu(e)){if(i)throw Error(s(479))}else i=Oh(e,a,o,2),i!==null&&dn(i,e,2)}function Nu(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function cp(e,i){la=Ru=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function hp(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,so(e,a)}}var Vu={readContext:He,use:Iu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},fp={readContext:He,use:Iu,useCallback:function(e,i){return tn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:Xg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Ou(4194308,4,Wg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Ou(4194308,4,e,i)},useInsertionEffect:function(e,i){Ou(4,2,e,i)},useMemo:function(e,i){var a=tn();i=i===void 0?null:i;var o=e();if(gs){sn(!0);try{e()}finally{sn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=tn();if(a!==void 0){var h=a(i);if(gs){sn(!0);try{a(i)}finally{sn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=G0.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var i=tn();return e={current:e},i.memoizedState=e},useState:function(e){e=af(e);var i=e.queue,a=up.bind(null,bt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:lf,useDeferredValue:function(e,i){var a=tn();return uf(a,e,i)},useTransition:function(){var e=af(!1);return e=rp.bind(null,bt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=bt,h=tn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Jt===null)throw Error(s(349));(kt&124)!==0||Mg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Xg(xg.bind(null,o,d,e),[e]),o.flags|=2048,ca(9,Du(),Pg.bind(null,o,d,a,i),null),a},useId:function(){var e=tn(),i=Jt.identifierPrefix;if(Bt){var a=bi,o=Si;a=(o&~(1<<32-je(o)-1)).toString(32)+a,i="«"+i+"R"+a,a=wu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=L0++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:hf,useFormState:Gg,useActionState:Gg,useOptimistic:function(e){var i=tn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ff.bind(null,bt,!0,a),a.dispatch=i,[e,i]},useMemoCache:nf,useCacheRefresh:function(){return tn().memoizedState=H0.bind(null,bt)}},dp={readContext:He,use:Iu,useCallback:ep,useContext:He,useEffect:$g,useImperativeHandle:tp,useInsertionEffect:Zg,useLayoutEffect:Jg,useMemo:np,useReducer:Cu,useRef:Yg,useState:function(){return Cu(Ii)},useDebugValue:lf,useDeferredValue:function(e,i){var a=pe();return ip(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Cu(Ii)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:ko(e),i]},useSyncExternalStore:Vg,useId:op,useHostTransitionStatus:hf,useFormState:Fg,useActionState:Fg,useOptimistic:function(e,i){var a=pe();return Lg(a,Kt,e,i)},useMemoCache:nf,useCacheRefresh:lp},F0={readContext:He,use:Iu,useCallback:ep,useContext:He,useEffect:$g,useImperativeHandle:tp,useInsertionEffect:Zg,useLayoutEffect:Jg,useMemo:np,useReducer:sf,useRef:Yg,useState:function(){return sf(Ii)},useDebugValue:lf,useDeferredValue:function(e,i){var a=pe();return Kt===null?uf(a,e,i):ip(a,Kt.memoizedState,e,i)},useTransition:function(){var e=sf(Ii)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:ko(e),i]},useSyncExternalStore:Vg,useId:op,useHostTransitionStatus:hf,useFormState:Kg,useActionState:Kg,useOptimistic:function(e,i){var a=pe();return Kt!==null?Lg(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:nf,useCacheRefresh:lp},ha=null,zo=0;function Mu(e){var i=zo;return zo+=1,ha===null&&(ha=[]),bg(ha,e,i)}function Bo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Pu(e,i){throw i.$$typeof===I?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function mp(e){var i=e._init;return i(e._payload)}function gp(e){function i(x,O){if(e){var U=x.deletions;U===null?(x.deletions=[O],x.flags|=16):U.push(O)}}function a(x,O){if(!e)return null;for(;O!==null;)i(x,O),O=O.sibling;return null}function o(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function h(x,O){return x=Ai(x,O),x.index=0,x.sibling=null,x}function d(x,O,U){return x.index=U,e?(U=x.alternate,U!==null?(U=U.index,U<O?(x.flags|=67108866,O):U):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function v(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,O,U,F){return O===null||O.tag!==6?(O=Vh(U,x.mode,F),O.return=x,O):(O=h(O,U),O.return=x,O)}function b(x,O,U,F){var rt=U.type;return rt===$?G(x,O,U.props.children,F,U.key):O!==null&&(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&mp(rt)===O.type)?(O=h(O,U.props),Bo(O,U),O.return=x,O):(O=pu(U.type,U.key,U.props,null,x.mode,F),Bo(O,U),O.return=x,O)}function L(x,O,U,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Mh(U,x.mode,F),O.return=x,O):(O=h(O,U.children||[]),O.return=x,O)}function G(x,O,U,F,rt){return O===null||O.tag!==7?(O=os(U,x.mode,F,rt),O.return=x,O):(O=h(O,U),O.return=x,O)}function Q(x,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Vh(""+O,x.mode,U),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case N:return U=pu(O.type,O.key,O.props,null,x.mode,U),Bo(U,O),U.return=x,U;case j:return O=Mh(O,x.mode,U),O.return=x,O;case S:var F=O._init;return O=F(O._payload),Q(x,O,U)}if(Wt(O)||C(O))return O=os(O,x.mode,U,null),O.return=x,O;if(typeof O.then=="function")return Q(x,Mu(O),U);if(O.$$typeof===lt)return Q(x,Eu(x,O),U);Pu(x,O)}return null}function z(x,O,U,F){var rt=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return rt!==null?null:E(x,O,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case N:return U.key===rt?b(x,O,U,F):null;case j:return U.key===rt?L(x,O,U,F):null;case S:return rt=U._init,U=rt(U._payload),z(x,O,U,F)}if(Wt(U)||C(U))return rt!==null?null:G(x,O,U,F,null);if(typeof U.then=="function")return z(x,O,Mu(U),F);if(U.$$typeof===lt)return z(x,O,Eu(x,U),F);Pu(x,U)}return null}function B(x,O,U,F,rt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(U)||null,E(O,x,""+F,rt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case N:return x=x.get(F.key===null?U:F.key)||null,b(O,x,F,rt);case j:return x=x.get(F.key===null?U:F.key)||null,L(O,x,F,rt);case S:var It=F._init;return F=It(F._payload),B(x,O,U,F,rt)}if(Wt(F)||C(F))return x=x.get(U)||null,G(O,x,F,rt,null);if(typeof F.then=="function")return B(x,O,U,Mu(F),rt);if(F.$$typeof===lt)return B(x,O,U,Eu(O,F),rt);Pu(O,F)}return null}function yt(x,O,U,F){for(var rt=null,It=null,ot=O,mt=O=0,Ne=null;ot!==null&&mt<U.length;mt++){ot.index>mt?(Ne=ot,ot=null):Ne=ot.sibling;var Lt=z(x,ot,U[mt],F);if(Lt===null){ot===null&&(ot=Ne);break}e&&ot&&Lt.alternate===null&&i(x,ot),O=d(Lt,O,mt),It===null?rt=Lt:It.sibling=Lt,It=Lt,ot=Ne}if(mt===U.length)return a(x,ot),Bt&&us(x,mt),rt;if(ot===null){for(;mt<U.length;mt++)ot=Q(x,U[mt],F),ot!==null&&(O=d(ot,O,mt),It===null?rt=ot:It.sibling=ot,It=ot);return Bt&&us(x,mt),rt}for(ot=o(ot);mt<U.length;mt++)Ne=B(ot,x,mt,U[mt],F),Ne!==null&&(e&&Ne.alternate!==null&&ot.delete(Ne.key===null?mt:Ne.key),O=d(Ne,O,mt),It===null?rt=Ne:It.sibling=Ne,It=Ne);return e&&ot.forEach(function(yr){return i(x,yr)}),Bt&&us(x,mt),rt}function dt(x,O,U,F){if(U==null)throw Error(s(151));for(var rt=null,It=null,ot=O,mt=O=0,Ne=null,Lt=U.next();ot!==null&&!Lt.done;mt++,Lt=U.next()){ot.index>mt?(Ne=ot,ot=null):Ne=ot.sibling;var yr=z(x,ot,Lt.value,F);if(yr===null){ot===null&&(ot=Ne);break}e&&ot&&yr.alternate===null&&i(x,ot),O=d(yr,O,mt),It===null?rt=yr:It.sibling=yr,It=yr,ot=Ne}if(Lt.done)return a(x,ot),Bt&&us(x,mt),rt;if(ot===null){for(;!Lt.done;mt++,Lt=U.next())Lt=Q(x,Lt.value,F),Lt!==null&&(O=d(Lt,O,mt),It===null?rt=Lt:It.sibling=Lt,It=Lt);return Bt&&us(x,mt),rt}for(ot=o(ot);!Lt.done;mt++,Lt=U.next())Lt=B(ot,x,mt,Lt.value,F),Lt!==null&&(e&&Lt.alternate!==null&&ot.delete(Lt.key===null?mt:Lt.key),O=d(Lt,O,mt),It===null?rt=Lt:It.sibling=Lt,It=Lt);return e&&ot.forEach(function(QA){return i(x,QA)}),Bt&&us(x,mt),rt}function Xt(x,O,U,F){if(typeof U=="object"&&U!==null&&U.type===$&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case N:t:{for(var rt=U.key;O!==null;){if(O.key===rt){if(rt=U.type,rt===$){if(O.tag===7){a(x,O.sibling),F=h(O,U.props.children),F.return=x,x=F;break t}}else if(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&mp(rt)===O.type){a(x,O.sibling),F=h(O,U.props),Bo(F,U),F.return=x,x=F;break t}a(x,O);break}else i(x,O);O=O.sibling}U.type===$?(F=os(U.props.children,x.mode,F,U.key),F.return=x,x=F):(F=pu(U.type,U.key,U.props,null,x.mode,F),Bo(F,U),F.return=x,x=F)}return v(x);case j:t:{for(rt=U.key;O!==null;){if(O.key===rt)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(x,O.sibling),F=h(O,U.children||[]),F.return=x,x=F;break t}else{a(x,O);break}else i(x,O);O=O.sibling}F=Mh(U,x.mode,F),F.return=x,x=F}return v(x);case S:return rt=U._init,U=rt(U._payload),Xt(x,O,U,F)}if(Wt(U))return yt(x,O,U,F);if(C(U)){if(rt=C(U),typeof rt!="function")throw Error(s(150));return U=rt.call(U),dt(x,O,U,F)}if(typeof U.then=="function")return Xt(x,O,Mu(U),F);if(U.$$typeof===lt)return Xt(x,O,Eu(x,U),F);Pu(x,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(x,O.sibling),F=h(O,U),F.return=x,x=F):(a(x,O),F=Vh(U,x.mode,F),F.return=x,x=F),v(x)):a(x,O)}return function(x,O,U,F){try{zo=0;var rt=Xt(x,O,U,F);return ha=null,rt}catch(ot){if(ot===Oo||ot===Au)throw ot;var It=ln(29,ot,null,x.mode);return It.lanes=F,It.return=x,It}finally{}}}var fa=gp(!0),pp=gp(!1),Rn=Z(null),Wn=null;function nr(e){var i=e.alternate;J(Se,Se.current&1),J(Rn,e),Wn===null&&(i===null||oa.current!==null||i.memoizedState!==null)&&(Wn=e)}function yp(e){if(e.tag===22){if(J(Se,Se.current),J(Rn,e),Wn===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Wn=e)}}else ir()}function ir(){J(Se,Se.current),J(Rn,Rn.current)}function Ci(e){nt(Rn),Wn===e&&(Wn=null),nt(Se)}var Se=Z(0);function xu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||nd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function df(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var mf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=fn(),h=Wi(o);h.payload=i,a!=null&&(h.callback=a),i=tr(e,h,o),i!==null&&(dn(i,e,o),Vo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=fn(),h=Wi(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=tr(e,h,o),i!==null&&(dn(i,e,o),Vo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=fn(),o=Wi(a);o.tag=2,i!=null&&(o.callback=i),i=tr(e,o,a),i!==null&&(dn(i,e,a),Vo(i,e,a))}};function _p(e,i,a,o,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Ao(a,o)||!Ao(h,d):!0}function vp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&mf.enqueueReplaceState(i,i.state,null)}function ps(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var ku=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ep(e){ku(e)}function Tp(e){console.error(e)}function Ap(e){ku(e)}function Uu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Sp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function gf(e,i,a){return a=Wi(a),a.tag=3,a.payload={element:null},a.callback=function(){Uu(e,i)},a}function bp(e){return e=Wi(e),e.tag=3,e}function Rp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){Sp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Sp(i,a,o),typeof h!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function Q0(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Io(i,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 13:return Wn===null?zf():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Hh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),qf(e,o,h)),!1;case 22:return a.flags|=65536,o===Hh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),qf(e,o,h)),!1}throw Error(s(435,a.tag))}return qf(e,o,h),zf(),!1}if(Bt)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==kh&&(e=Error(s(422),{cause:o}),wo(Tn(e,a)))):(o!==kh&&(i=Error(s(423),{cause:o}),wo(Tn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Tn(o,a),h=gf(e.stateNode,o,h),Qh(e,h),le!==4&&(le=2)),!1;var d=Error(s(520),{cause:o});if(d=Tn(d,a),Ko===null?Ko=[d]:Ko.push(d),le!==4&&(le=2),i===null)return!0;o=Tn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=gf(a.stateNode,o,e),Qh(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ur===null||!ur.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=bp(h),Rp(h,e,a,o),Qh(a,h),!1}a=a.return}while(a!==null);return!1}var wp=Error(s(461)),De=!1;function xe(e,i,a,o){i.child=e===null?pp(i,null,a,o):fa(i,e.child,a,o)}function Ip(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return ds(i),o=Zh(e,i,a,v,d,h),E=Jh(),e!==null&&!De?(Wh(e,i,h),Di(e,i,h)):(Bt&&E&&Ph(i),i.flags|=1,xe(e,i,o,h),i.child)}function Cp(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!Nh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Dp(e,i,d,o,h)):(e=pu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Sf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ao,a(v,o)&&e.ref===i.ref)return Di(e,i,h)}return i.flags|=1,e=Ai(d,o),e.ref=i.ref,e.return=i,i.child=e}function Dp(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(Ao(d,o)&&e.ref===i.ref)if(De=!1,i.pendingProps=o=d,Sf(e,h))(e.flags&131072)!==0&&(De=!0);else return i.lanes=e.lanes,Di(e,i,h)}return pf(e,i,a,o,h)}function Op(e,i,a){var o=i.pendingProps,h=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return Np(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tu(i,d!==null?d.cachePool:null),d!==null?Dg(i,d):Yh(),yp(i);else return i.lanes=i.childLanes=536870912,Np(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Tu(i,d.cachePool),Dg(i,d),ir(),i.memoizedState=null):(e!==null&&Tu(i,null),Yh(),ir());return xe(e,i,h,a),i.child}function Np(e,i,a,o){var h=jh();return h=h===null?null:{parent:Ae._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Tu(i,null),Yh(),yp(i),e!==null&&Io(e,i,o,!0),null}function Lu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function pf(e,i,a,o,h){return ds(i),a=Zh(e,i,a,o,void 0,h),o=Jh(),e!==null&&!De?(Wh(e,i,h),Di(e,i,h)):(Bt&&o&&Ph(i),i.flags|=1,xe(e,i,a,h),i.child)}function Vp(e,i,a,o,h,d){return ds(i),i.updateQueue=null,a=Ng(i,o,a,h),Og(e),o=Jh(),e!==null&&!De?(Wh(e,i,d),Di(e,i,d)):(Bt&&o&&Ph(i),i.flags|=1,xe(e,i,a,d),i.child)}function Mp(e,i,a,o,h){if(ds(i),i.stateNode===null){var d=na,v=a.contextType;typeof v=="object"&&v!==null&&(d=He(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=mf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Gh(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?He(v):na,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(df(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&mf.enqueueReplaceState(d,d.state,null),Po(i,o,d,h),Mo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,b=ps(a,E);d.props=b;var L=d.context,G=a.contextType;v=na,typeof G=="object"&&G!==null&&(v=He(G));var Q=a.getDerivedStateFromProps;G=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||L!==v)&&vp(i,d,o,v),Ji=!1;var z=i.memoizedState;d.state=z,Po(i,o,d,h),Mo(),L=i.memoizedState,E||z!==L||Ji?(typeof Q=="function"&&(df(i,a,Q,o),L=i.memoizedState),(b=Ji||_p(i,a,b,o,z,L,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=L),d.props=o,d.state=L,d.context=v,o=b):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Fh(e,i),v=i.memoizedProps,G=ps(a,v),d.props=G,Q=i.pendingProps,z=d.context,L=a.contextType,b=na,typeof L=="object"&&L!==null&&(b=He(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Q||z!==b)&&vp(i,d,o,b),Ji=!1,z=i.memoizedState,d.state=z,Po(i,o,d,h),Mo();var B=i.memoizedState;v!==Q||z!==B||Ji||e!==null&&e.dependencies!==null&&vu(e.dependencies)?(typeof E=="function"&&(df(i,a,E,o),B=i.memoizedState),(G=Ji||_p(i,a,G,o,z,B,b)||e!==null&&e.dependencies!==null&&vu(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,B,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,B,b)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),d.props=o,d.state=B,d.context=b,o=G):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,Lu(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=fa(i,e.child,null,h),i.child=fa(i,null,a,h)):xe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Di(e,i,h),e}function Pp(e,i,a,o){return Ro(),i.flags|=256,xe(e,i,a,o),i.child}var yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _f(e){return{baseLanes:e,cachePool:Tg()}}function vf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=wn),e}function xp(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?nr(i):ir(),Bt){var E=oe,b;if(b=E){t:{for(b=E,E=Jn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Pn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(i.memoizedState={dehydrated:E,treeContext:ls!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},b=ln(18,null,null,0),b.stateNode=E,b.return=i,i.child=b,We=i,oe=null,b=!0):b=!1}b||hs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return nd(E)?i.lanes=32:i.lanes=536870912,null;Ci(i)}return E=o.children,o=o.fallback,h?(ir(),h=i.mode,E=zu({mode:"hidden",children:E},h),o=os(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=_f(a),h.childLanes=vf(e,v,a),i.memoizedState=yf,o):(nr(i),Ef(i,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(d)i.flags&256?(nr(i),i.flags&=-257,i=Tf(e,i,a)):i.memoizedState!==null?(ir(),i.child=e.child,i.flags|=128,i=null):(ir(),h=o.fallback,E=i.mode,o=zu({mode:"visible",children:o.children},E),h=os(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,fa(i,e.child,null,a),o=i.child,o.memoizedState=_f(a),o.childLanes=vf(e,v,a),i.memoizedState=yf,i=h);else if(nr(i),nd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,o=Error(s(419)),o.stack="",o.digest=v,wo({value:o,source:null,stack:null}),i=Tf(e,i,a)}else if(De||Io(e,i,a,!1),v=(a&e.childLanes)!==0,De||v){if(v=Jt,v!==null&&(o=a&-a,o=(o&42)!==0?1:Gi(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,ea(e,o),dn(v,e,o),wp;E.data==="$?"||zf(),i=Tf(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=b.treeContext,oe=Pn(E.nextSibling),We=i,Bt=!0,cs=null,Jn=!1,e!==null&&(Sn[bn++]=Si,Sn[bn++]=bi,Sn[bn++]=ls,Si=e.id,bi=e.overflow,ls=i),i=Ef(i,o.children),i.flags|=4096);return i}return h?(ir(),h=o.fallback,E=i.mode,b=e.child,L=b.sibling,o=Ai(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=Ai(L,h):(h=os(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=_f(a):(b=E.cachePool,b!==null?(L=Ae._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=Tg(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=vf(e,v,a),i.memoizedState=yf,o):(nr(i),a=e.child,e=a.sibling,a=Ai(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Ef(e,i){return i=zu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function zu(e,i){return e=ln(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Tf(e,i,a){return fa(i,e.child,null,a),e=Ef(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function kp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Lh(e.return,i,a)}function Af(e,i,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Up(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(xe(e,i,o.children,a),o=Se.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kp(e,a,i);else if(e.tag===19)kp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(J(Se,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&xu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Af(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&xu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Af(i,!0,a,null,d);break;case"together":Af(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Di(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),lr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Io(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ai(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ai(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Sf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&vu(e)))}function K0(e,i,a){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),Zi(i,Ae,e.memoizedState.cache),Ro();break;case 27:case 5:Hi(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:Zi(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(nr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?xp(e,i,a):(nr(i),e=Di(e,i,a),e!==null?e.sibling:null);nr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Io(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Up(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Se,Se.current),o)break;return null;case 22:case 23:return i.lanes=0,Op(e,i,a);case 24:Zi(i,Ae,e.memoizedState.cache)}return Di(e,i,a)}function Lp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)De=!0;else{if(!Sf(e,a)&&(i.flags&128)===0)return De=!1,K0(e,i,a);De=(e.flags&131072)!==0}else De=!1,Bt&&(i.flags&1048576)!==0&&mg(i,_u,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Nh(o)?(e=ps(o,e),i.tag=1,i=Mp(null,i,o,e,a)):(i.tag=0,i=pf(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===Ct){i.tag=11,i=Ip(null,i,o,e,a);break t}else if(h===M){i.tag=14,i=Cp(null,i,o,e,a);break t}}throw i=se(o)||o,Error(s(306,i,""))}}return i;case 0:return pf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=ps(o,i.pendingProps),Mp(e,i,o,h,a);case 3:t:{if(Zt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,Fh(e,i),Po(i,o,null,a);var v=i.memoizedState;if(o=v.cache,Zi(i,Ae,o),o!==d.cache&&zh(i,[Ae],a,!0),Mo(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Pp(e,i,o,a);break t}else if(o!==h){h=Tn(Error(s(424)),i),wo(h),i=Pp(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=Pn(e.firstChild),We=i,Bt=!0,cs=null,Jn=!0,a=pp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ro(),o===h){i=Di(e,i,a);break t}xe(e,i,o,a)}i=i.child}return i;case 26:return Lu(e,i),e===null?(a=jy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,o=Wu(Et.current).createElement(a),o[ve]=i,o[de]=e,Ue(o,a,e),ue(o),i.stateNode=o):i.memoizedState=jy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Hi(i),e===null&&Bt&&(o=i.stateNode=zy(i.type,i.pendingProps,Et.current),We=i,Jn=!0,h=oe,fr(i.type)?(id=h,oe=Pn(o.firstChild)):oe=h),xe(e,i,i.pendingProps.children,a),Lu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=o=oe)&&(o=TA(o,i.type,i.pendingProps,Jn),o!==null?(i.stateNode=o,We=i,oe=Pn(o.firstChild),Jn=!1,h=!0):h=!1),h||hs(i)),Hi(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,Wf(h,d)?o=null:v!==null&&Wf(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Zh(e,i,z0,null,null,a),nl._currentValue=h),Lu(e,i),xe(e,i,o,a),i.child;case 6:return e===null&&Bt&&((e=a=oe)&&(a=AA(a,i.pendingProps,Jn),a!==null?(i.stateNode=a,We=i,oe=null,e=!0):e=!1),e||hs(i)),null;case 13:return xp(e,i,a);case 4:return Zt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=fa(i,null,o,a):xe(e,i,o,a),i.child;case 11:return Ip(e,i,i.type,i.pendingProps,a);case 7:return xe(e,i,i.pendingProps,a),i.child;case 8:return xe(e,i,i.pendingProps.children,a),i.child;case 12:return xe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Zi(i,i.type,o.value),xe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,ds(i),h=He(h),o=o(h),i.flags|=1,xe(e,i,o,a),i.child;case 14:return Cp(e,i,i.type,i.pendingProps,a);case 15:return Dp(e,i,i.type,i.pendingProps,a);case 19:return Up(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=zu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ai(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Op(e,i,a);case 24:return ds(i),o=He(Ae),e===null?(h=jh(),h===null&&(h=Jt,d=Bh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},Gh(i),Zi(i,Ae,h)):((e.lanes&a)!==0&&(Fh(e,i),Po(i,null,null,a),Mo()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Zi(i,Ae,o)):(o=d.cache,Zi(i,Ae,o),o!==h.cache&&zh(i,[Ae],a,!0))),xe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Oi(e){e.flags|=4}function zp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ky(i)){if(i=Rn.current,i!==null&&((kt&4194048)===kt?Wn!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==Wn))throw No=Hh,Ag;e.flags|=8192}}function Bu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?io():536870912,e.lanes|=i,pa|=i)}function qo(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function Y0(e,i,a){var o=i.pendingProps;switch(xh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),wi(Ae),Bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(bo(i)?Oi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,yg())),ie(i),null;case 26:return a=i.memoizedState,e===null?(Oi(i),a!==null?(ie(i),zp(i,a)):(ie(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Oi(i),ie(i),zp(i,a)):(ie(i),i.flags&=-16777217):(e.memoizedProps!==o&&Oi(i),ie(i),i.flags&=-16777217),null;case 27:ui(i),a=Et.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Oi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ie(i),null}e=ht.current,bo(i)?gg(i):(e=zy(h,o,a),i.stateNode=e,Oi(i))}return ie(i),null;case 5:if(ui(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Oi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ie(i),null}if(e=ht.current,bo(i))gg(i);else{switch(h=Wu(Et.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[ve]=i,e[de]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Ue(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Oi(i)}}return ie(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Oi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=Et.current,bo(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=We,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Vy(e.nodeValue,a)),e||hs(i)}else e=Wu(e).createTextNode(o),e[ve]=i,i.stateNode=e}return ie(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=bo(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=i}else Ro(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else h=yg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ci(i),i):(Ci(i),null)}if(Ci(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Bu(i,i.updateQueue),ie(i),null;case 4:return Bn(),e===null&&Yf(i.stateNode.containerInfo),ie(i),null;case 10:return wi(i.type),ie(i),null;case 19:if(nt(Se),h=i.memoizedState,h===null)return ie(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)qo(h,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=xu(e),d!==null){for(i.flags|=128,qo(h,!1),e=d.updateQueue,i.updateQueue=e,Bu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)dg(a,e),a=a.sibling;return J(Se,Se.current&1|2),i.child}e=e.sibling}h.tail!==null&&gn()>Hu&&(i.flags|=128,o=!0,qo(h,!1),i.lanes=4194304)}else{if(!o)if(e=xu(d),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Bu(i,e),qo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return ie(i),null}else 2*gn()-h.renderingStartTime>Hu&&a!==536870912&&(i.flags|=128,o=!0,qo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=gn(),i.sibling=null,e=Se.current,J(Se,o?e&1|2:e&1),i):(ie(i),null);case 22:case 23:return Ci(i),Xh(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&Bu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&nt(ms),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),wi(Ae),ie(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function X0(e,i){switch(xh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return wi(Ae),Bn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ui(i),null;case 13:if(Ci(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ro()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(Se),null;case 4:return Bn(),null;case 10:return wi(i.type),null;case 22:case 23:return Ci(i),Xh(),e!==null&&nt(ms),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return wi(Ae),null;case 25:return null;default:return null}}function Bp(e,i){switch(xh(i),i.tag){case 3:wi(Ae),Bn();break;case 26:case 27:case 5:ui(i);break;case 4:Bn();break;case 13:Ci(i);break;case 19:nt(Se);break;case 10:wi(i.type);break;case 22:case 23:Ci(i),Xh(),e!==null&&nt(ms);break;case 24:wi(Ae)}}function jo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){$t(i,i.return,E)}}function rr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var b=a,L=E;try{L()}catch(G){$t(h,b,G)}}}o=o.next}while(o!==d)}}catch(G){$t(i,i.return,G)}}function qp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Cg(i,a)}catch(o){$t(e,e.return,o)}}}function jp(e,i,a){a.props=ps(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,i,o)}}function Ho(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,i,h)}}function ti(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function Hp(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function bf(e,i,a){try{var o=e.stateNode;pA(o,e.type,a,i),o[de]=i}catch(h){$t(e,e.return,h)}}function Gp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fr(e.type)||e.tag===4}function Rf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Gp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ju));else if(o!==4&&(o===27&&fr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(wf(e,i,a),e=e.sibling;e!==null;)wf(e,i,a),e=e.sibling}function qu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&fr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(qu(e,i,a),e=e.sibling;e!==null;)qu(e,i,a),e=e.sibling}function Fp(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ue(i,o,a),i[ve]=e,i[de]=a}catch(d){$t(e,e.return,d)}}var Ni=!1,he=!1,If=!1,Qp=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function $0(e,i){if(e=e.containerInfo,Zf=sc,e=ig(e),bh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,b=-1,L=0,G=0,Q=e,z=null;e:for(;;){for(var B;Q!==a||h!==0&&Q.nodeType!==3||(E=v+h),Q!==d||o!==0&&Q.nodeType!==3||(b=v+o),Q.nodeType===3&&(v+=Q.nodeValue.length),(B=Q.firstChild)!==null;)z=Q,Q=B;for(;;){if(Q===e)break e;if(z===a&&++L===h&&(E=v),z===d&&++G===o&&(b=v),(B=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jf={focusedElem:e,selectionRange:a},sc=!1,Oe=i;Oe!==null;)if(i=Oe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Oe=e;else for(;Oe!==null;){switch(i=Oe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var yt=ps(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(yt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){$t(a,a.return,dt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)ed(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ed(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Oe=e;break}Oe=i.return}}function Kp(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:sr(e,a),o&4&&jo(5,a);break;case 1:if(sr(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=ps(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}o&64&&qp(a),o&512&&Ho(a,a.return);break;case 3:if(sr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Cg(e,i)}catch(v){$t(a,a.return,v)}}break;case 27:i===null&&o&4&&Fp(a);case 26:case 5:sr(e,a),i===null&&o&4&&Hp(a),o&512&&Ho(a,a.return);break;case 12:sr(e,a);break;case 13:sr(e,a),o&4&&$p(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=sA.bind(null,a),SA(e,a))));break;case 22:if(o=a.memoizedState!==null||Ni,!o){i=i!==null&&i.memoizedState!==null||he,h=Ni;var d=he;Ni=o,(he=i)&&!d?ar(e,a,(a.subtreeFlags&8772)!==0):sr(e,a),Ni=h,he=d}break;case 30:break;default:sr(e,a)}}function Yp(e){var i=e.alternate;i!==null&&(e.alternate=null,Yp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ki(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,en=!1;function Vi(e,i,a){for(a=a.child;a!==null;)Xp(e,i,a),a=a.sibling}function Xp(e,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:he||ti(a,i),Vi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:he||ti(a,i);var o=ne,h=en;fr(a.type)&&(ne=a.stateNode,en=!1),Vi(e,i,a),Jo(a.stateNode),ne=o,en=h;break;case 5:he||ti(a,i);case 6:if(o=ne,h=en,ne=null,Vi(e,i,a),ne=o,en=h,ne!==null)if(en)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{ne.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:ne!==null&&(en?(e=ne,Uy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),al(e)):Uy(ne,a.stateNode));break;case 4:o=ne,h=en,ne=a.stateNode.containerInfo,en=!0,Vi(e,i,a),ne=o,en=h;break;case 0:case 11:case 14:case 15:he||rr(2,a,i),he||rr(4,a,i),Vi(e,i,a);break;case 1:he||(ti(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&jp(a,i,o)),Vi(e,i,a);break;case 21:Vi(e,i,a);break;case 22:he=(o=he)||a.memoizedState!==null,Vi(e,i,a),he=o;break;default:Vi(e,i,a)}}function $p(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{al(e)}catch(a){$t(i,i.return,a)}}function Z0(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Qp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Qp),i;default:throw Error(s(435,e.tag))}}function Cf(e,i){var a=Z0(e);i.forEach(function(o){var h=aA.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function un(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(fr(E.type)){ne=E.stateNode,en=!1;break t}break;case 5:ne=E.stateNode,en=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(ne===null)throw Error(s(160));Xp(d,v,h),ne=null,en=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Zp(i,e),i=i.sibling}var Mn=null;function Zp(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(i,e),cn(e),o&4&&(rr(3,e,e.return),jo(3,e),rr(5,e,e.return));break;case 1:un(i,e),cn(e),o&512&&(he||a===null||ti(a,a.return)),o&64&&Ni&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Mn;if(un(i,e),cn(e),o&512&&(he||a===null||ti(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Fr]||d[ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Ue(d,o,a),d[ve]=e,ue(d),o=d;break t;case"link":var v=Fy("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(o),Ue(d,o,a),h.head.appendChild(d);break;case"meta":if(v=Fy("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(o),Ue(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[ve]=e,ue(d),o=d}e.stateNode=o}else Qy(h,e.type,e.stateNode);else e.stateNode=Gy(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Qy(h,e.type,e.stateNode):Gy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&bf(e,e.memoizedProps,a.memoizedProps)}break;case 27:un(i,e),cn(e),o&512&&(he||a===null||ti(a,a.return)),a!==null&&o&4&&bf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(un(i,e),cn(e),o&512&&(he||a===null||ti(a,a.return)),e.flags&32){h=e.stateNode;try{yn(h,"")}catch(B){$t(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,bf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(If=!0);break;case 6:if(un(i,e),cn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){$t(e,e.return,B)}}break;case 3:if(nc=null,h=Mn,Mn=tc(i.containerInfo),un(i,e),Mn=h,cn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{al(i.containerInfo)}catch(B){$t(e,e.return,B)}If&&(If=!1,Jp(e));break;case 4:o=Mn,Mn=tc(e.stateNode.containerInfo),un(i,e),cn(e),Mn=o;break;case 12:un(i,e),cn(e);break;case 13:un(i,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pf=gn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Cf(e,o)));break;case 22:h=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,L=Ni,G=he;if(Ni=L||h,he=G||b,un(i,e),he=G,Ni=L,cn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||b||Ni||he||ys(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(d=b.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(b,b.return,B)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){$t(b,b.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Cf(e,a))));break;case 19:un(i,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Cf(e,o)));break;case 30:break;case 21:break;default:un(i,e),cn(e)}}function cn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Gp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Rf(e);qu(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(yn(v,""),a.flags&=-33);var E=Rf(e);qu(e,E,v);break;case 3:case 4:var b=a.stateNode.containerInfo,L=Rf(e);wf(e,L,b);break;default:throw Error(s(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Jp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Jp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function sr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Kp(e,i.alternate,i),i=i.sibling}function ys(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:rr(4,i,i.return),ys(i);break;case 1:ti(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&jp(i,i.return,a),ys(i);break;case 27:Jo(i.stateNode);case 26:case 5:ti(i,i.return),ys(i);break;case 22:i.memoizedState===null&&ys(i);break;case 30:ys(i);break;default:ys(i)}e=e.sibling}}function ar(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:ar(h,d,a),jo(4,d);break;case 1:if(ar(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){$t(o,o.return,L)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Ig(b[h],E)}catch(L){$t(o,o.return,L)}}a&&v&64&&qp(d),Ho(d,d.return);break;case 27:Fp(d);case 26:case 5:ar(h,d,a),a&&o===null&&v&4&&Hp(d),Ho(d,d.return);break;case 12:ar(h,d,a);break;case 13:ar(h,d,a),a&&v&4&&$p(h,d);break;case 22:d.memoizedState===null&&ar(h,d,a),Ho(d,d.return);break;case 30:break;default:ar(h,d,a)}i=i.sibling}}function Df(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Co(a))}function Of(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Co(e))}function ei(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Wp(e,i,a,o),i=i.sibling}function Wp(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(e,i,a,o),h&2048&&jo(9,i);break;case 1:ei(e,i,a,o);break;case 3:ei(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Co(e)));break;case 12:if(h&2048){ei(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){$t(i,i.return,b)}}else ei(e,i,a,o);break;case 13:ei(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ei(e,i,a,o):Go(e,i):d._visibility&2?ei(e,i,a,o):(d._visibility|=2,da(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Df(v,i);break;case 24:ei(e,i,a,o),h&2048&&Of(i.alternate,i);break;default:ei(e,i,a,o)}}function da(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,b=o,L=v.flags;switch(v.tag){case 0:case 11:case 15:da(d,v,E,b,h),jo(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?da(d,v,E,b,h):Go(d,v):(G._visibility|=2,da(d,v,E,b,h)),h&&L&2048&&Df(v.alternate,v);break;case 24:da(d,v,E,b,h),h&&L&2048&&Of(v.alternate,v);break;default:da(d,v,E,b,h)}i=i.sibling}}function Go(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Go(a,o),h&2048&&Df(o.alternate,o);break;case 24:Go(a,o),h&2048&&Of(o.alternate,o);break;default:Go(a,o)}i=i.sibling}}var Fo=8192;function ma(e){if(e.subtreeFlags&Fo)for(e=e.child;e!==null;)ty(e),e=e.sibling}function ty(e){switch(e.tag){case 26:ma(e),e.flags&Fo&&e.memoizedState!==null&&kA(Mn,e.memoizedState,e.memoizedProps);break;case 5:ma(e);break;case 3:case 4:var i=Mn;Mn=tc(e.stateNode.containerInfo),ma(e),Mn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Fo,Fo=16777216,ma(e),Fo=i):ma(e));break;default:ma(e)}}function ey(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Qo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Oe=o,iy(o,e)}ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ny(e),e=e.sibling}function ny(e){switch(e.tag){case 0:case 11:case 15:Qo(e),e.flags&2048&&rr(9,e,e.return);break;case 3:Qo(e);break;case 12:Qo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ju(e)):Qo(e);break;default:Qo(e)}}function ju(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Oe=o,iy(o,e)}ey(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:rr(8,i,i.return),ju(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ju(i));break;default:ju(i)}e=e.sibling}}function iy(e,i){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:rr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Co(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Oe=o;else t:for(a=e;Oe!==null;){o=Oe;var h=o.sibling,d=o.return;if(Yp(o),o===a){Oe=null;break t}if(h!==null){h.return=d,Oe=h;break t}Oe=d}}}var J0={getCacheForType:function(e){var i=He(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},W0=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Ot=null,kt=0,Ft=0,hn=null,or=!1,ga=!1,Nf=!1,Mi=0,le=0,lr=0,_s=0,Vf=0,wn=0,pa=0,Ko=null,nn=null,Mf=!1,Pf=0,Hu=1/0,Gu=null,ur=null,ke=0,cr=null,ya=null,_a=0,xf=0,kf=null,ry=null,Yo=0,Uf=null;function fn(){if((Gt&2)!==0&&kt!==0)return kt&-kt;if(H.T!==null){var e=sa;return e!==0?e:Gf()}return Fi()}function sy(){wn===0&&(wn=(kt&536870912)===0||Bt?no():536870912);var e=Rn.current;return e!==null&&(e.flags|=32),wn}function dn(e,i,a){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(va(e,0),hr(e,kt,wn,!1)),hi(e,a),((Gt&2)===0||e!==Jt)&&(e===Jt&&((Gt&2)===0&&(_s|=a),le===4&&hr(e,kt,wn,!1)),ni(e))}function ay(e,i,a){if((Gt&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Gr(e,i),h=o?nA(e,i):Bf(e,i,!0),d=o;do{if(h===0){ga&&!o&&hr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!tA(a)){h=Bf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=Ko;var b=E.current.memoizedState.isDehydrated;if(b&&(va(E,v).flags|=256),v=Bf(E,v,!1),v!==2){if(Nf&&!b){E.errorRecoveryDisabledLanes|=d,_s|=d,h=4;break t}d=nn,nn=h,d!==null&&(nn===null?nn=d:nn.push.apply(nn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){va(e,0),hr(e,i,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:hr(o,i,wn,!or);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Pf+300-gn(),10<h)){if(hr(o,i,wn,!or),ks(o,0,!0)!==0)break t;o.timeoutHandle=xy(oy.bind(null,o,a,nn,Gu,Mf,i,wn,_s,pa,or,d,2,-0,0),h);break t}oy(o,a,nn,Gu,Mf,i,wn,_s,pa,or,d,0,-0,0)}}break}while(!0);ni(e)}function oy(e,i,a,o,h,d,v,E,b,L,G,Q,z,B){if(e.timeoutHandle=-1,Q=i.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(el={stylesheets:null,count:0,unsuspend:xA},ty(i),Q=UA(),Q!==null)){e.cancelPendingCommit=Q(my.bind(null,e,i,d,a,o,h,v,E,b,G,1,z,B)),hr(e,d,v,!L);return}my(e,i,d,a,o,h,v,E,b)}function tA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!on(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function hr(e,i,a,o){i&=~Vf,i&=~_s,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-je(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&qn(e,a,i)}function Fu(){return(Gt&6)===0?(Xo(0),!1):!0}function Lf(){if(Ot!==null){if(Ft===0)var e=Ot.return;else e=Ot,Ri=fs=null,tf(e),ha=null,zo=0,e=Ot;for(;e!==null;)Bp(e.alternate,e),e=e.return;Ot=null}}function va(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,_A(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Lf(),Jt=e,Ot=a=Ai(e.current,null),kt=i,Ft=0,hn=null,or=!1,ga=Gr(e,i),Nf=!1,pa=wn=Vf=_s=lr=le=0,nn=Ko=null,Mf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-je(o),d=1<<h;i|=e[h],o&=~d}return Mi=i,du(),a}function ly(e,i){bt=null,H.H=Vu,i===Oo||i===Au?(i=Rg(),Ft=3):i===Ag?(i=Rg(),Ft=4):Ft=i===wp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,hn=i,Ot===null&&(le=1,Uu(e,Tn(i,e.current)))}function uy(){var e=H.H;return H.H=Vu,e===null?Vu:e}function cy(){var e=H.A;return H.A=J0,e}function zf(){le=4,or||(kt&4194048)!==kt&&Rn.current!==null||(ga=!0),(lr&134217727)===0&&(_s&134217727)===0||Jt===null||hr(Jt,kt,wn,!1)}function Bf(e,i,a){var o=Gt;Gt|=2;var h=uy(),d=cy();(Jt!==e||kt!==i)&&(Gu=null,va(e,i)),i=!1;var v=le;t:do try{if(Ft!==0&&Ot!==null){var E=Ot,b=hn;switch(Ft){case 8:Lf(),v=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var L=Ft;if(Ft=0,hn=null,Ea(e,E,b,L),a&&ga){v=0;break t}break;default:L=Ft,Ft=0,hn=null,Ea(e,E,b,L)}}eA(),v=le;break}catch(G){ly(e,G)}while(!0);return i&&e.shellSuspendCounter++,Ri=fs=null,Gt=o,H.H=h,H.A=d,Ot===null&&(Jt=null,kt=0,du()),v}function eA(){for(;Ot!==null;)hy(Ot)}function nA(e,i){var a=Gt;Gt|=2;var o=uy(),h=cy();Jt!==e||kt!==i?(Gu=null,Hu=gn()+500,va(e,i)):ga=Gr(e,i);t:do try{if(Ft!==0&&Ot!==null){i=Ot;var d=hn;e:switch(Ft){case 1:Ft=0,hn=null,Ea(e,i,d,1);break;case 2:case 9:if(Sg(d)){Ft=0,hn=null,fy(i);break}i=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),ni(e)},d.then(i,i);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Sg(d)?(Ft=0,hn=null,fy(i)):(Ft=0,hn=null,Ea(e,i,d,7));break;case 5:var v=null;switch(Ot.tag){case 26:v=Ot.memoizedState;case 5:case 27:var E=Ot;if(!v||Ky(v)){Ft=0,hn=null;var b=E.sibling;if(b!==null)Ot=b;else{var L=E.return;L!==null?(Ot=L,Qu(L)):Ot=null}break e}}Ft=0,hn=null,Ea(e,i,d,5);break;case 6:Ft=0,hn=null,Ea(e,i,d,6);break;case 8:Lf(),le=6;break t;default:throw Error(s(462))}}iA();break}catch(G){ly(e,G)}while(!0);return Ri=fs=null,H.H=o,H.A=h,Gt=a,Ot!==null?0:(Jt=null,kt=0,du(),le)}function iA(){for(;Ot!==null&&!Ja();)hy(Ot)}function hy(e){var i=Lp(e.alternate,e,Mi);e.memoizedProps=e.pendingProps,i===null?Qu(e):Ot=i}function fy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Vp(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=Vp(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:tf(i);default:Bp(a,i),i=Ot=dg(i,Mi),i=Lp(a,i,Mi)}e.memoizedProps=e.pendingProps,i===null?Qu(e):Ot=i}function Ea(e,i,a,o){Ri=fs=null,tf(i),ha=null,zo=0;var h=i.return;try{if(Q0(e,h,i,a,kt)){le=1,Uu(e,Tn(a,e.current)),Ot=null;return}}catch(d){if(h!==null)throw Ot=h,d;le=1,Uu(e,Tn(a,e.current)),Ot=null;return}i.flags&32768?(Bt||o===1?e=!0:ga||(kt&536870912)!==0?e=!1:(or=e=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),dy(i,e)):Qu(i)}function Qu(e){var i=e;do{if((i.flags&32768)!==0){dy(i,or);return}e=i.return;var a=Y0(i.alternate,i,Mi);if(a!==null){Ot=a;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=e}while(i!==null);le===0&&(le=5)}function dy(e,i){do{var a=X0(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);le=6,Ot=null}function my(e,i,a,o,h,d,v,E,b){e.cancelPendingCommit=null;do Ku();while(ke!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Dh,ro(e,a,d,v,E,b),e===Jt&&(Ot=Jt=null,kt=0),ya=i,cr=e,_a=a,xf=d,kf=h,ry=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,oA(Br,function(){return vy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=et.p,et.p=2,v=Gt,Gt|=4;try{$0(e,i,a)}finally{Gt=v,et.p=h,H.T=o}}ke=1,gy(),py(),yy()}}function gy(){if(ke===1){ke=0;var e=cr,i=ya,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=Gt;Gt|=4;try{Zp(i,e);var d=Jf,v=ig(e.containerInfo),E=d.focusedElem,b=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&ng(E.ownerDocument.documentElement,E)){if(b!==null&&bh(E)){var L=b.start,G=b.end;if(G===void 0&&(G=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var B=z.getSelection(),yt=E.textContent.length,dt=Math.min(b.start,yt),Xt=b.end===void 0?dt:Math.min(b.end,yt);!B.extend&&dt>Xt&&(v=Xt,Xt=dt,dt=v);var x=eg(E,dt),O=eg(E,Xt);if(x&&O&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var U=Q.createRange();U.setStart(x.node,x.offset),B.removeAllRanges(),dt>Xt?(B.addRange(U),B.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),B.addRange(U))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}sc=!!Zf,Jf=Zf=null}finally{Gt=h,et.p=o,H.T=a}}e.current=i,ke=2}}function py(){if(ke===2){ke=0;var e=cr,i=ya,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=Gt;Gt|=4;try{Kp(e,i.alternate,i)}finally{Gt=h,et.p=o,H.T=a}}ke=3}}function yy(){if(ke===4||ke===3){ke=0,jl();var e=cr,i=ya,a=_a,o=ry;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ke=5:(ke=0,ya=cr=null,_y(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ur=null),Us(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ae,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=H.T,h=et.p,et.p=2,H.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];d(E.value,{componentStack:E.stack})}}finally{H.T=i,et.p=h}}(_a&3)!==0&&Ku(),ni(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Uf?Yo++:(Yo=0,Uf=e):Yo=0,Xo(0)}}function _y(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Co(i)))}function Ku(e){return gy(),py(),yy(),vy()}function vy(){if(ke!==5)return!1;var e=cr,i=xf;xf=0;var a=Us(_a),o=H.T,h=et.p;try{et.p=32>a?32:a,H.T=null,a=kf,kf=null;var d=cr,v=_a;if(ke=0,ya=cr=null,_a=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,ny(d.current),Wp(d,d.current,v,a),Gt=E,Xo(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ae,d)}catch{}return!0}finally{et.p=h,H.T=o,_y(e,i)}}function Ey(e,i,a){i=Tn(a,i),i=gf(e.stateNode,i,2),e=tr(e,i,2),e!==null&&(hi(e,2),ni(e))}function $t(e,i,a){if(e.tag===3)Ey(e,e,a);else for(;i!==null;){if(i.tag===3){Ey(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ur===null||!ur.has(o))){e=Tn(a,e),a=bp(2),o=tr(i,a,2),o!==null&&(Rp(a,o,i,e),hi(o,2),ni(o));break}}i=i.return}}function qf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new W0;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Nf=!0,h.add(a),e=rA.bind(null,e,i,a),i.then(e,e))}function rA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(kt&a)===a&&(le===4||le===3&&(kt&62914560)===kt&&300>gn()-Pf?(Gt&2)===0&&va(e,0):Vf|=a,pa===kt&&(pa=0)),ni(e)}function Ty(e,i){i===0&&(i=io()),e=ea(e,i),e!==null&&(hi(e,i),ni(e))}function sA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Ty(e,a)}function aA(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Ty(e,a)}function oA(e,i){return Lr(e,i)}var Yu=null,Ta=null,jf=!1,Xu=!1,Hf=!1,vs=0;function ni(e){e!==Ta&&e.next===null&&(Ta===null?Yu=Ta=e:Ta=Ta.next=e),Xu=!0,jf||(jf=!0,uA())}function Xo(e,i){if(!Hf&&Xu){Hf=!0;do for(var a=!1,o=Yu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-je(42|e)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ry(o,d))}else d=kt,d=ks(o,o===Jt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Gr(o,d)||(a=!0,Ry(o,d));o=o.next}while(a);Hf=!1}}function lA(){Ay()}function Ay(){Xu=jf=!1;var e=0;vs!==0&&(yA()&&(e=vs),vs=0);for(var i=gn(),a=null,o=Yu;o!==null;){var h=o.next,d=Sy(o,i);d===0?(o.next=null,a===null?Yu=h:a.next=h,h===null&&(Ta=a)):(a=o,(e!==0||(d&3)!==0)&&(Xu=!0)),o=h}Xo(e)}function Sy(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-je(d),E=1<<v,b=h[v];b===-1?((E&a)===0||(E&o)!==0)&&(h[v]=eo(E,i)):b<=i&&(e.expiredLanes|=E),d&=~E}if(i=Jt,a=kt,a=ks(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&zr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Gr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&zr(o),Us(a)){case 2:case 8:a=Ps;break;case 32:a=Br;break;case 268435456:a=xs;break;default:a=Br}return o=by.bind(null,e),a=Lr(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&zr(o),e.callbackPriority=2,e.callbackNode=null,2}function by(e,i){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ku()&&e.callbackNode!==a)return null;var o=kt;return o=ks(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ay(e,o,i),Sy(e,gn()),e.callbackNode!=null&&e.callbackNode===a?by.bind(null,e):null)}function Ry(e,i){if(Ku())return null;ay(e,i,!0)}function uA(){vA(function(){(Gt&6)!==0?Lr(Wa,lA):Ay()})}function Gf(){return vs===0&&(vs=no()),vs}function wy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Hs(""+e)}function Iy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function cA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=wy((h[de]||null).action),v=o.submitter;v&&(i=(i=v[de]||null)?wy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new Gs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(vs!==0){var b=v?Iy(h,v):new FormData(h);cf(a,{pending:!0,data:b,method:h.method,action:d},null,b)}}else typeof d=="function"&&(E.preventDefault(),b=v?Iy(h,v):new FormData(h),cf(a,{pending:!0,data:b,method:h.method,action:d},d,b))},currentTarget:h}]})}}for(var Ff=0;Ff<Ch.length;Ff++){var Qf=Ch[Ff],hA=Qf.toLowerCase(),fA=Qf[0].toUpperCase()+Qf.slice(1);Vn(hA,"on"+fA)}Vn(ag,"onAnimationEnd"),Vn(og,"onAnimationIteration"),Vn(lg,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(D0,"onTransitionRun"),Vn(O0,"onTransitionStart"),Vn(N0,"onTransitionCancel"),Vn(ug,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function Cy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=L;try{d(h)}catch(G){ku(G)}h.currentTarget=null,d=b}else for(v=0;v<o.length;v++){if(E=o[v],b=E.instance,L=E.currentTarget,E=E.listener,b!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=L;try{d(h)}catch(G){ku(G)}h.currentTarget=null,d=b}}}}function Nt(e,i){var a=i[ao];a===void 0&&(a=i[ao]=new Set);var o=e+"__bubble";a.has(o)||(Dy(i,e,2,!1),a.add(o))}function Kf(e,i,a){var o=0;i&&(o|=4),Dy(a,e,o,i)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Yf(e){if(!e[$u]){e[$u]=!0,oo.forEach(function(a){a!=="selectionchange"&&(dA.has(a)||Kf(a,!1,e),Kf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[$u]||(i[$u]=!0,Kf("selectionchange",!1,i))}}function Dy(e,i,a,o){switch(Wy(i)){case 2:var h=BA;break;case 8:h=qA;break;default:h=ld}a=h.bind(null,i,a,e),h=void 0,!vn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Xf(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=fi(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){o=d=v;continue t}E=E.parentNode}}o=o.return}Jl(function(){var L=d,G=_n(a),Q=[];t:{var z=cg.get(e);if(z!==void 0){var B=Gs,yt=e;switch(e){case"keypress":if(Kn(a)===0)break t;case"keydown":case"keyup":B=$s;break;case"focusin":yt="focus",B=Ks;break;case"focusout":yt="blur",B=Ks;break;case"beforeblur":case"afterblur":B=Ks;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=au;break;case ag:case og:case lg:B=Ys;break;case ug:B=lu;break;case"scroll":case"scrollend":B=Wl;break;case"wheel":B=Zs;break;case"copy":case"cut":case"paste":B=Xs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Eo;break;case"toggle":case"beforetoggle":B=cu}var dt=(i&4)!==0,Xt=!dt&&(e==="scroll"||e==="scrollend"),x=dt?z!==null?z+"Capture":null:z;dt=[];for(var O=L,U;O!==null;){var F=O;if(U=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||U===null||x===null||(F=Jr(O,x),F!=null&&dt.push(Zo(O,F,U))),Xt)break;O=O.return}0<dt.length&&(z=new B(z,yt,null,a,G),Q.push({event:z,listeners:dt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==pi&&(yt=a.relatedTarget||a.fromElement)&&(fi(yt)||yt[pn]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(yt=a.relatedTarget||a.toElement,B=L,yt=yt?fi(yt):null,yt!==null&&(Xt=c(yt),dt=yt.tag,yt!==Xt||dt!==5&&dt!==27&&dt!==6)&&(yt=null)):(B=null,yt=L),B!==yt)){if(dt=En,F="onMouseLeave",x="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Eo,F="onPointerLeave",x="onPointerEnter",O="pointer"),Xt=B==null?z:Hn(B),U=yt==null?z:Hn(yt),z=new dt(F,O+"leave",B,a,G),z.target=Xt,z.relatedTarget=U,F=null,fi(G)===L&&(dt=new dt(x,O+"enter",yt,a,G),dt.target=U,dt.relatedTarget=Xt,F=dt),Xt=F,B&&yt)e:{for(dt=B,x=yt,O=0,U=dt;U;U=Aa(U))O++;for(U=0,F=x;F;F=Aa(F))U++;for(;0<O-U;)dt=Aa(dt),O--;for(;0<U-O;)x=Aa(x),U--;for(;O--;){if(dt===x||x!==null&&dt===x.alternate)break e;dt=Aa(dt),x=Aa(x)}dt=null}else dt=null;B!==null&&Oy(Q,z,B,dt,!1),yt!==null&&Xt!==null&&Oy(Q,Xt,yt,dt,!0)}}t:{if(z=L?Hn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var rt=Xm;else if(Te(z))if($m)rt=w0;else{rt=b0;var It=S0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&fo(L.elementType)&&(rt=Xm):rt=R0;if(rt&&(rt=rt(e,L))){Ti(Q,rt,a,G);break t}It&&It(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&Xi(z,"number",z.value)}switch(It=L?Hn(L):window,e){case"focusin":(Te(It)||It.contentEditable==="true")&&(Js=It,Rh=L,So=null);break;case"focusout":So=Rh=Js=null;break;case"mousedown":wh=!0;break;case"contextmenu":case"mouseup":case"dragend":wh=!1,rg(Q,a,G);break;case"selectionchange":if(C0)break;case"keydown":case"keyup":rg(Q,a,G)}var ot;if($n)t:{switch(e){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Pt?q(e,a)&&(mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(mt="onCompositionStart");mt&&(y&&a.locale!=="ko"&&(Pt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Pt&&(ot=go()):(Qn=G,$i="value"in Qn?Qn.value:Qn.textContent,Pt=!0)),It=Zu(L,mt),0<It.length&&(mt=new _o(mt,e,null,a,G),Q.push({event:mt,listeners:It}),ot?mt.data=ot:(ot=W(a),ot!==null&&(mt.data=ot)))),(ot=m?Ee(e,a):xt(e,a))&&(mt=Zu(L,"onBeforeInput"),0<mt.length&&(It=new _o("onBeforeInput","beforeinput",null,a,G),Q.push({event:It,listeners:mt}),It.data=ot)),cA(Q,e,L,a,G)}Cy(Q,i)})}function Zo(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Zu(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Jr(e,a),h!=null&&o.unshift(Zo(e,h,d)),h=Jr(e,i),h!=null&&o.push(Zo(e,h,d))),e.tag===3)return o;e=e.return}return[]}function Aa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Oy(e,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var E=a,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,h?(L=Jr(a,d),L!=null&&v.unshift(Zo(a,L,b))):h||(L=Jr(a,d),L!=null&&v.push(Zo(a,L,b)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var mA=/\r\n?/g,gA=/\u0000|\uFFFD/g;function Ny(e){return(typeof e=="string"?e:""+e).replace(mA,`
`).replace(gA,"")}function Vy(e,i){return i=Ny(i),Ny(e)===i}function Ju(){}function Yt(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||yn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&yn(e,""+o);break;case"className":Gn(e,"class",o);break;case"tabIndex":Gn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(e,a,o);break;case"style":ho(e,o,d);break;case"data":if(i!=="object"){Gn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Hs(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Hs(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Ju);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Hs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),Yi(e,"popover",o);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Yi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_h.get(a)||a,Yi(e,a,o))}}function $f(e,i,a,o,h,d){switch(a){case"style":ho(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?yn(e,o):(typeof o=="number"||typeof o=="bigint")&&yn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ls.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[de]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Yi(e,a,o)}}}function Ue(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,d,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),o&&Yt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var E=d=v=h=null,b=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":b=G;break;case"defaultChecked":L=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Yt(e,i,o,G,a,null)}}Xr(e,d,E,b,L,v,h,!1),js(e);return;case"select":Nt("invalid",e),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Yt(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!o,i!=null?gi(e,!!o,i,!1):a!=null&&gi(e,!!o,a,!0);return;case"textarea":Nt("invalid",e),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(e,i,v,E,a,null)}$r(e,o,h,d),js(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,i,b,o,a,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<$o.length;o++)Nt($o[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,L,o,a,null)}return;default:if(fo(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&$f(e,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Yt(e,i,E,o,a,null))}function pA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,b=null,L=null,G=null;for(B in a){var Q=a[B];if(a.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Q;default:o.hasOwnProperty(B)||Yt(e,i,B,null,o,Q)}}for(var z in o){var B=o[z];if(Q=a[z],o.hasOwnProperty(z)&&(B!=null||Q!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":G=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==Q&&Yt(e,i,z,B,o,Q)}}an(e,v,E,b,L,G,d,h);return;case"select":B=v=E=z=null;for(d in a)if(b=a[d],a.hasOwnProperty(d)&&b!=null)switch(d){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(d)||Yt(e,i,d,null,o,b)}for(h in o)if(d=o[h],b=a[h],o.hasOwnProperty(h)&&(d!=null||b!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==b&&Yt(e,i,h,d,o,b)}i=E,a=v,o=B,z!=null?gi(e,!!a,z,!1):!!o!=!!a&&(i!=null?gi(e,!!a,i,!0):gi(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,i,E,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,i,v,h,o,d)}Qt(e,z,B);return;case"option":for(var yt in a)if(z=a[yt],a.hasOwnProperty(yt)&&z!=null&&!o.hasOwnProperty(yt))switch(yt){case"selected":e.selected=!1;break;default:Yt(e,i,yt,null,o,z)}for(b in o)if(z=o[b],B=a[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,i,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)z=a[dt],a.hasOwnProperty(dt)&&z!=null&&!o.hasOwnProperty(dt)&&Yt(e,i,dt,null,o,z);for(L in o)if(z=o[L],B=a[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Yt(e,i,L,z,o,B)}return;default:if(fo(i)){for(var Xt in a)z=a[Xt],a.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&$f(e,i,Xt,void 0,o,z);for(G in o)z=o[G],B=a[G],!o.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||$f(e,i,G,z,o,B);return}}for(var x in a)z=a[x],a.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Yt(e,i,x,null,o,z);for(Q in o)z=o[Q],B=a[Q],!o.hasOwnProperty(Q)||z===B||z==null&&B==null||Yt(e,i,Q,z,o,B)}var Zf=null,Jf=null;function Wu(e){return e.nodeType===9?e:e.ownerDocument}function My(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Py(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Wf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var td=null;function yA(){var e=window.event;return e&&e.type==="popstate"?e===td?!1:(td=e,!0):(td=null,!1)}var xy=typeof setTimeout=="function"?setTimeout:void 0,_A=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,vA=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(e){return ky.resolve(null).then(e).catch(EA)}:xy;function EA(e){setTimeout(function(){throw e})}function fr(e){return e==="head"}function Uy(e,i){var a=i,o=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&Jo(v.documentElement),a&2&&Jo(v.body),a&4)for(a=v.head,Jo(a),v=a.firstChild;v;){var E=v.nextSibling,b=v.nodeName;v[Fr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(d),al(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);al(i)}function ed(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ed(a),Ki(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function TA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Fr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function AA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pn(e.nextSibling),e===null))return null;return e}function nd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function SA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Pn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var id=null;function Ly(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function zy(e,i,a){switch(i=Wu(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Jo(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ki(e)}var In=new Map,By=new Set;function tc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Pi=et.d;et.d={f:bA,r:RA,D:wA,C:IA,L:CA,m:DA,X:NA,S:OA,M:VA};function bA(){var e=Pi.f(),i=Fu();return e||i}function RA(e){var i=jn(e);i!==null&&i.tag===5&&i.type==="form"?ap(i):Pi.r(e)}var Sa=typeof document>"u"?null:document;function qy(e,i,a){var o=Sa;if(o&&typeof i=="string"&&i){var h=me(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),By.has(h)||(By.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ue(i,"link",e),ue(i),o.head.appendChild(i)))}}function wA(e){Pi.D(e),qy("dns-prefetch",e,null)}function IA(e,i){Pi.C(e,i),qy("preconnect",e,i)}function CA(e,i,a){Pi.L(e,i,a);var o=Sa;if(o&&e&&i){var h='link[rel="preload"][as="'+me(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+me(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+me(a.imageSizes)+'"]')):h+='[href="'+me(e)+'"]';var d=h;switch(i){case"style":d=ba(e);break;case"script":d=Ra(e)}In.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),In.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(Wo(d))||i==="script"&&o.querySelector(tl(d))||(i=o.createElement("link"),Ue(i,"link",e),ue(i),o.head.appendChild(i)))}}function DA(e,i){Pi.m(e,i);var a=Sa;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+me(o)+'"][href="'+me(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ra(e)}if(!In.has(d)&&(e=T({rel:"modulepreload",href:e},i),In.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(tl(d)))return}o=a.createElement("link"),Ue(o,"link",e),ue(o),a.head.appendChild(o)}}}function OA(e,i,a){Pi.S(e,i,a);var o=Sa;if(o&&e){var h=$e(o).hoistableStyles,d=ba(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(Wo(d)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=In.get(d))&&rd(e,a);var b=v=o.createElement("link");ue(b),Ue(b,"link",e),b._p=new Promise(function(L,G){b.onload=L,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ec(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function NA(e,i){Pi.X(e,i);var a=Sa;if(a&&e){var o=$e(a).hoistableScripts,h=Ra(e),d=o.get(h);d||(d=a.querySelector(tl(h)),d||(e=T({src:e,async:!0},i),(i=In.get(h))&&sd(e,i),d=a.createElement("script"),ue(d),Ue(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function VA(e,i){Pi.M(e,i);var a=Sa;if(a&&e){var o=$e(a).hoistableScripts,h=Ra(e),d=o.get(h);d||(d=a.querySelector(tl(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=In.get(h))&&sd(e,i),d=a.createElement("script"),ue(d),Ue(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function jy(e,i,a,o){var h=(h=Et.current)?tc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ba(a.href),a=$e(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ba(a.href);var d=$e(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(Wo(e)))&&!d._p&&(v.instance=d,v.state.loading=5),In.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(e,a),d||MA(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ra(a),a=$e(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ba(e){return'href="'+me(e)+'"'}function Wo(e){return'link[rel="stylesheet"]['+e+"]"}function Hy(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function MA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ue(i,"link",a),ue(i),e.head.appendChild(i))}function Ra(e){return'[src="'+me(e)+'"]'}function tl(e){return"script[async]"+e}function Gy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+me(a.href)+'"]');if(o)return i.instance=o,ue(o),o;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ue(o),Ue(o,"style",h),ec(o,a.precedence,e),i.instance=o;case"stylesheet":h=ba(a.href);var d=e.querySelector(Wo(h));if(d)return i.state.loading|=4,i.instance=d,ue(d),d;o=Hy(a),(h=In.get(h))&&rd(o,h),d=(e.ownerDocument||e).createElement("link"),ue(d);var v=d;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Ue(d,"link",o),i.state.loading|=4,ec(d,a.precedence,e),i.instance=d;case"script":return d=Ra(a.src),(h=e.querySelector(tl(d)))?(i.instance=h,ue(h),h):(o=a,(h=In.get(d))&&(o=T({},a),sd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ue(h),Ue(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,ec(o,a.precedence,e));return i.instance}function ec(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function rd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function sd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var nc=null;function Fy(e,i,a){if(nc===null){var o=new Map,h=nc=new Map;h.set(a,o)}else h=nc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Fr]||d[ve]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(d):o.set(v,[d])}}return o}function Qy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function PA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ky(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var el=null;function xA(){}function kA(e,i,a){if(el===null)throw Error(s(475));var o=el;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ba(a.href),d=e.querySelector(Wo(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=ic.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=d,ue(d);return}d=e.ownerDocument||e,a=Hy(a),(h=In.get(h))&&rd(a,h),d=d.createElement("link"),ue(d);var v=d;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Ue(d,"link",a),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=ic.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function UA(){if(el===null)throw Error(s(475));var e=el;return e.stylesheets&&e.count===0&&ad(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&ad(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ic(){if(this.count--,this.count===0){if(this.stylesheets)ad(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var rc=null;function ad(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,rc=new Map,i.forEach(LA,e),rc=null,ic.call(e))}function LA(e,i){if(!(i.state.loading&4)){var a=rc.get(e);if(a)var o=a.get(null);else{a=new Map,rc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=ic.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var nl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function zA(e,i,a,o,h,d,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Yy(e,i,a,o,h,d,v,E,b,L,G,Q){return e=new zA(e,i,a,v,E,b,L,Q),i=1,d===!0&&(i|=24),d=ln(3,null,null,i),e.current=d,d.stateNode=e,i=Bh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Gh(d),e}function Xy(e){return e?(e=na,e):na}function $y(e,i,a,o,h,d){h=Xy(h),o.context===null?o.context=h:o.pendingContext=h,o=Wi(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=tr(e,o,i),a!==null&&(dn(a,e,i),Vo(a,e,i))}function Zy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function od(e,i){Zy(e,i),(e=e.alternate)&&Zy(e,i)}function Jy(e){if(e.tag===13){var i=ea(e,67108864);i!==null&&dn(i,e,67108864),od(e,67108864)}}var sc=!0;function BA(e,i,a,o){var h=H.T;H.T=null;var d=et.p;try{et.p=2,ld(e,i,a,o)}finally{et.p=d,H.T=h}}function qA(e,i,a,o){var h=H.T;H.T=null;var d=et.p;try{et.p=8,ld(e,i,a,o)}finally{et.p=d,H.T=h}}function ld(e,i,a,o){if(sc){var h=ud(o);if(h===null)Xf(e,i,o,ac,a),t_(e,o);else if(HA(h,e,i,a,o))o.stopPropagation();else if(t_(e,o),i&4&&-1<jA.indexOf(e)){for(;h!==null;){var d=jn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Dn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-je(v);E.entanglements[1]|=b,v&=~b}ni(d),(Gt&6)===0&&(Hu=gn()+500,Xo(0))}}break;case 13:E=ea(d,2),E!==null&&dn(E,d,2),Fu(),od(d,2)}if(d=ud(o),d===null&&Xf(e,i,o,ac,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Xf(e,i,o,null,a)}}function ud(e){return e=_n(e),cd(e)}var ac=null;function cd(e){if(ac=null,e=fi(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return ac=e,null}function Wy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fh()){case Wa:return 2;case Ps:return 8;case Br:case dh:return 32;case xs:return 268435456;default:return 32}default:return 32}}var hd=!1,dr=null,mr=null,gr=null,il=new Map,rl=new Map,pr=[],jA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t_(e,i){switch(e){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":il.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(i.pointerId)}}function sl(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=jn(i),i!==null&&Jy(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function HA(e,i,a,o,h){switch(i){case"focusin":return dr=sl(dr,e,i,a,o,h),!0;case"dragenter":return mr=sl(mr,e,i,a,o,h),!0;case"mouseover":return gr=sl(gr,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return il.set(d,sl(il.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,rl.set(d,sl(rl.get(d)||null,e,i,a,o,h)),!0}return!1}function e_(e){var i=fi(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Fl(e.priority,function(){if(a.tag===13){var o=fn();o=Gi(o);var h=ea(a,o);h!==null&&dn(h,a,o),od(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=ud(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);pi=o,a.target.dispatchEvent(o),pi=null}else return i=jn(a),i!==null&&Jy(i),e.blockedOn=a,!1;i.shift()}return!0}function n_(e,i,a){oc(e)&&a.delete(i)}function GA(){hd=!1,dr!==null&&oc(dr)&&(dr=null),mr!==null&&oc(mr)&&(mr=null),gr!==null&&oc(gr)&&(gr=null),il.forEach(n_),rl.forEach(n_)}function lc(e,i){e.blockedOn===i&&(e.blockedOn=null,hd||(hd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,GA)))}var uc=null;function i_(e){uc!==e&&(uc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){uc===e&&(uc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(cd(o||a)===null)continue;break}var d=jn(a);d!==null&&(e.splice(i,3),i-=3,cf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function al(e){function i(b){return lc(b,e)}dr!==null&&lc(dr,e),mr!==null&&lc(mr,e),gr!==null&&lc(gr,e),il.forEach(i),rl.forEach(i);for(var a=0;a<pr.length;a++){var o=pr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<pr.length&&(a=pr[0],a.blockedOn===null);)e_(a),a.blockedOn===null&&pr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[de]||null;if(typeof d=="function")v||i_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[de]||null)E=v.formAction;else if(cd(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),i_(a)}}}function fd(e){this._internalRoot=e}cc.prototype.render=fd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=fn();$y(a,o,e,i,null,null)},cc.prototype.unmount=fd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;$y(e.current,2,null,e,null,null),Fu(),i[pn]=null}};function cc(e){this._internalRoot=e}cc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Fi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<pr.length&&i!==0&&i<pr[a].priority;a++);pr.splice(a,0,e),a===0&&e_(e)}};var r_=t.version;if(r_!=="19.1.0")throw Error(s(527,r_,"19.1.0"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var FA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{ae=hc.inject(FA),Ht=hc}catch{}}return ll.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=Ep,d=Tp,v=Ap,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=Yy(e,1,!1,null,null,a,o,h,d,v,E,null),e[pn]=i.current,Yf(e),new fd(i)},ll.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=Ep,v=Tp,E=Ap,b=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=Yy(e,1,!0,i,a??null,o,h,d,v,E,b,L),i.context=Xy(null),a=i.current,o=fn(),o=Gi(o),h=Wi(o),h.callback=null,tr(a,h,o),a=o,i.current.lanes=a,hi(i,a),ni(i),e[pn]=i.current,Yf(e),new cc(i)},ll.version="19.1.0",ll}var m_;function eS(){if(m_)return gd.exports;m_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),gd.exports=tS(),gd.exports}var nS=eS();const iS=()=>{};var g_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},rS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],f=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],f=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return t.join("")},Zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],f=l+1<r.length,g=f?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,T=c>>2,I=(c&3)<<4|g>>4;let N=(g&15)<<2|_>>6,j=_&63;p||(j=64,f||(N=64)),s.push(n[T],n[I],n[N],n[j])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray($v(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):rS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const I=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||I==null)throw new sS;const N=c<<2|g>>4;if(s.push(N),_!==64){const j=g<<4&240|_>>2;if(s.push(j),I!==64){const $=_<<6&192|I;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class sS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aS=function(r){const t=$v(r);return Zv.encodeByteArray(t,!0)},Cc=function(r){return aS(r).replace(/\./g,"")},Jv=function(r){try{return Zv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=()=>oS().__FIREBASE_DEFAULTS__,uS=()=>{if(typeof process>"u"||typeof g_>"u")return;const r=g_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Jv(r[1]);return t&&JSON.parse(t)},Yc=()=>{try{return iS()||lS()||uS()||cS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Wv=r=>{var t,n;return(n=(t=Yc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},hS=r=>{const t=Wv(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},tE=()=>{var r;return(r=Yc())===null||r===void 0?void 0:r.config},eE=r=>{var t;return(t=Yc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(r){return r.endsWith(".cloudworkstations.dev")}async function nE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Cc(JSON.stringify(n)),Cc(JSON.stringify(f)),""].join(".")}const gl={};function mS(){const r={prod:[],emulator:[]};for(const t of Object.keys(gl))gl[t]?r.emulator.push(t):r.prod.push(t);return r}function gS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let p_=!1;function iE(r,t){if(typeof window>"u"||typeof document>"u"||!Vl(window.location.host)||gl[r]===t||gl[r]||p_)return;gl[r]=t;function n(N){return`__firebase__banner__${N}`}const s="__firebase__banner",c=mS().prod.length>0;function f(){const N=document.getElementById(s);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function p(N,j){N.setAttribute("width","24"),N.setAttribute("id",j),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{p_=!0,f()},N}function T(N,j){N.setAttribute("id",j),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function I(){const N=gS(s),j=n("text"),$=document.getElementById(j)||document.createElement("span"),tt=n("learnmore"),X=document.getElementById(tt)||document.createElement("a"),vt=n("preprendIcon"),ft=document.getElementById(vt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const lt=N.element;g(lt),T(X,tt);const Ct=_();p(ft,vt),lt.append(ft,$,X,Ct),document.body.appendChild(lt)}c?($.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function yS(){var r;const t=(r=Yc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _S(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ES(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TS(){const r=Ye();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function AS(){return!yS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SS(){try{return typeof indexedDB=="object"}catch{return!1}}function bS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="FirebaseError";class ji extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=RS,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ml.prototype.create)}}class Ml{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],f=c?wS(c,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new ji(l,g,s)}}function wS(r,t){return r.replace(IS,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const IS=/\{\$([^}]+)}/g;function CS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ss(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],f=t[l];if(y_(c)&&y_(f)){if(!Ss(c,f))return!1}else if(c!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function y_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function ul(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function cl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function DS(r,t){const n=new OS(r,t);return n.subscribe.bind(n)}class OS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");NS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=vd),l.error===void 0&&(l.error=vd),l.complete===void 0&&(l.complete=vd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function vd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(r){return r&&r._delegate?r._delegate:r}class bs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new fS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(PS(t))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Es){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Es){return this.instances.has(t)}getOptions(t=Es){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&t(f,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:MS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Es){return this.component?this.component.multipleInstances?t:Es:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MS(r){return r===Es?void 0:r}function PS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new VS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const kS={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},US=Vt.INFO,LS={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},zS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=LS[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class im{constructor(t){this.name=t,this._logLevel=US,this._logHandler=zS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const BS=(r,t)=>t.some(n=>r instanceof n);let __,v_;function qS(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jS(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rE=new WeakMap,Od=new WeakMap,sE=new WeakMap,Ed=new WeakMap,rm=new WeakMap;function HS(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(br(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&rE.set(n,r)}).catch(()=>{}),rm.set(t,r),t}function GS(r){if(Od.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Od.set(r,t)}let Nd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Od.get(r);if(t==="objectStoreNames")return r.objectStoreNames||sE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return br(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function FS(r){Nd=r(Nd)}function QS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Td(this),t,...n);return sE.set(s,t.sort?t.sort():[t]),br(s)}:jS().includes(r)?function(...t){return r.apply(Td(this),t),br(rE.get(this))}:function(...t){return br(r.apply(Td(this),t))}}function KS(r){return typeof r=="function"?QS(r):(r instanceof IDBTransaction&&GS(r),BS(r,qS())?new Proxy(r,Nd):r)}function br(r){if(r instanceof IDBRequest)return HS(r);if(Ed.has(r))return Ed.get(r);const t=KS(r);return t!==r&&(Ed.set(r,t),rm.set(t,r)),t}const Td=r=>rm.get(r);function YS(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const f=indexedDB.open(r,t),g=br(f);return s&&f.addEventListener("upgradeneeded",p=>{s(br(f.result),p.oldVersion,p.newVersion,br(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const XS=["get","getKey","getAll","getAllKeys","count"],$S=["put","add","delete","clear"],Ad=new Map;function E_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ad.get(t))return Ad.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=$S.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||XS.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return Ad.set(t,c),c}FS(r=>({...r,get:(t,n,s)=>E_(t,n)||r.get(t,n,s),has:(t,n)=>!!E_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function JS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Vd="@firebase/app",T_="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new im("@firebase/app"),WS="@firebase/app-compat",t1="@firebase/analytics-compat",e1="@firebase/analytics",n1="@firebase/app-check-compat",i1="@firebase/app-check",r1="@firebase/auth",s1="@firebase/auth-compat",a1="@firebase/database",o1="@firebase/data-connect",l1="@firebase/database-compat",u1="@firebase/functions",c1="@firebase/functions-compat",h1="@firebase/installations",f1="@firebase/installations-compat",d1="@firebase/messaging",m1="@firebase/messaging-compat",g1="@firebase/performance",p1="@firebase/performance-compat",y1="@firebase/remote-config",_1="@firebase/remote-config-compat",v1="@firebase/storage",E1="@firebase/storage-compat",T1="@firebase/firestore",A1="@firebase/ai",S1="@firebase/firestore-compat",b1="firebase",R1="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="[DEFAULT]",w1={[Vd]:"fire-core",[WS]:"fire-core-compat",[e1]:"fire-analytics",[t1]:"fire-analytics-compat",[i1]:"fire-app-check",[n1]:"fire-app-check-compat",[r1]:"fire-auth",[s1]:"fire-auth-compat",[a1]:"fire-rtdb",[o1]:"fire-data-connect",[l1]:"fire-rtdb-compat",[u1]:"fire-fn",[c1]:"fire-fn-compat",[h1]:"fire-iid",[f1]:"fire-iid-compat",[d1]:"fire-fcm",[m1]:"fire-fcm-compat",[g1]:"fire-perf",[p1]:"fire-perf-compat",[y1]:"fire-rc",[_1]:"fire-rc-compat",[v1]:"fire-gcs",[E1]:"fire-gcs-compat",[T1]:"fire-fst",[S1]:"fire-fst-compat",[A1]:"fire-vertex","fire-js":"fire-js",[b1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new Map,I1=new Map,Pd=new Map;function A_(r,t){try{r.container.addComponent(t)}catch(n){Li.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function xa(r){const t=r.name;if(Pd.has(t))return Li.debug(`There were multiple attempts to register component ${t}.`),!1;Pd.set(t,r);for(const n of Dc.values())A_(n,r);for(const n of I1.values())A_(n,r);return!0}function sm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function xn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new Ml("app","Firebase",C1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=R1;function aE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Md,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw Rr.create("bad-app-name",{appName:String(l)});if(n||(n=tE()),!n)throw Rr.create("no-options");const c=Dc.get(l);if(c){if(Ss(n,c.options)&&Ss(s,c.config))return c;throw Rr.create("duplicate-app",{appName:l})}const f=new xS(l);for(const p of Pd.values())f.addComponent(p);const g=new D1(n,s,f);return Dc.set(l,g),g}function oE(r=Md){const t=Dc.get(r);if(!t&&r===Md&&tE())return aE();if(!t)throw Rr.create("no-app",{appName:r});return t}function wr(r,t,n){var s;let l=(s=w1[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Li.warn(g.join(" "));return}xa(new bs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="firebase-heartbeat-database",N1=1,Al="firebase-heartbeat-store";let Sd=null;function lE(){return Sd||(Sd=YS(O1,N1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Al)}catch(n){console.warn(n)}}}}).catch(r=>{throw Rr.create("idb-open",{originalErrorMessage:r.message})})),Sd}async function V1(r){try{const n=(await lE()).transaction(Al),s=await n.objectStore(Al).get(uE(r));return await n.done,s}catch(t){if(t instanceof ji)Li.warn(t.message);else{const n=Rr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Li.warn(n.message)}}}async function S_(r,t){try{const s=(await lE()).transaction(Al,"readwrite");await s.objectStore(Al).put(t,uE(r)),await s.done}catch(n){if(n instanceof ji)Li.warn(n.message);else{const s=Rr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Li.warn(s.message)}}}function uE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=1024,P1=30;class x1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new U1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=b_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>P1){const f=L1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Li.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=b_(),{heartbeatsToSend:s,unsentEntries:l}=k1(this._heartbeatsCache.heartbeats),c=Cc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Li.warn(n),""}}}function b_(){return new Date().toISOString().substring(0,10)}function k1(r,t=M1){const n=[];let s=r.slice();for(const l of r){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),R_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),R_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class U1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SS()?bS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await V1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return S_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return S_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function R_(r){return Cc(JSON.stringify({version:2,heartbeats:r})).length}function L1(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(r){xa(new bs("platform-logger",t=>new ZS(t),"PRIVATE")),xa(new bs("heartbeat",t=>new x1(t),"PRIVATE")),wr(Vd,T_,r),wr(Vd,T_,"esm2017"),wr("fire-js","")}z1("");var B1="firebase",q1="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(B1,q1,"app");var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ir,cE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,S){function w(){}w.prototype=S.prototype,M.D=S.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(V,P,C){for(var R=Array(arguments.length-2),se=2;se<arguments.length;se++)R[se-2]=arguments[se];return S.prototype[P].apply(V,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,S,w){w||(w=0);var V=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)V[P]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(P=0;16>P;++P)V[P]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=M.g[0],w=M.g[1],P=M.g[2];var C=M.g[3],R=S+(C^w&(P^C))+V[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=C+(P^S&(w^P))+V[1]+3905402710&4294967295,C=S+(R<<12&4294967295|R>>>20),R=P+(w^C&(S^w))+V[2]+606105819&4294967295,P=C+(R<<17&4294967295|R>>>15),R=w+(S^P&(C^S))+V[3]+3250441966&4294967295,w=P+(R<<22&4294967295|R>>>10),R=S+(C^w&(P^C))+V[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=C+(P^S&(w^P))+V[5]+1200080426&4294967295,C=S+(R<<12&4294967295|R>>>20),R=P+(w^C&(S^w))+V[6]+2821735955&4294967295,P=C+(R<<17&4294967295|R>>>15),R=w+(S^P&(C^S))+V[7]+4249261313&4294967295,w=P+(R<<22&4294967295|R>>>10),R=S+(C^w&(P^C))+V[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=C+(P^S&(w^P))+V[9]+2336552879&4294967295,C=S+(R<<12&4294967295|R>>>20),R=P+(w^C&(S^w))+V[10]+4294925233&4294967295,P=C+(R<<17&4294967295|R>>>15),R=w+(S^P&(C^S))+V[11]+2304563134&4294967295,w=P+(R<<22&4294967295|R>>>10),R=S+(C^w&(P^C))+V[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=C+(P^S&(w^P))+V[13]+4254626195&4294967295,C=S+(R<<12&4294967295|R>>>20),R=P+(w^C&(S^w))+V[14]+2792965006&4294967295,P=C+(R<<17&4294967295|R>>>15),R=w+(S^P&(C^S))+V[15]+1236535329&4294967295,w=P+(R<<22&4294967295|R>>>10),R=S+(P^C&(w^P))+V[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=C+(w^P&(S^w))+V[6]+3225465664&4294967295,C=S+(R<<9&4294967295|R>>>23),R=P+(S^w&(C^S))+V[11]+643717713&4294967295,P=C+(R<<14&4294967295|R>>>18),R=w+(C^S&(P^C))+V[0]+3921069994&4294967295,w=P+(R<<20&4294967295|R>>>12),R=S+(P^C&(w^P))+V[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=C+(w^P&(S^w))+V[10]+38016083&4294967295,C=S+(R<<9&4294967295|R>>>23),R=P+(S^w&(C^S))+V[15]+3634488961&4294967295,P=C+(R<<14&4294967295|R>>>18),R=w+(C^S&(P^C))+V[4]+3889429448&4294967295,w=P+(R<<20&4294967295|R>>>12),R=S+(P^C&(w^P))+V[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=C+(w^P&(S^w))+V[14]+3275163606&4294967295,C=S+(R<<9&4294967295|R>>>23),R=P+(S^w&(C^S))+V[3]+4107603335&4294967295,P=C+(R<<14&4294967295|R>>>18),R=w+(C^S&(P^C))+V[8]+1163531501&4294967295,w=P+(R<<20&4294967295|R>>>12),R=S+(P^C&(w^P))+V[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=C+(w^P&(S^w))+V[2]+4243563512&4294967295,C=S+(R<<9&4294967295|R>>>23),R=P+(S^w&(C^S))+V[7]+1735328473&4294967295,P=C+(R<<14&4294967295|R>>>18),R=w+(C^S&(P^C))+V[12]+2368359562&4294967295,w=P+(R<<20&4294967295|R>>>12),R=S+(w^P^C)+V[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=C+(S^w^P)+V[8]+2272392833&4294967295,C=S+(R<<11&4294967295|R>>>21),R=P+(C^S^w)+V[11]+1839030562&4294967295,P=C+(R<<16&4294967295|R>>>16),R=w+(P^C^S)+V[14]+4259657740&4294967295,w=P+(R<<23&4294967295|R>>>9),R=S+(w^P^C)+V[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=C+(S^w^P)+V[4]+1272893353&4294967295,C=S+(R<<11&4294967295|R>>>21),R=P+(C^S^w)+V[7]+4139469664&4294967295,P=C+(R<<16&4294967295|R>>>16),R=w+(P^C^S)+V[10]+3200236656&4294967295,w=P+(R<<23&4294967295|R>>>9),R=S+(w^P^C)+V[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=C+(S^w^P)+V[0]+3936430074&4294967295,C=S+(R<<11&4294967295|R>>>21),R=P+(C^S^w)+V[3]+3572445317&4294967295,P=C+(R<<16&4294967295|R>>>16),R=w+(P^C^S)+V[6]+76029189&4294967295,w=P+(R<<23&4294967295|R>>>9),R=S+(w^P^C)+V[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=C+(S^w^P)+V[12]+3873151461&4294967295,C=S+(R<<11&4294967295|R>>>21),R=P+(C^S^w)+V[15]+530742520&4294967295,P=C+(R<<16&4294967295|R>>>16),R=w+(P^C^S)+V[2]+3299628645&4294967295,w=P+(R<<23&4294967295|R>>>9),R=S+(P^(w|~C))+V[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=C+(w^(S|~P))+V[7]+1126891415&4294967295,C=S+(R<<10&4294967295|R>>>22),R=P+(S^(C|~w))+V[14]+2878612391&4294967295,P=C+(R<<15&4294967295|R>>>17),R=w+(C^(P|~S))+V[5]+4237533241&4294967295,w=P+(R<<21&4294967295|R>>>11),R=S+(P^(w|~C))+V[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=C+(w^(S|~P))+V[3]+2399980690&4294967295,C=S+(R<<10&4294967295|R>>>22),R=P+(S^(C|~w))+V[10]+4293915773&4294967295,P=C+(R<<15&4294967295|R>>>17),R=w+(C^(P|~S))+V[1]+2240044497&4294967295,w=P+(R<<21&4294967295|R>>>11),R=S+(P^(w|~C))+V[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=C+(w^(S|~P))+V[15]+4264355552&4294967295,C=S+(R<<10&4294967295|R>>>22),R=P+(S^(C|~w))+V[6]+2734768916&4294967295,P=C+(R<<15&4294967295|R>>>17),R=w+(C^(P|~S))+V[13]+1309151649&4294967295,w=P+(R<<21&4294967295|R>>>11),R=S+(P^(w|~C))+V[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=C+(w^(S|~P))+V[11]+3174756917&4294967295,C=S+(R<<10&4294967295|R>>>22),R=P+(S^(C|~w))+V[2]+718787259&4294967295,P=C+(R<<15&4294967295|R>>>17),R=w+(C^(P|~S))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+C&4294967295}s.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var w=S-this.blockSize,V=this.B,P=this.h,C=0;C<S;){if(P==0)for(;C<=w;)l(this,M,C),C+=this.blockSize;if(typeof M=="string"){for(;C<S;)if(V[P++]=M.charCodeAt(C++),P==this.blockSize){l(this,V),P=0;break}}else for(;C<S;)if(V[P++]=M[C++],P==this.blockSize){l(this,V),P=0;break}}this.h=P,this.o+=S},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var w=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=w&255,w/=256;for(this.u(M),M=Array(16),S=w=0;4>S;++S)for(var V=0;32>V;V+=8)M[w++]=this.g[S]>>>V&255;return M};function c(M,S){var w=g;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=S(M)}function f(M,S){this.h=S;for(var w=[],V=!0,P=M.length-1;0<=P;P--){var C=M[P]|0;V&&C==S||(w[P]=C,V=!1)}this.g=w}var g={};function p(M){return-128<=M&&128>M?c(M,function(S){return new f([S|0],0>S?-1:0)}):new f([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return I;if(0>M)return X(_(-M));for(var S=[],w=1,V=0;M>=w;V++)S[V]=M/w|0,w*=4294967296;return new f(S,0)}function T(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return X(T(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),V=I,P=0;P<M.length;P+=8){var C=Math.min(8,M.length-P),R=parseInt(M.substring(P,P+C),S);8>C?(C=_(Math.pow(S,C)),V=V.j(C).add(_(R))):(V=V.j(w),V=V.add(_(R)))}return V}var I=p(0),N=p(1),j=p(16777216);r=f.prototype,r.m=function(){if(tt(this))return-X(this).m();for(var M=0,S=1,w=0;w<this.g.length;w++){var V=this.i(w);M+=(0<=V?V:4294967296+V)*S,S*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if($(this))return"0";if(tt(this))return"-"+X(this).toString(M);for(var S=_(Math.pow(M,6)),w=this,V="";;){var P=Ct(w,S).g;w=vt(w,P.j(S));var C=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=P,$(w))return C+V;for(;6>C.length;)C="0"+C;V=C+V}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function $(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function tt(M){return M.h==-1}r.l=function(M){return M=vt(this,M),tt(M)?-1:$(M)?0:1};function X(M){for(var S=M.g.length,w=[],V=0;V<S;V++)w[V]=~M.g[V];return new f(w,~M.h).add(N)}r.abs=function(){return tt(this)?X(this):this},r.add=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],V=0,P=0;P<=S;P++){var C=V+(this.i(P)&65535)+(M.i(P)&65535),R=(C>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);V=R>>>16,C&=65535,R&=65535,w[P]=R<<16|C}return new f(w,w[w.length-1]&-2147483648?-1:0)};function vt(M,S){return M.add(X(S))}r.j=function(M){if($(this)||$(M))return I;if(tt(this))return tt(M)?X(this).j(X(M)):X(X(this).j(M));if(tt(M))return X(this.j(X(M)));if(0>this.l(j)&&0>M.l(j))return _(this.m()*M.m());for(var S=this.g.length+M.g.length,w=[],V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var P=0;P<M.g.length;P++){var C=this.i(V)>>>16,R=this.i(V)&65535,se=M.i(P)>>>16,Wt=M.i(P)&65535;w[2*V+2*P]+=R*Wt,ft(w,2*V+2*P),w[2*V+2*P+1]+=C*Wt,ft(w,2*V+2*P+1),w[2*V+2*P+1]+=R*se,ft(w,2*V+2*P+1),w[2*V+2*P+2]+=C*se,ft(w,2*V+2*P+2)}for(V=0;V<S;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=S;V<2*S;V++)w[V]=0;return new f(w,0)};function ft(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function lt(M,S){this.g=M,this.h=S}function Ct(M,S){if($(S))throw Error("division by zero");if($(M))return new lt(I,I);if(tt(M))return S=Ct(X(M),S),new lt(X(S.g),X(S.h));if(tt(S))return S=Ct(M,X(S)),new lt(X(S.g),S.h);if(30<M.g.length){if(tt(M)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=N,V=S;0>=V.l(M);)w=_t(w),V=_t(V);var P=Dt(w,1),C=Dt(V,1);for(V=Dt(V,2),w=Dt(w,2);!$(V);){var R=C.add(V);0>=R.l(M)&&(P=P.add(w),C=R),V=Dt(V,1),w=Dt(w,1)}return S=vt(M,P.j(S)),new lt(P,S)}for(P=I;0<=M.l(S);){for(w=Math.max(1,Math.floor(M.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),C=_(w),R=C.j(S);tt(R)||0<R.l(M);)w-=V,C=_(w),R=C.j(S);$(C)&&(C=N),P=P.add(C),M=vt(M,R)}return new lt(P,M)}r.A=function(M){return Ct(this,M).h},r.and=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)&M.i(V);return new f(w,this.h&M.h)},r.or=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)|M.i(V);return new f(w,this.h|M.h)},r.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)^M.i(V);return new f(w,this.h^M.h)};function _t(M){for(var S=M.g.length+1,w=[],V=0;V<S;V++)w[V]=M.i(V)<<1|M.i(V-1)>>>31;return new f(w,M.h)}function Dt(M,S){var w=S>>5;S%=32;for(var V=M.g.length-w,P=[],C=0;C<V;C++)P[C]=0<S?M.i(C+w)>>>S|M.i(C+w+1)<<32-S:M.i(C+w);return new f(P,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,cE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,Ir=f}).apply(typeof w_<"u"?w_:typeof self<"u"?self:typeof window<"u"?window:{});var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hE,hl,fE,_c,xd,dE,mE,gE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof fc=="object"&&fc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var k=u[A];if(!(k in y))break t;y=y[k]}u=u[u.length-1],A=y[u],m=m(A),m!=A&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,A=!1,k={next:function(){if(!A&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,y){return u.call.apply(u.bind,arguments)}function I(u,m,y){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,A),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function N(u,m,y){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:I,N.apply(null,arguments)}function j(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function $(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(A,k,q){for(var W=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)W[Pt-2]=arguments[Pt];return m.prototype[k].apply(A,W)}}function tt(u){const m=u.length;if(0<m){const y=Array(m);for(let A=0;A<m;A++)y[A]=u[A];return y}return[]}function X(u,m){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(p(A)){const k=u.length||0,q=A.length||0;u.length=k+q;for(let W=0;W<q;W++)u[k+W]=A[W]}else u.push(A)}}class vt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ft(u){return/^[\s\xa0]*$/.test(u)}function lt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Ct(u){return Ct[" "](u),u}Ct[" "]=function(){};var _t=lt().indexOf("Gecko")!=-1&&!(lt().toLowerCase().indexOf("webkit")!=-1&&lt().indexOf("Edge")==-1)&&!(lt().indexOf("Trident")!=-1||lt().indexOf("MSIE")!=-1)&&lt().indexOf("Edge")==-1;function Dt(u,m,y){for(const A in u)m.call(y,u[A],A,u)}function M(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let y,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(y in A)u[y]=A[y];for(let q=0;q<w.length;q++)y=w[q],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function P(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function C(u){g.setTimeout(()=>{throw u},0)}function R(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class se{constructor(){this.h=this.g=null}add(m,y){const A=Wt.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var Wt=new vt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ut=!1,zt=new se,D=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(Z)}};var Z=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(y){C(y)}var m=Wt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ut=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function wt(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_t){t:{try{Ct(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Et[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}$(wt,J);var Et={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Bn(u,m,y,A,k){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=k,this.key=++Zt,this.da=this.fa=!1}function Hi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ui(u){this.src=u,this.g={},this.h=0}ui.prototype.add=function(u,m,y,A,k){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var W=Lr(u,m,A,k);return-1<W?(m=u[W],y||(m.fa=!1)):(m=new Bn(m,this.src,q,!!A,k),m.fa=y,u.push(m)),m};function Ur(u,m){var y=m.type;if(y in u.g){var A=u.g[y],k=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=k)&&Array.prototype.splice.call(A,k,1),q&&(Hi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Lr(u,m,y,A){for(var k=0;k<u.length;++k){var q=u[k];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==A)return k}return-1}var zr="closure_lm_"+(1e6*Math.random()|0),Ja={};function jl(u,m,y,A,k){if(Array.isArray(m)){for(var q=0;q<m.length;q++)jl(u,m[q],y,A,k);return null}return y=Hl(y),u&&u[we]?u.K(m,y,_(A)?!!A.capture:!1,k):gn(u,m,y,!1,A,k)}function gn(u,m,y,A,k,q){if(!m)throw Error("Invalid event type");var W=_(k)?!!k.capture:!!k,Pt=xs(u);if(Pt||(u[zr]=Pt=new ui(u)),y=Pt.add(m,y,A,W,q),y.proxy)return y;if(A=fh(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)ht||(k=W),k===void 0&&(k=!1),u.addEventListener(m.toString(),A,k);else if(u.attachEvent)u.attachEvent(Br(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function fh(){function u(y){return m.call(u.src,u.listener,y)}const m=dh;return u}function Wa(u,m,y,A,k){if(Array.isArray(m))for(var q=0;q<m.length;q++)Wa(u,m[q],y,A,k);else A=_(A)?!!A.capture:!!A,y=Hl(y),u&&u[we]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=Lr(q,y,A,k),-1<y&&(Hi(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=xs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Lr(m,y,A,k)),(y=-1<u?m[u]:null)&&Ps(y))}function Ps(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])Ur(m.i,u);else{var y=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(y,A,u.capture):m.detachEvent?m.detachEvent(Br(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=xs(m))?(Ur(y,u),y.h==0&&(y.src=null,m[zr]=null)):Hi(u)}}}function Br(u){return u in Ja?Ja[u]:Ja[u]="on"+u}function dh(u,m){if(u.da)u=!0;else{m=new wt(m,this);var y=u.listener,A=u.ha||u.src;u.fa&&Ps(u),u=y.call(A,m)}return u}function xs(u){return u=u[zr],u instanceof ui?u:null}var to="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hl(u){return typeof u=="function"?u:(u[to]||(u[to]=function(m){return u.handleEvent(m)}),u[to])}function ae(){nt.call(this),this.i=new ui(this),this.M=this,this.F=null}$(ae,nt),ae.prototype[we]=!0,ae.prototype.removeEventListener=function(u,m,y,A){Wa(this,u,m,y,A)};function Ht(u,m){var y,A=u.F;if(A)for(y=[];A;A=A.F)y.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var k=m;m=new J(A,u),V(m,k)}if(k=!0,y)for(var q=y.length-1;0<=q;q--){var W=m.g=y[q];k=sn(W,A,!0,m)&&k}if(W=m.g=u,k=sn(W,A,!0,m)&&k,k=sn(W,A,!1,m)&&k,y)for(q=0;q<y.length;q++)W=m.g=y[q],k=sn(W,A,!1,m)&&k}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],A=0;A<y.length;A++)Hi(y[A]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,y,A){return this.i.add(String(u),m,!1,y,A)},ae.prototype.L=function(u,m,y,A){return this.i.add(String(u),m,!0,y,A)};function sn(u,m,y,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==y){var Pt=W.listener,Ee=W.ha||W.src;W.fa&&Ur(u.i,W),k=Pt.call(Ee,A)!==!1&&k}}return k&&!A.defaultPrevented}function je(u,m,y){if(typeof u=="function")y&&(u=N(u,y));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Gl(u){u.g=je(()=>{u.g=null,u.i&&(u.i=!1,Gl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class mh extends nt{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Gl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(u){nt.call(this),this.h=u,this.g={}}$(qr,nt);var jr=[];function Hr(u){Dt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Ps(m)},u),u.g={}}qr.prototype.N=function(){qr.aa.N.call(this),Hr(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=g.JSON.stringify,ks=g.JSON.parse,Gr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function eo(){}eo.prototype.h=null;function no(u){return u.h||(u.h=u.i())}function io(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hi(){J.call(this,"d")}$(hi,J);function ro(){J.call(this,"c")}$(ro,J);var qn={},so=null;function Gi(){return so=so||new ae}qn.La="serverreachability";function Us(u){J.call(this,qn.La,u)}$(Us,J);function Fi(u){const m=Gi();Ht(m,new Us(m))}qn.STAT_EVENT="statevent";function Fl(u,m){J.call(this,qn.STAT_EVENT,u),this.stat=m}$(Fl,J);function ee(u){const m=Gi();Ht(m,new Fl(m,u))}qn.Ma="timingevent";function ve(u,m){J.call(this,qn.Ma,u),this.size=m}$(ve,J);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function ao(u,m,y,A,k,q){u.info(function(){if(u.g)if(q)for(var W="",Pt=q.split("&"),Ee=0;Ee<Pt.length;Ee++){var xt=Pt[Ee].split("=");if(1<xt.length){var Ce=xt[0];xt=xt[1];var Te=Ce.split("_");W=2<=Te.length&&Te[1]=="type"?W+(Ce+"="+xt+"&"):W+(Ce+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+m+`
`+y+`
`+W})}function gh(u,m,y,A,k,q,W){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+m+`
`+y+`
`+q+" "+W})}function Qi(u,m,y,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fr(u,y)+(A?" "+A:"")})}function Ql(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Fr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var A=y[u];if(!(2>A.length)){var k=A[1];if(Array.isArray(k)&&!(1>k.length)){var q=k[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<k.length;W++)k[W]=""}}}}return Dn(y)}catch{return m}}var Ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function Hn(){}$(Hn,eo),Hn.prototype.g=function(){return new XMLHttpRequest},Hn.prototype.i=function(){return{}},jn=new Hn;function $e(u,m,y,A){this.j=u,this.i=m,this.l=y,this.R=A||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var oo={},Ls={};function On(u,m,y){u.L=1,u.v=$r(an(m)),u.m=y,u.P=!0,di(u,null)}function di(u,m){u.F=Date.now(),Qr(u),u.A=an(u.v);var y=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),mo(y.i,"t",A),u.C=0,y=u.j.J,u.h=new ue,u.g=lu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new mh(N(u.Y,u,u.g),u.O)),m=u.U,y=u.g,A=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(jr[0]=k.toString()),k=jr);for(var q=0;q<k.length;q++){var W=jl(y,k[q],A||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Fi(),ao(u.i,u.u,u.A,u.l,u.R,u.m)}$e.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},$e.prototype.Y=function(u){try{if(u==this.g)t:{const Te=En(this.g);var m=this.g.Ba();const Ti=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||tu(this.g)))){this.J||Te!=4||m==7||(m==8||0>=Ti?Fi(3):Fi(2)),Yi(this);var y=this.g.Z();this.X=y;e:if(Kl(this)){var A=tu(this.g);u="";var k=A.length,q=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),Gn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(q&&m==k-1)});A.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=y==200,gh(this.i,this.u,this.A,this.l,this.R,Te,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Ee=this.g;if((Pt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ft(Pt)){var xt=Pt;break e}}xt=null}if(y=xt)Qi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kr(this,y);else{this.o=!1,this.s=3,ee(12),Me(this),Gn(this);break t}}if(this.P){y=!0;let Pe;for(;!this.J&&this.C<W.length;)if(Pe=Yl(this,W),Pe==Ls){Te==4&&(this.s=4,ee(14),y=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==oo){this.s=4,ee(15),Qi(this.i,this.l,W,"[Invalid Chunk]"),y=!1;break}else Qi(this.i,this.l,Pe,null),Kr(this,Pe);if(Kl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||W.length!=0||this.h.h||(this.s=1,ee(16),y=!1),this.o=this.o&&y,!y)Qi(this.i,this.l,W,"[Invalid Chunked Response]"),Me(this),Gn(this);else if(0<W.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),rs(Ce),Ce.M=!0,ee(11))}}else Qi(this.i,this.l,W,null),Kr(this,W);Te==4&&Me(this),this.o&&!this.J&&(Te==4?su(this.j,this):(this.o=!1,Qr(this)))}else Eh(this.g),y==400&&0<W.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Me(this),Gn(this)}}}catch{}finally{}};function Kl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Yl(u,m){var y=u.C,A=m.indexOf(`
`,y);return A==-1?Ls:(y=Number(m.substring(y,A)),isNaN(y)?oo:(A+=1,A+y>m.length?Ls:(m=m.slice(A,A+y),u.C=A+y,m)))}$e.prototype.cancel=function(){this.J=!0,Me(this)};function Qr(u){u.S=Date.now()+u.I,Xl(u,u.I)}function Xl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(N(u.ba,u),m)}function Yi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}$e.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ql(this.i,this.A),this.L!=2&&(Fi(),ee(17)),Me(this),this.s=2,Gn(this)):Xl(this,this.S-u)};function Gn(u){u.j.G==0||u.J||su(u.j,u)}function Me(u){Yi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Hr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Kr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||lo(y.h,u))){if(!u.K&&lo(y.h,u)&&y.G==3){try{var A=y.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)$s(y),Ys(y);else break t;vo(y),ee(18)}}else y.za=k[1],0<y.za-y.T&&37500>k[2]&&y.F&&y.v==0&&!y.C&&(y.C=de(N(y.Za,y),6e3));if(1>=Bs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ei(y,11)}else if((u.K||y.g==u)&&$s(y),!ft(m))for(k=y.Da.g.parse(m),m=0;m<k.length;m++){let xt=k[m];if(y.T=xt[0],xt=xt[1],y.G==2)if(xt[0]=="c"){y.K=xt[1],y.ia=xt[2];const Ce=xt[3];Ce!=null&&(y.la=Ce,y.j.info("VER="+y.la));const Te=xt[4];Te!=null&&(y.Aa=Te,y.j.info("SVER="+y.Aa));const Ti=xt[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(A=1.5*Ti,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const Pe=u.g;if(Pe){const Zn=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zn){var q=A.h;q.g||Zn.indexOf("spdy")==-1&&Zn.indexOf("quic")==-1&&Zn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(qs(q,q.h),q.h=null))}if(A.D){const To=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;To&&(A.ya=To,Qt(A.I,A.D,To))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var W=u;if(A.qa=ou(A,A.J?A.ia:null,A.W),W.K){Ze(A.h,W);var Pt=W,Ee=A.L;Ee&&(Pt.I=Ee),Pt.B&&(Yi(Pt),Qr(Pt)),A.g=W}else iu(A);0<y.i.length&&Xs(y)}else xt[0]!="stop"&&xt[0]!="close"||Ei(y,7);else y.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Ei(y,7):yo(y):xt[0]!="noop"&&y.l&&y.l.ta(xt),y.v=0)}}Fi(4)}catch{}}var $l=class{constructor(u,m){this.g=u,this.map=m}};function mi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Bs(u){return u.h?1:u.g?u.g.size:0}function lo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function qs(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mi.prototype.cancel=function(){if(this.i=uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function uo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return tt(u.i)}function ph(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,A=0;A<y;A++)m.push(u[A]);return m}m=[],y=0;for(A in u)m[y++]=u[A];return m}function js(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const A in u)m[y++]=A;return m}}}function co(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=js(u),A=ph(u),k=A.length,q=0;q<k;q++)m.call(void 0,A[q],y&&y[q],u)}var Yr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var A=u[y].indexOf("="),k=null;if(0<=A){var q=u[y].substring(0,A);k=u[y].substring(A+1)}else q=u[y];m(q,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,Xr(this,u.j),this.o=u.o,this.g=u.g,Xi(this,u.s),this.l=u.l;var m=u.i,y=new pi;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),gi(this,y),this.m=u.m}else u&&(m=String(u).match(Yr))?(this.h=!1,Xr(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),Xi(this,m[4]),this.l=yn(m[5]||"",!0),gi(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Zr(m,ho,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Zr(m,ho,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Zr(y,y.charAt(0)=="/"?_h:fo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Zr(y,Hs)),u.join("")};function an(u){return new me(u)}function Xr(u,m,y){u.j=y?yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Xi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function gi(u,m,y){m instanceof pi?(u.i=m,Jl(u.i,u.h)):(y||(m=Zr(m,vh)),u.i=new pi(m,u.h))}function Qt(u,m,y){u.i.set(m,y)}function $r(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Zr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Zl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Zl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ho=/[#\/\?@]/g,fo=/[#\?:]/g,_h=/[#\?]/g,vh=/[#\?@]/g,Hs=/#/g;function pi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&yh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=pi.prototype,r.add=function(u,m){_n(this),this.i=null,u=Fn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function yi(u,m){_n(u),m=Fn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function _i(u,m){return _n(u),m=Fn(u,m),u.g.has(m)}r.forEach=function(u,m){_n(this),this.g.forEach(function(y,A){y.forEach(function(k){u.call(m,k,A,this)},this)},this)},r.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let A=0;A<m.length;A++){const k=u[A];for(let q=0;q<k.length;q++)y.push(m[A])}return y},r.V=function(u){_n(this);let m=[];if(typeof u=="string")_i(this,u)&&(m=m.concat(this.g.get(Fn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return _n(this),this.i=null,u=Fn(this,u),_i(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function mo(u,m,y){yi(u,m),0<y.length&&(u.i=null,u.g.set(Fn(u,m),tt(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var A=m[y];const q=encodeURIComponent(String(A)),W=this.V(A);for(A=0;A<W.length;A++){var k=q;W[A]!==""&&(k+="="+encodeURIComponent(String(W[A]))),u.push(k)}}return this.i=u.join("&")};function Fn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Jl(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(y,A){var k=A.toLowerCase();A!=k&&(yi(this,A),mo(this,k,y))},u)),u.j=m}function Jr(u,m){const y=new pn;if(g.Image){const A=new Image;A.onload=j(vn,y,"TestLoadImage: loaded",!0,m,A),A.onerror=j(vn,y,"TestLoadImage: error",!1,m,A),A.onabort=j(vn,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=j(vn,y,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Nn(u,m){const y=new pn,A=new AbortController,k=setTimeout(()=>{A.abort(),vn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(k),q.ok?vn(y,"TestPingServer: ok",!0,m):vn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),vn(y,"TestPingServer: error",!1,m)})}function vn(u,m,y,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(y)}catch{}}function Wr(){this.g=new Gr}function Qn(u,m,y){const A=y||"";try{co(u,function(k,q){let W=k;_(k)&&(W=Dn(k)),m.push(A+q+"="+encodeURIComponent(W))})}catch(k){throw m.push(A+"type="+encodeURIComponent("_badmap")),k}}function $i(u){this.l=u.Ub||null,this.j=u.eb||!1}$($i,eo),$i.prototype.g=function(){return new vi(this.l,this.j)},$i.prototype.i=function(u){return function(){return u}}({});function vi(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(vi,ae),r=vi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Yn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;go(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function go(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Kn(this):Yn(this),this.readyState==3&&go(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Kn(this))},r.Qa=function(u){this.g&&(this.response=u,Kn(this))},r.ga=function(){this.g&&Kn(this)};function Kn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function po(u){let m="";return Dt(u,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function Ie(u,m,y){t:{for(A in y){var A=!1;break t}A=!0}A||(y=po(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Qt(u,m,y))}function qt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(qt,ae);var Gs=/^https?$/i,ts=["POST","PUT"];r=qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?no(this.o):no(jn),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Wl(this,q);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)y.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())y.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ts,m,void 0))||A||k||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of y)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{es(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Wl(this,q)}};function Wl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Fs(u),Xn(u)}function Fs(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Xn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Qs(this):this.bb())},r.bb=function(){Qs(this)};function Qs(u){if(u.h&&typeof f<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)je(u.Ea,0,u);else if(Ht(u,"readystatechange"),En(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var A;if(A=W===0){var k=String(u.D).match(Yr)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),A=!Gs.test(k?k.toLowerCase():"")}y=A}if(y)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var q=2<En(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Fs(u)}}finally{Xn(u)}}}}function Xn(u,m){if(u.g){es(u);const y=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{y.onreadystatechange=A}catch{}}}function es(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ks(m)}};function tu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Eh(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(ft(u[A]))continue;var y=P(u[A]);const k=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[k]||[];m[k]=q,q.push(y)}M(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Ks(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ns("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ns("baseRetryDelayMs",5e3,u),this.cb=ns("retryDelaySeedMs",1e4,u),this.Wa=ns("forwardChannelMaxRetries",2,u),this.wa=ns("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new mi(u&&u.concurrentRequestLimit),this.Da=new Wr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ks.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,A){ee(0),this.W=u,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=ou(this,null,this.W),Xs(this)};function yo(u){if(eu(u),u.G==3){var m=u.U++,y=an(u.I);if(Qt(y,"SID",u.K),Qt(y,"RID",m),Qt(y,"TYPE","terminate"),is(u,y),m=new $e(u,u.j,m),m.L=2,m.v=$r(an(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=lu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Qr(m)}au(u)}function Ys(u){u.g&&(rs(u),u.g.cancel(),u.g=null)}function eu(u){Ys(u),u.u&&(g.clearTimeout(u.u),u.u=null),$s(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Xs(u){if(!zs(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||D(),ut||(et(),ut=!0),zt.add(m,u),u.B=0}}function Th(u,m){return Bs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(N(u.Ga,u,m),Eo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new $e(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),V(q,this.S)):q=this.S),this.m!==null||this.O||(k.H=q,q=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=nu(this,k,m),y=an(this.I),Qt(y,"RID",u),Qt(y,"CVER",22),this.D&&Qt(y,"X-HTTP-Session-Id",this.D),is(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(po(q)))+"&"+m:this.m&&Ie(y,this.m,q)),qs(this.h,k),this.Ua&&Qt(y,"TYPE","init"),this.P?(Qt(y,"$req",m),Qt(y,"SID","null"),k.T=!0,On(k,y,null)):On(k,y,m),this.G=2}}else this.G==3&&(u?_o(this,u):this.i.length==0||zs(this.h)||_o(this))};function _o(u,m){var y;m?y=m.l:y=u.U++;const A=an(u.I);Qt(A,"SID",u.K),Qt(A,"RID",y),Qt(A,"AID",u.T),is(u,A),u.m&&u.o&&Ie(A,u.m,u.o),y=new $e(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=nu(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),qs(u.h,y),On(y,A,m)}function is(u,m){u.H&&Dt(u.H,function(y,A){Qt(m,A,y)}),u.l&&co({},function(y,A){Qt(m,A,y)})}function nu(u,m,y){y=Math.min(u.i.length,y);var A=u.l?N(u.l.Na,u.l,u):null;t:{var k=u.i;let q=-1;for(;;){const W=["count="+y];q==-1?0<y?(q=k[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Pt=!0;for(let Ee=0;Ee<y;Ee++){let xt=k[Ee].g;const Ce=k[Ee].map;if(xt-=q,0>xt)q=Math.max(0,k[Ee].g-100),Pt=!1;else try{Qn(Ce,W,"req"+xt+"_")}catch{A&&A(Ce)}}if(Pt){A=W.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,A}function iu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||D(),ut||(et(),ut=!0),zt.add(m,u),u.v=0}}function vo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(N(u.Fa,u),Eo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,ru(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(N(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Ys(this),ru(this))};function rs(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function ru(u){u.g=new $e(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),is(u,m),u.m&&u.o&&Ie(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=$r(an(m)),y.m=null,y.P=!0,di(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Ys(this),vo(this),ee(19))};function $s(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function su(u,m){var y=null;if(u.g==m){$s(u),rs(u),u.g=null;var A=2}else if(lo(u.h,m))y=m.D,Ze(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;A=Gi(),Ht(A,new ve(A,y)),Xs(u)}else iu(u);else if(k=m.s,k==3||k==0&&0<m.X||!(A==1&&Th(u,m)||A==2&&vo(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),k){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function Eo(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var y=N(u.fb,u),A=u.Xa;const k=!A;A=new me(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Xr(A,"https"),$r(A),k?Jr(A.toString(),y):Nn(A.toString(),y)}else ee(2);u.G=0,u.l&&u.l.sa(m),au(u),eu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function au(u){if(u.G=0,u.ka=[],u.l){const m=uo(u.h);(m.length!=0||u.i.length!=0)&&(X(u.ka,m),X(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function ou(u,m,y){var A=y instanceof me?an(y):new me(y);if(A.g!="")m&&(A.g=m+"."+A.g),Xi(A,A.s);else{var k=g.location;A=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var q=new me(null);A&&Xr(q,A),m&&(q.g=m),k&&Xi(q,k),y&&(q.l=y),A=q}return y=u.D,m=u.ya,y&&m&&Qt(A,y,m),Qt(A,"VER",u.la),is(u,A),A}function lu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new $i({eb:y})):new qt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function uu(){}r=uu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Zs(){}Zs.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){ae.call(this),this.g=new Ks(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ft(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ft(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $n(this)}$(Je,ae),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){yo(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Dn(u),u=y);m.i.push(new $l(m.Ya++,u)),m.G==3&&Xs(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,yo(this.g),delete this.g,Je.aa.N.call(this)};function cu(u){hi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(cu,hi);function hu(){ro.call(this),this.status=1}$(hu,ro);function $n(u){this.g=u}$($n,uu),$n.prototype.ua=function(){Ht(this.g,"a")},$n.prototype.ta=function(u){Ht(this.g,new cu(u))},$n.prototype.sa=function(u){Ht(this.g,new hu)},$n.prototype.ra=function(){Ht(this.g,"b")},Zs.prototype.createWebChannel=Zs.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,gE=function(){return new Zs},mE=function(){return Gi()},dE=qn,xd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,_c=Ki,fi.COMPLETE="complete",fE=fi,io.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",ae.prototype.listen=ae.prototype.K,hl=io,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,hE=qt}).apply(typeof fc<"u"?fc:typeof self<"u"?self:typeof window<"u"?window:{});const I_="@firebase/firestore",C_="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fa="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new im("@firebase/firestore");function wa(){return Rs.logLevel}function it(r,...t){if(Rs.logLevel<=Vt.DEBUG){const n=t.map(am);Rs.debug(`Firestore (${Fa}): ${r}`,...n)}}function zi(r,...t){if(Rs.logLevel<=Vt.ERROR){const n=t.map(am);Rs.error(`Firestore (${Fa}): ${r}`,...n)}}function ka(r,...t){if(Rs.logLevel<=Vt.WARN){const n=t.map(am);Rs.warn(`Firestore (${Fa}): ${r}`,...n)}}function am(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,pE(r,s,n)}function pE(r,t,n){let s=`FIRESTORE (${Fa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw zi(s),new Error(s)}function jt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||pE(t,l,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends ji{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class j1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}}class H1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class G1{constructor(t){this.t=t,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){jt(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new As;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new As,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new As)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new yE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new Qe(t)}}class F1{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q1{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new F1(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K1{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){jt(this.o===void 0,3512);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new D_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new D_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=Y1(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Rt(r,t){return r<t?-1:r>t?1:0}function kd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return Rt(s,l);{const c=_E(),f=X1(c.encode(O_(r,n)),c.encode(O_(t,n)));return f!==0?f:Rt(s,l)}}n+=s>65535?2:1}return Rt(r.length,t.length)}function O_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function X1(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Rt(r[n],t[n]);return Rt(r.length,t.length)}function Ua(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=-62135596800,V_=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*V_);return new be(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<N_)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V_}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-N_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new be(0,0))}static max(){return new Tt(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="__name__";class ii{constructor(t,n,s){n===void 0?n=0:n>t.length&&pt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&pt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ii.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ii?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=ii.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Rt(t.length,n.length)}static compareSegments(t,n){const s=ii.isNumericId(t),l=ii.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?ii.extractNumericId(t).compare(ii.extractNumericId(n)):kd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ir.fromString(t.substring(4,t.length-2))}}class te extends ii{construct(t,n,s){return new te(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new at(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new te(n)}static emptyPath(){return new te([])}}const $1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ii{construct(t,n,s){return new Be(t,n,s)}static isValidIdentifier(t){return $1.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M_}static keyField(){return new Be([M_])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new at(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new at(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(c(),l++)}if(c(),f)throw new at(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Be(n)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.path=t}static fromPath(t){return new ct(te.fromString(t))}static fromName(t){return new ct(te.fromString(t).popFirst(5))}static empty(){return new ct(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return te.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new te(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=-1;function Z1(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(s===1e9?new be(n+1,0):new be(n,s));return new Or(l,ct.empty(),t)}function J1(r){return new Or(r.readTime,r.key,Sl)}class Or{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Or(Tt.min(),ct.empty(),Sl)}static max(){return new Or(Tt.max(),ct.empty(),Sl)}}function W1(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ct.comparator(r.documentKey,t.documentKey),n!==0?n:Rt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==tb)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new K((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):K.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):K.reject(n)}static resolve(t){return new K((n,s)=>{n(t)})}static reject(t){return new K((n,s)=>{s(t)})}static waitFor(t){return new K((n,s)=>{let l=0,c=0,f=!1;t.forEach(g=>{++l,g.next(()=>{++c,f&&c===l&&n()},p=>s(p))}),f=!0,c===l&&n()})}static or(t){let n=K.resolve(!1);for(const s of t)n=n.next(l=>l?K.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new K((s,l)=>{const c=t.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next(T=>{f[_]=T,++g,g===c&&s(f)},T=>l(T))}})}static doWhile(t,n){return new K((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function nb(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ka(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Xc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=-1;function $c(r){return r==null}function Oc(r){return r===0&&1/r==-1/0}function ib(r){return typeof r=="number"&&Number.isInteger(r)&&!Oc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="";function rb(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=P_(t)),t=sb(r.get(n),t);return P_(t)}function sb(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case EE:n+="";break;default:n+=c}}return n}function P_(r){return r+EE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Cs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function TE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,n){this.comparator=t,this.root=n||ze.EMPTY}insert(t,n){return new re(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new dc(this.root,t,this.comparator,!0)}}class dc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ze{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??ze.RED,this.left=l??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new ze(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return ze.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new ze(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(t){return new k_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Re(this.comparator);return n.data=t,n}}class k_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.fields=t,t.sort(Be.comparator)}static empty(){return new kn([])}unionWith(t){let n=new Re(Be.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new kn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ua(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new AE("Invalid base64 string: "+c):c}}(t);return new qe(n)}static fromUint8Array(t){const n=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(t);return new qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const ab=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(r){if(jt(!!r,39018),typeof r=="string"){let t=0;const n=ab.exec(r);if(jt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:fe(r.seconds),nanos:fe(r.nanos)}}function fe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vr(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="server_timestamp",bE="__type__",RE="__previous_value__",wE="__local_write_time__";function lm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[bE])===null||n===void 0?void 0:n.stringValue)===SE}function Zc(r){const t=r.mapValue.fields[RE];return lm(t)?Zc(t):t}function bl(r){const t=Nr(r.mapValue.fields[wE].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t,n,s,l,c,f,g,p,_,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const Nc="(default)";class Rl{constructor(t,n){this.projectId=t,this.database=n||Nc}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===Nc}isEqual(t){return t instanceof Rl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="__type__",lb="__max__",mc={mapValue:{}},CE="__vector__",Vc="value";function Mr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?lm(r)?4:cb(r)?9007199254740991:ub(r)?10:11:pt(28295,{value:r})}function li(r,t){if(r===t)return!0;const n=Mr(r);if(n!==Mr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return bl(r).isEqual(bl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Nr(l.timestampValue),g=Nr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Vr(l.bytesValue).isEqual(Vr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return fe(l.geoPointValue.latitude)===fe(c.geoPointValue.latitude)&&fe(l.geoPointValue.longitude)===fe(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return fe(l.integerValue)===fe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=fe(l.doubleValue),g=fe(c.doubleValue);return f===g?Oc(f)===Oc(g):isNaN(f)&&isNaN(g)}return!1}(r,t);case 9:return Ua(r.arrayValue.values||[],t.arrayValue.values||[],li);case 10:case 11:return function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(x_(f)!==x_(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!li(f[p],g[p])))return!1;return!0}(r,t);default:return pt(52216,{left:r})}}function wl(r,t){return(r.values||[]).find(n=>li(n,t))!==void 0}function La(r,t){if(r===t)return 0;const n=Mr(r),s=Mr(t);if(n!==s)return Rt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rt(r.booleanValue,t.booleanValue);case 2:return function(c,f){const g=fe(c.integerValue||c.doubleValue),p=fe(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return U_(r.timestampValue,t.timestampValue);case 4:return U_(bl(r),bl(t));case 5:return kd(r.stringValue,t.stringValue);case 6:return function(c,f){const g=Vr(c),p=Vr(f);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,f){const g=c.split("/"),p=f.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=Rt(g[_],p[_]);if(T!==0)return T}return Rt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,f){const g=Rt(fe(c.latitude),fe(f.latitude));return g!==0?g:Rt(fe(c.longitude),fe(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return L_(r.arrayValue,t.arrayValue);case 10:return function(c,f){var g,p,_,T;const I=c.fields||{},N=f.fields||{},j=(g=I[Vc])===null||g===void 0?void 0:g.arrayValue,$=(p=N[Vc])===null||p===void 0?void 0:p.arrayValue,tt=Rt(((_=j==null?void 0:j.values)===null||_===void 0?void 0:_.length)||0,((T=$==null?void 0:$.values)===null||T===void 0?void 0:T.length)||0);return tt!==0?tt:L_(j,$)}(r.mapValue,t.mapValue);case 11:return function(c,f){if(c===mc.mapValue&&f===mc.mapValue)return 0;if(c===mc.mapValue)return 1;if(f===mc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=f.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let I=0;I<p.length&&I<T.length;++I){const N=kd(p[I],T[I]);if(N!==0)return N;const j=La(g[p[I]],_[T[I]]);if(j!==0)return j}return Rt(p.length,T.length)}(r.mapValue,t.mapValue);default:throw pt(23264,{Pe:n})}}function U_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Rt(r,t);const n=Nr(r),s=Nr(t),l=Rt(n.seconds,s.seconds);return l!==0?l:Rt(n.nanos,s.nanos)}function L_(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=La(n[l],s[l]);if(c)return c}return Rt(n.length,s.length)}function za(r){return Ud(r)}function Ud(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Nr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Vr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ct.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Ud(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${Ud(n.fields[f])}`;return l+"}"}(r.mapValue):pt(61005,{value:r})}function vc(r){switch(Mr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Zc(r);return t?16+vc(t):16;case 5:return 2*r.stringValue.length;case 6:return Vr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+vc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Cs(s.fields,(c,f)=>{l+=c.length+vc(f)}),l}(r.mapValue);default:throw pt(13486,{value:r})}}function z_(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Ld(r){return!!r&&"integerValue"in r}function um(r){return!!r&&"arrayValue"in r}function B_(r){return!!r&&"nullValue"in r}function q_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ec(r){return!!r&&"mapValue"in r}function ub(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[IE])===null||n===void 0?void 0:n.stringValue)===CE}function pl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Cs(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=pl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=pl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function cb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===lb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.value=t}static empty(){return new Cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Ec(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=pl(n)}setAll(t){let n=Be.emptyPath(),s={},l=[];t.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}f?s[g.lastSegment()]=pl(f):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());Ec(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return li(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Ec(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Cs(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new Cn(pl(this.value))}}function DE(r){const t=[];return Cs(r.fields,(n,s)=>{const l=new Be([n]);if(Ec(s)){const c=DE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const f of c)t.push(l.child(f))}else t.push(l)}),new kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,n,s,l,c,f,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(t){return new Ke(t,0,Tt.min(),Tt.min(),Tt.min(),Cn.empty(),0)}static newFoundDocument(t,n,s,l){return new Ke(t,1,n,Tt.min(),s,l,0)}static newNoDocument(t,n){return new Ke(t,2,n,Tt.min(),Tt.min(),Cn.empty(),0)}static newUnknownDocument(t,n){return new Ke(t,3,n,Tt.min(),Tt.min(),Cn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,n){this.position=t,this.inclusive=n}}function j_(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],f=r.position[l];if(c.field.isKeyField()?s=ct.comparator(ct.fromName(f.referenceValue),n.key):s=La(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function H_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!li(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(t,n="asc"){this.field=t,this.dir=n}}function hb(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{}class _e extends OE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new db(t,n,s):n==="array-contains"?new pb(t,s):n==="in"?new yb(t,s):n==="not-in"?new _b(t,s):n==="array-contains-any"?new vb(t,s):new _e(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new mb(t,s):new gb(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(La(n,this.value)):n!==null&&Mr(this.value)===Mr(n)&&this.matchesComparison(La(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends OE{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Ln(t,n)}matches(t){return NE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function NE(r){return r.op==="and"}function VE(r){return fb(r)&&NE(r)}function fb(r){for(const t of r.filters)if(t instanceof Ln)return!1;return!0}function zd(r){if(r instanceof _e)return r.field.canonicalString()+r.op.toString()+za(r.value);if(VE(r))return r.filters.map(t=>zd(t)).join(",");{const t=r.filters.map(n=>zd(n)).join(",");return`${r.op}(${t})`}}function ME(r,t){return r instanceof _e?function(s,l){return l instanceof _e&&s.op===l.op&&s.field.isEqual(l.field)&&li(s.value,l.value)}(r,t):r instanceof Ln?function(s,l){return l instanceof Ln&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,f,g)=>c&&ME(f,l.filters[g]),!0):!1}(r,t):void pt(19439)}function PE(r){return r instanceof _e?function(n){return`${n.field.canonicalString()} ${n.op} ${za(n.value)}`}(r):r instanceof Ln?function(n){return n.op.toString()+" {"+n.getFilters().map(PE).join(" ,")+"}"}(r):"Filter"}class db extends _e{constructor(t,n,s){super(t,n,s),this.key=ct.fromName(s.referenceValue)}matches(t){const n=ct.comparator(t.key,this.key);return this.matchesComparison(n)}}class mb extends _e{constructor(t,n){super(t,"in",n),this.keys=xE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class gb extends _e{constructor(t,n){super(t,"not-in",n),this.keys=xE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function xE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ct.fromName(s.referenceValue))}class pb extends _e{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return um(n)&&wl(n.arrayValue,this.value)}}class yb extends _e{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&wl(this.value.arrayValue,n)}}class _b extends _e{constructor(t,n){super(t,"not-in",n)}matches(t){if(wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wl(this.value.arrayValue,n)}}class vb extends _e{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!um(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(t,n=null,s=[],l=[],c=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.Ie=null}}function G_(r,t=null,n=[],s=[],l=null,c=null,f=null){return new Eb(r,t,n,s,l,c,f)}function cm(r){const t=At(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>zd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),$c(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>za(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>za(s)).join(",")),t.Ie=n}return t.Ie}function hm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!hb(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!ME(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!H_(r.startAt,t.startAt)&&H_(r.endAt,t.endAt)}function Bd(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t,n=null,s=[],l=[],c=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Tb(r,t,n,s,l,c,f,g){return new Ya(r,t,n,s,l,c,f,g)}function fm(r){return new Ya(r)}function F_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function kE(r){return r.collectionGroup!==null}function yl(r){const t=At(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Re(Be.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new Il(c,s))}),n.has(Be.keyField().canonicalString())||t.Ee.push(new Il(Be.keyField(),s))}return t.Ee}function ri(r){const t=At(r);return t.de||(t.de=Ab(t,yl(r))),t.de}function Ab(r,t){if(r.limitType==="F")return G_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Il(l.field,c)});const n=r.endAt?new Mc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Mc(r.startAt.position,r.startAt.inclusive):null;return G_(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function qd(r,t){const n=r.filters.concat([t]);return new Ya(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function jd(r,t,n){return new Ya(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Jc(r,t){return hm(ri(r),ri(t))&&r.limitType===t.limitType}function UE(r){return`${cm(ri(r))}|lt:${r.limitType}`}function Ia(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>PE(l)).join(", ")}]`),$c(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>za(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>za(l)).join(",")),`Target(${s})`}(ri(r))}; limitType=${r.limitType})`}function Wc(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ct.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of yl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(f,g,p){const _=j_(f,g,p);return f.inclusive?_<=0:_<0}(s.startAt,yl(s),l)||s.endAt&&!function(f,g,p){const _=j_(f,g,p);return f.inclusive?_>=0:_>0}(s.endAt,yl(s),l))}(r,t)}function Sb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function LE(r){return(t,n)=>{let s=!1;for(const l of yl(r)){const c=bb(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function bb(r,t,n){const s=r.field.isKeyField()?ct.comparator(t.key,n.key):function(c,f,g){const p=f.data.field(c),_=g.data.field(c);return p!==null&&_!==null?La(p,_):pt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Cs(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return TE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=new re(ct.comparator);function Bi(){return Rb}const zE=new re(ct.comparator);function fl(...r){let t=zE;for(const n of r)t=t.insert(n.key,n);return t}function BE(r){let t=zE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Ts(){return _l()}function qE(){return _l()}function _l(){return new Ds(r=>r.toString(),(r,t)=>r.isEqual(t))}const wb=new re(ct.comparator),Ib=new Re(ct.comparator);function Mt(...r){let t=Ib;for(const n of r)t=t.add(n);return t}const Cb=new Re(Rt);function Db(){return Cb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oc(t)?"-0":t}}function jE(r){return{integerValue:""+r}}function Ob(r,t){return ib(t)?jE(t):dm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this._=void 0}}function Nb(r,t,n){return r instanceof Pc?function(l,c){const f={fields:{[bE]:{stringValue:SE},[wE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&lm(c)&&(c=Zc(c)),c&&(f.fields[RE]=c),{mapValue:f}}(n,t):r instanceof Cl?GE(r,t):r instanceof Dl?FE(r,t):function(l,c){const f=HE(l,c),g=Q_(f)+Q_(l.Re);return Ld(f)&&Ld(l.Re)?jE(g):dm(l.serializer,g)}(r,t)}function Vb(r,t,n){return r instanceof Cl?GE(r,t):r instanceof Dl?FE(r,t):n}function HE(r,t){return r instanceof xc?function(s){return Ld(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Pc extends th{}class Cl extends th{constructor(t){super(),this.elements=t}}function GE(r,t){const n=QE(t);for(const s of r.elements)n.some(l=>li(l,s))||n.push(s);return{arrayValue:{values:n}}}class Dl extends th{constructor(t){super(),this.elements=t}}function FE(r,t){let n=QE(t);for(const s of r.elements)n=n.filter(l=>!li(l,s));return{arrayValue:{values:n}}}class xc extends th{constructor(t,n){super(),this.serializer=t,this.Re=n}}function Q_(r){return fe(r.integerValue||r.doubleValue)}function QE(r){return um(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Mb(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Cl&&l instanceof Cl||s instanceof Dl&&l instanceof Dl?Ua(s.elements,l.elements,li):s instanceof xc&&l instanceof xc?li(s.Re,l.Re):s instanceof Pc&&l instanceof Pc}(r.transform,t.transform)}class Pb{constructor(t,n){this.version=t,this.transformResults=n}}class Ui{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ui}static exists(t){return new Ui(void 0,t)}static updateTime(t){return new Ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Tc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class eh{}function KE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new XE(r.key,Ui.none()):new xl(r.key,r.data,Ui.none());{const n=r.data,s=Cn.empty();let l=new Re(Be.comparator);for(let c of t.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),l=l.add(c)}return new Os(r.key,s,new kn(l.toArray()),Ui.none())}}function xb(r,t,n){r instanceof xl?function(l,c,f){const g=l.value.clone(),p=Y_(l.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):r instanceof Os?function(l,c,f){if(!Tc(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=Y_(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(YE(l)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function vl(r,t,n,s){return r instanceof xl?function(c,f,g,p){if(!Tc(c.precondition,f))return g;const _=c.value.clone(),T=X_(c.fieldTransforms,p,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof Os?function(c,f,g,p){if(!Tc(c.precondition,f))return g;const _=X_(c.fieldTransforms,p,f),T=f.data;return T.setAll(YE(c)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(I=>I.field))}(r,t,n,s):function(c,f,g){return Tc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(r,t,n)}function kb(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=HE(s.transform,l||null);c!=null&&(n===null&&(n=Cn.empty()),n.set(s.field,c))}return n||null}function K_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ua(s,l,(c,f)=>Mb(c,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class xl extends eh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Os extends eh{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function YE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function Y_(r,t,n){const s=new Map;jt(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let l=0;l<n.length;l++){const c=r[l],f=c.transform,g=t.data.field(c.field);s.set(c.field,Vb(f,g,n[l]))}return s}function X_(r,t,n){const s=new Map;for(const l of r){const c=l.transform,f=n.data.field(l.field);s.set(l.field,Nb(c,f,t))}return s}class XE extends eh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ub extends eh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&xb(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=vl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=vl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=qE();return this.mutations.forEach(l=>{const c=t.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(l.key)?null:g;const p=KE(f,g);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Mt())}isEqual(t){return this.batchId===t.batchId&&Ua(this.mutations,t.mutations,(n,s)=>K_(n,s))&&Ua(this.baseMutations,t.baseMutations,(n,s)=>K_(n,s))}}class mm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){jt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let l=function(){return wb}();const c=t.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new mm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Ut;function qb(r){switch(r){case Y.OK:return pt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function $E(r){if(r===void 0)return zi("GRPC error has no .code"),Y.UNKNOWN;switch(r){case ye.OK:return Y.OK;case ye.CANCELLED:return Y.CANCELLED;case ye.UNKNOWN:return Y.UNKNOWN;case ye.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ye.INTERNAL:return Y.INTERNAL;case ye.UNAVAILABLE:return Y.UNAVAILABLE;case ye.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ye.NOT_FOUND:return Y.NOT_FOUND;case ye.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ye.ABORTED:return Y.ABORTED;case ye.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ye.DATA_LOSS:return Y.DATA_LOSS;default:return pt(39323,{code:r})}}(Ut=ye||(ye={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=new Ir([4294967295,4294967295],0);function $_(r){const t=_E().encode(r),n=new cE;return n.update(t),new Uint8Array(n.digest())}function Z_(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ir([n,s],0),new Ir([l,c],0)]}class gm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new dl(`Invalid padding: ${n}`);if(s<0)throw new dl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new dl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Ir.fromNumber(this.pe)}we(t,n,s){let l=t.add(n.multiply(Ir.fromNumber(s)));return l.compare(jb)===1&&(l=new Ir([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}Se(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=$_(t),[s,l]=Z_(n);for(let c=0;c<this.hashCount;c++){const f=this.we(s,l,c);if(!this.Se(f))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new gm(c,l,n);return s.forEach(g=>f.insert(g)),f}insert(t){if(this.pe===0)return;const n=$_(t),[s,l]=Z_(n);for(let c=0;c<this.hashCount;c++){const f=this.we(s,l,c);this.be(f)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,kl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new nh(Tt.min(),l,new re(Rt),Bi(),Mt())}}class kl{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new kl(s,n,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t,n,s,l){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=l}}class ZE{constructor(t,n){this.targetId=t,this.Ce=n}}class JE{constructor(t,n,s=qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class J_{constructor(){this.Fe=0,this.Me=W_(),this.xe=qe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Mt(),n=Mt(),s=Mt();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:pt(38017,{changeType:c})}}),new kl(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=W_()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,jt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Hb{constructor(t){this.ze=t,this.je=new Map,this.He=Bi(),this.Je=gc(),this.Ye=gc(),this.Ze=new re(Rt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:pt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,l)=>{this.it(l)&&n(l)})}ot(t){const n=t.targetId,s=t.Ce.count,l=this._t(n);if(l){const c=l.target;if(Bd(c))if(s===0){const f=new ct(c.path);this.tt(n,f,Ke.newNoDocument(f,Tt.min()))}else jt(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const g=this.ct(t),p=g?this.lt(g,t,f):1;if(p!==0){this.st(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let f,g;try{f=Vr(s).toUint8Array()}catch(p){if(p instanceof AE)return ka("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new gm(f,l,c)}catch(p){return ka(p instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const f=this.ze.Pt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.tt(n,c,null),l++)}),l}It(t){const n=new Map;this.je.forEach((c,f)=>{const g=this._t(f);if(g){if(c.current&&Bd(g.target)){const p=new ct(g.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Ke.newNoDocument(p,t))}c.Le&&(n.set(f,c.qe()),c.Qe())}});let s=Mt();this.Ye.forEach((c,f)=>{let g=!0;f.forEachWhile(p=>{const _=this._t(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,f)=>f.setReadTime(t));const l=new nh(t,n,this.Ze,this.He,s);return this.He=Bi(),this.Je=gc(),this.Ye=gc(),this.Ze=new re(Rt),l}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,n)?l.$e(n,1):l.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new J_,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Re(Rt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Re(Rt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||it("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new J_),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function gc(){return new re(ct.comparator)}function W_(){return new re(ct.comparator)}const Gb={asc:"ASCENDING",desc:"DESCENDING"},Fb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qb={and:"AND",or:"OR"};class Kb{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Hd(r,t){return r.useProto3Json||$c(t)?t:{value:t}}function kc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function WE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Yb(r,t){return kc(r,t.toTimestamp())}function si(r){return jt(!!r,49232),Tt.fromTimestamp(function(n){const s=Nr(n);return new be(s.seconds,s.nanos)}(r))}function pm(r,t){return Gd(r,t).canonicalString()}function Gd(r,t){const n=function(l){return new te(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function tT(r){const t=te.fromString(r);return jt(sT(t),10190,{key:t.toString()}),t}function Fd(r,t){return pm(r.databaseId,t.path)}function bd(r,t){const n=tT(t);if(n.get(1)!==r.databaseId.projectId)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ct(nT(n))}function eT(r,t){return pm(r.databaseId,t)}function Xb(r){const t=tT(r);return t.length===4?te.emptyPath():nT(t)}function Qd(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function nT(r){return jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function tv(r,t,n){return{name:Fd(r,t),fields:n.value.mapValue.fields}}function $b(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,T){return _.useProto3Json?(jt(T===void 0||typeof T=="string",58123),qe.fromBase64String(T||"")):(jt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),qe.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&function(_){const T=_.code===void 0?Y.UNKNOWN:$E(_.code);return new at(T,_.message||"")}(f);n=new JE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=bd(r,s.document.name),c=si(s.document.updateTime),f=s.document.createTime?si(s.document.createTime):Tt.min(),g=new Cn({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(l,c,f,g),_=s.targetIds||[],T=s.removedTargetIds||[];n=new Ac(_,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=bd(r,s.document),c=s.readTime?si(s.readTime):Tt.min(),f=Ke.newNoDocument(l,c),g=s.removedTargetIds||[];n=new Ac([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=bd(r,s.document),c=s.removedTargetIds||[];n=new Ac([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,f=new Bb(l,c),g=s.targetId;n=new ZE(g,f)}}return n}function Zb(r,t){let n;if(t instanceof xl)n={update:tv(r,t.key,t.value)};else if(t instanceof XE)n={delete:Fd(r,t.key)};else if(t instanceof Os)n={update:tv(r,t.key,t.data),updateMask:aR(t.fieldMask)};else{if(!(t instanceof Ub))return pt(16599,{ft:t.type});n={verify:Fd(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const g=f.transform;if(g instanceof Pc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Cl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Dl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof xc)return{fieldPath:f.field.canonicalString(),increment:g.Re};throw pt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:Yb(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)}(r,t.precondition)),n}function Jb(r,t){return r&&r.length>0?(jt(t!==void 0,14353),r.map(n=>function(l,c){let f=l.updateTime?si(l.updateTime):si(c);return f.isEqual(Tt.min())&&(f=si(c)),new Pb(f,l.transformResults||[])}(n,t))):[]}function Wb(r,t){return{documents:[eT(r,t.path)]}}function tR(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=eT(r,l);const c=function(_){if(_.length!==0)return rT(Ln.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(T=>function(N){return{field:Ca(N.field),direction:iR(N.dir)}}(T))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Hd(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{gt:n,parent:l}}function eR(r){let t=Xb(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){jt(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];n.where&&(c=function(I){const N=iT(I);return N instanceof Ln&&VE(N)?N.getFilters():[N]}(n.where));let f=[];n.orderBy&&(f=function(I){return I.map(N=>function($){return new Il(Da($.field),function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(N))}(n.orderBy));let g=null;n.limit&&(g=function(I){let N;return N=typeof I=="object"?I.value:I,$c(N)?null:N}(n.limit));let p=null;n.startAt&&(p=function(I){const N=!!I.before,j=I.values||[];return new Mc(j,N)}(n.startAt));let _=null;return n.endAt&&(_=function(I){const N=!I.before,j=I.values||[];return new Mc(j,N)}(n.endAt)),Tb(t,l,f,c,g,"F",p,_)}function nR(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function iT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Da(n.unaryFilter.field);return _e.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Da(n.unaryFilter.field);return _e.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Da(n.unaryFilter.field);return _e.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Da(n.unaryFilter.field);return _e.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(r):r.fieldFilter!==void 0?function(n){return _e.create(Da(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ln.create(n.compositeFilter.filters.map(s=>iT(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(n.compositeFilter.op))}(r):pt(30097,{filter:r})}function iR(r){return Gb[r]}function rR(r){return Fb[r]}function sR(r){return Qb[r]}function Ca(r){return{fieldPath:r.canonicalString()}}function Da(r){return Be.fromServerFormat(r.fieldPath)}function rT(r){return r instanceof _e?function(n){if(n.op==="=="){if(q_(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NAN"}};if(B_(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q_(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NAN"}};if(B_(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(n.field),op:rR(n.op),value:n.value}}}(r):r instanceof Ln?function(n){const s=n.getFilters().map(l=>rT(l));return s.length===1?s[0]:{compositeFilter:{op:sR(n.op),filters:s}}}(r):pt(54877,{filter:r})}function aR(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function sT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,n,s,l,c=Tt.min(),f=Tt.min(),g=qe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t){this.wt=t}}function lR(r){const t=eR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.Cn=new cR}addToCollectionParentIndex(t,n){return this.Cn.add(n),K.resolve()}getCollectionParents(t,n){return K.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return K.resolve()}deleteFieldIndex(t,n){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,n){return K.resolve()}getDocumentsMatchingTarget(t,n){return K.resolve(null)}getIndexType(t,n){return K.resolve(0)}getFieldIndexes(t,n){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,n){return K.resolve(Or.min())}getMinOffsetFromCollectionGroup(t,n){return K.resolve(Or.min())}updateCollectionGroup(t,n,s){return K.resolve()}updateIndexEntries(t,n){return K.resolve()}}class cR{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Re(te.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Re(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aT=41943040;class rn{static withCacheSize(t){return new rn(t,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(aT,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Ba(0)}static lr(){return new Ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="LruGarbageCollector",hR=1048576;function iv([r,t],[n,s]){const l=Rt(r,n);return l===0?Rt(t,s):l}class fR{constructor(t){this.Er=t,this.buffer=new Re(iv),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();iv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dR{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){it(nv,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ka(n)?it(nv,"Ignoring IndexedDB error during garbage collection: ",n):await Qa(n)}await this.mr(3e5)})}}class mR{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return K.resolve(Xc.le);const s=new fR(n);return this.gr.forEachTarget(t,l=>s.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>s.Rr(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(ev)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ev):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,l,c,f,g,p,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,f=Date.now(),this.nthSequenceNumber(t,l))).next(I=>(s=I,g=Date.now(),this.removeTargets(t,s,n))).next(I=>(c=I,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(I=>(_=Date.now(),wa()<=Vt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${I} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I})))}}function gR(r,t){return new mR(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.changes=new Ds(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?K.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&vl(s.mutation,l,kn.empty(),be.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Mt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Mt()){const l=Ts();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let f=fl();return c.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Ts();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Mt()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(t,n,s,l){let c=Bi();const f=_l(),g=function(){return _l()}();return n.forEach((p,_)=>{const T=s.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof Os)?c=c.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),vl(T.mutation,_,T.mutation.getFieldMask(),be.now())):f.set(_.key,kn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,T)=>f.set(_,T)),n.forEach((_,T)=>{var I;return g.set(_,new yR(T,(I=f.get(_))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(t,n){const s=_l();let l=new re((f,g)=>f-g),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let T=s.get(p)||kn.empty();T=g.applyToLocalView(_,T),s.set(p,T);const I=(l.get(g.batchId)||Mt()).add(p);l=l.insert(g.batchId,I)})}).next(()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,I=qE();T.forEach(N=>{if(!c.has(N)){const j=KE(n.get(N),s.get(N));j!==null&&I.set(N,j),c=c.add(N)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,I))}return K.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(f){return ct.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):kE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):K.resolve(Ts());let g=Sl,p=c;return f.next(_=>K.forEach(_,(T,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),c.get(T)?K.resolve():this.remoteDocumentCache.getEntry(t,T).next(N=>{p=p.insert(T,N)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,Mt())).next(T=>({batchId:g,changes:BE(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ct(n)).next(s=>{let l=fl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let f=fl();return this.indexManager.getCollectionParents(t,c).next(g=>K.forEach(g,p=>{const _=function(I,N){return new Ya(N,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next(T=>{T.forEach((I,N)=>{f=f.insert(I,N)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(f=>{c.forEach((p,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,Ke.newInvalidDocument(T)))});let g=fl();return f.forEach((p,_)=>{const T=c.get(p);T!==void 0&&vl(T.mutation,_,kn.empty(),be.now()),Wc(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return K.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:si(l.createTime)}}(n)),K.resolve()}getNamedQuery(t,n){return K.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(l){return{name:l.name,query:lR(l.bundledQuery),readTime:si(l.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.overlays=new re(ct.comparator),this.Qr=new Map}getOverlay(t,n){return K.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ts();return K.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.bt(t,n,c)}),K.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Qr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(s)),K.resolve()}getOverlaysForCollection(t,n,s){const l=Ts(),c=n.length+1,f=new ct(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return K.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new re((_,T)=>_-T);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=c.get(_.largestBatchId);T===null&&(T=Ts(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Ts(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>g.set(_,T)),!(g.size()>=l)););return K.resolve(g)}bt(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Qr.get(l.largestBatchId).delete(s.key);this.Qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new zb(n,s));let c=this.Qr.get(n);c===void 0&&(c=Mt(),this.Qr.set(n,c)),this.Qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this.$r=new Re(Ve.Ur),this.Kr=new Re(Ve.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Ve(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Ve(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new ct(new te([])),s=new Ve(n,t),l=new Ve(n,t+1),c=[];return this.Kr.forEachInRange([s,l],f=>{this.zr(f),c.push(f.key)}),c}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new ct(new te([])),s=new Ve(n,t),l=new Ve(n,t+1);let c=Mt();return this.Kr.forEachInRange([s,l],f=>{c=c.add(f.key)}),c}containsKey(t){const n=new Ve(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return ct.comparator(t.key,n.key)||Rt(t.Zr,n.Zr)}static Wr(t,n){return Rt(t.Zr,n.Zr)||ct.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Re(Ve.Ur)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Lb(c,n,s,l);this.mutationQueue.push(f);for(const g of l)this.Xr=this.Xr.add(new Ve(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return K.resolve(f)}lookupMutationBatch(t,n){return K.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ti(s),c=l<0?0:l;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?om:this.nr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ve(n,0),l=new Ve(n,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([s,l],f=>{const g=this.ei(f.Zr);c.push(g)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Re(Rt);return n.forEach(l=>{const c=new Ve(l,0),f=new Ve(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,f],g=>{s=s.add(g.Zr)})}),K.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;ct.isDocumentKey(c)||(c=c.child(""));const f=new Ve(new ct(c),0);let g=new Re(Rt);return this.Xr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Zr)),!0)},f),K.resolve(this.ni(g))}ni(t){const n=[];return t.forEach(s=>{const l=this.ei(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){jt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return K.forEach(n.mutations,l=>{const c=new Ve(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Ve(n,0),l=this.Xr.firstAfterOrEqual(s);return K.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t){this.ii=t,this.docs=function(){return new re(ct.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return K.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(n))}getEntries(t,n){let s=Bi();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ke.newInvalidDocument(l))}),K.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=Bi();const f=n.path,g=new ct(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||W1(J1(T),s)<=0||(l.has(T.key)||Wc(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(t,n,s,l){pt(9500)}si(t,n){return K.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new bR(this)}getSize(t){return K.resolve(this.size)}}class bR extends pR{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Br.addEntry(t,l)):this.Br.removeEntry(s)}),K.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t){this.persistence=t,this.oi=new Ds(n=>cm(n),hm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this._i=0,this.ai=new ym,this.targetCount=0,this.ui=Ba.cr()}forEachTarget(t,n){return this.oi.forEach((s,l)=>n(l)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),K.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Ba(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,K.resolve()}updateTargetData(t,n){return this.Tr(n),K.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.oi.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.oi.delete(f),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),K.waitFor(c).next(()=>l)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return K.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),K.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(f=>{c.push(l.markPotentiallyOrphaned(t,f))}),K.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),K.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return K.resolve(s)}containsKey(t,n){return K.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(t,n){this.ci={},this.overlays={},this.li=new Xc(0),this.hi=!1,this.hi=!0,this.Pi=new TR,this.referenceDelegate=t(this),this.Ti=new RR(this),this.indexManager=new uR,this.remoteDocumentCache=function(l){return new SR(l)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new oR(n),this.Ei=new vR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new ER,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new AR(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){it("MemoryPersistence","Starting transaction:",t);const l=new wR(this.li.next());return this.referenceDelegate.di(),s(l).next(c=>this.referenceDelegate.Ai(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ri(t,n){return K.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class wR extends eb{constructor(t){super(),this.currentSequenceNumber=t}}class _m{constructor(t){this.persistence=t,this.Vi=new ym,this.mi=null}static fi(t){return new _m(t)}get gi(){if(this.mi)return this.mi;throw pt(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),K.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),K.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(l=>this.gi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.gi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.gi,s=>{const l=ct.fromPath(s);return this.pi(t,l).next(c=>{c||n.removeEntry(l,Tt.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return K.or([()=>K.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Uc{constructor(t,n){this.persistence=t,this.yi=new Ds(s=>rb(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=gR(this,n)}static fi(t,n){return new Uc(t,n)}di(){}Ai(t){return K.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.Sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}Sr(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return K.forEach(this.yi,(s,l)=>this.Dr(t,s,l).next(c=>c?K.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.si(t,f=>this.Dr(t,f,n).next(g=>{g||(s++,c.removeEntry(f,Tt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),K.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),K.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),K.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=vc(t.data.value)),n}Dr(t,n,s){return K.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.yi.get(n);return K.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.ds=s,this.As=l}static Rs(t,n){let s=Mt(),l=Mt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new vm(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return AS()?8:nb(Ye())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ws(t,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.Ss(t,n,l,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new IR;return this.bs(t,n,f).next(g=>{if(c.result=g,this.fs)return this.Ds(t,n,f,g.size)})}).next(()=>c.result)}Ds(t,n,s,l){return s.documentReadCount<this.gs?(wa()<=Vt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Ia(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),K.resolve()):(wa()<=Vt.DEBUG&&it("QueryEngine","Query:",Ia(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ps*l?(wa()<=Vt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Ia(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ri(n))):K.resolve())}ws(t,n){if(F_(n))return K.resolve(null);let s=ri(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=jd(n,null,"F"),s=ri(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=Mt(...c);return this.ys.getDocuments(t,f).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const _=this.vs(n,g);return this.Cs(n,_,f,p.readTime)?this.ws(t,jd(n,null,"F")):this.Fs(t,_,n,p)}))})))}Ss(t,n,s,l){return F_(n)||l.isEqual(Tt.min())?K.resolve(null):this.ys.getDocuments(t,s).next(c=>{const f=this.vs(n,c);return this.Cs(n,f,s,l)?K.resolve(null):(wa()<=Vt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ia(n)),this.Fs(t,f,n,Z1(l,Sl)).next(g=>g))})}vs(t,n){let s=new Re(LE(t));return n.forEach((l,c)=>{Wc(t,c)&&(s=s.add(c))}),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}bs(t,n,s){return wa()<=Vt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Ia(n)),this.ys.getDocumentsMatchingQuery(t,n,Or.min(),s)}Fs(t,n,s,l){return this.ys.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="LocalStore",DR=3e8;class OR{constructor(t,n,s,l){this.persistence=t,this.Ms=n,this.serializer=l,this.xs=new re(Rt),this.Os=new Ds(c=>cm(c),hm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _R(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function NR(r,t,n,s){return new OR(r,t,n,s)}async function lT(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],g=[];let p=Mt();for(const _ of l){f.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(_=>({ks:_,removedBatchIds:f,addedBatchIds:g}))})})}function VR(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.Bs.newChangeBuffer({trackRemovals:!0});return function(g,p,_,T){const I=_.batch,N=I.keys();let j=K.resolve();return N.forEach($=>{j=j.next(()=>T.getEntry(p,$)).next(tt=>{const X=_.docVersions.get($);jt(X!==null,48541),tt.version.compareTo(X)<0&&(I.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),T.addEntry(tt)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(p,I))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function uT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function MR(r,t){const n=At(r),s=t.snapshotVersion;let l=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});l=n.xs;const g=[];t.targetChanges.forEach((T,I)=>{const N=l.get(I);if(!N)return;g.push(n.Ti.removeMatchingKeys(c,T.removedDocuments,I).next(()=>n.Ti.addMatchingKeys(c,T.addedDocuments,I)));let j=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?j=j.withResumeToken(qe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,s)),l=l.insert(I,j),function(tt,X,vt){return tt.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=DR?!0:vt.addedDocuments.size+vt.modifiedDocuments.size+vt.removedDocuments.size>0}(N,j,T)&&g.push(n.Ti.updateTargetData(c,j))});let p=Bi(),_=Mt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),g.push(PR(c,f,t.documentUpdates).next(T=>{p=T.qs,_=T.Qs})),!s.isEqual(Tt.min())){const T=n.Ti.getLastRemoteSnapshotVersion(c).next(I=>n.Ti.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(T)}return K.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.xs=l,c))}function PR(r,t,n){let s=Mt(),l=Mt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let f=Bi();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):it(Em,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{qs:f,Qs:l}})}function xR(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=om),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function kR(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Ti.getTargetData(s,t).next(c=>c?(l=c,K.resolve(l)):n.Ti.allocateTargetId(s).next(f=>(l=new Sr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.xs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function Kd(r,t,n){const s=At(r),l=s.xs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!Ka(f))throw f;it(Em,`Failed to update sequence numbers for target ${t}: ${f}`)}s.xs=s.xs.remove(t),s.Os.delete(l.target)}function rv(r,t,n){const s=At(r);let l=Tt.min(),c=Mt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,T){const I=At(p),N=I.Os.get(T);return N!==void 0?K.resolve(I.xs.get(N)):I.Ti.getTargetData(_,T)}(s,f,ri(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,g.targetId).next(p=>{c=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,t,n?l:Tt.min(),n?c:Mt())).next(g=>(UR(s,Sb(t),g),{documents:g,$s:c})))}function UR(r,t,n){let s=r.Ns.get(t)||Tt.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Ns.set(t,s)}class sv{constructor(){this.activeTargetIds=Db()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class LR{constructor(){this.xo=new sv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new sv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="ConnectivityMonitor";class ov{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){it(av,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){it(av,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc=null;function Yd(){return pc===null?pc=function(){return 268435456+Math.round(2147483648*Math.random())}():pc++,"0x"+pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="RestConnection",BR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qR{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${l}`,this.Go=this.databaseId.database===Nc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}zo(t,n,s,l,c){const f=Yd(),g=this.jo(t,n.toUriEncodedString());it(Rd,`Sending RPC '${t}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,l,c);const{host:_}=new URL(g),T=Vl(_);return this.Jo(t,g,p,s,T).then(I=>(it(Rd,`Received RPC '${t}' ${f}: `,I),I),I=>{throw ka(Rd,`RPC '${t}' ${f} failed with error: `,I,"url: ",g,"request:",s),I})}Yo(t,n,s,l,c,f){return this.zo(t,n,s,l,c)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}jo(t,n){const s=BR[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class HR extends qR{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,c){const f=Yd();return new Promise((g,p)=>{const _=new hE;_.setWithCredentials(!0),_.listenOnce(fE.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case _c.NO_ERROR:const I=_.getResponseJson();it(Fe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(I)),g(I);break;case _c.TIMEOUT:it(Fe,`RPC '${t}' ${f} timed out`),p(new at(Y.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const N=_.getStatus();if(it(Fe,`RPC '${t}' ${f} failed with status:`,N,"response text:",_.getResponseText()),N>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const $=j==null?void 0:j.error;if($&&$.status&&$.message){const tt=function(vt){const ft=vt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ft)>=0?ft:Y.UNKNOWN}($.status);p(new at(tt,$.message))}else p(new at(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new at(Y.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Fe,`RPC '${t}' ${f} completed.`)}});const T=JSON.stringify(l);it(Fe,`RPC '${t}' ${f} sending request:`,l),_.send(n,"POST",T,s,15)})}T_(t,n,s){const l=Yd(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=gE(),g=mE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=c.join("");it(Fe,`Creating RPC '${t}' stream ${l}: ${T}`,p);const I=f.createWebChannel(T,p);let N=!1,j=!1;const $=new jR({Zo:X=>{j?it(Fe,`Not sending because RPC '${t}' stream ${l} is closed:`,X):(N||(it(Fe,`Opening RPC '${t}' stream ${l} transport.`),I.open(),N=!0),it(Fe,`RPC '${t}' stream ${l} sending:`,X),I.send(X))},Xo:()=>I.close()}),tt=(X,vt,ft)=>{X.listen(vt,lt=>{try{ft(lt)}catch(Ct){setTimeout(()=>{throw Ct},0)}})};return tt(I,hl.EventType.OPEN,()=>{j||(it(Fe,`RPC '${t}' stream ${l} transport opened.`),$.__())}),tt(I,hl.EventType.CLOSE,()=>{j||(j=!0,it(Fe,`RPC '${t}' stream ${l} transport closed`),$.u_())}),tt(I,hl.EventType.ERROR,X=>{j||(j=!0,ka(Fe,`RPC '${t}' stream ${l} transport errored. Name:`,X.name,"Message:",X.message),$.u_(new at(Y.UNAVAILABLE,"The operation could not be completed")))}),tt(I,hl.EventType.MESSAGE,X=>{var vt;if(!j){const ft=X.data[0];jt(!!ft,16349);const lt=ft,Ct=(lt==null?void 0:lt.error)||((vt=lt[0])===null||vt===void 0?void 0:vt.error);if(Ct){it(Fe,`RPC '${t}' stream ${l} received error:`,Ct);const _t=Ct.status;let Dt=function(w){const V=ye[w];if(V!==void 0)return $E(V)}(_t),M=Ct.message;Dt===void 0&&(Dt=Y.INTERNAL,M="Unknown error status: "+_t+" with message "+Ct.message),j=!0,$.u_(new at(Dt,M)),I.close()}else it(Fe,`RPC '${t}' stream ${l} received:`,ft),$.c_(ft)}}),tt(g,dE.STAT_EVENT,X=>{X.stat===xd.PROXY?it(Fe,`RPC '${t}' stream ${l} detected buffering proxy`):X.stat===xd.NOPROXY&&it(Fe,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{$.a_()},0),$}}function wd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(r){return new Kb(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(t,n,s=1e3,l=1.5,c=6e4){this.xi=t,this.timerId=n,this.I_=s,this.E_=l,this.d_=c,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(t){this.cancel();const n=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),l=Math.max(0,n-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.V_=Date.now(),t())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="PersistentStream";class hT{constructor(t,n,s,l,c,f,g,p){this.xi=t,this.y_=s,this.w_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new cT(t,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(t){this.k_(),this.stream.send(t)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(t,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,t!==4?this.C_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(zi(n.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const t=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.S_===n&&this.K_(s,l)},s=>{t(()=>{const l=new at(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(l)})})}K_(t,n){const s=this.U_(this.S_);this.stream=this.G_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{s(()=>this.W_(l))}),this.stream.onMessage(l=>{s(()=>++this.v_==1?this.z_(l):this.onNext(l))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(t){return it(lv,`close with error: ${t}`),this.stream=null,this.close(4,t)}U_(t){return n=>{this.xi.enqueueAndForget(()=>this.S_===t?n():(it(lv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GR extends hT{constructor(t,n,s,l,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}G_(t,n){return this.connection.T_("Listen",t,n)}z_(t){return this.onNext(t)}onNext(t){this.C_.reset();const n=$b(this.serializer,t),s=function(c){if(!("targetChange"in c))return Tt.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?si(f.readTime):Tt.min()}(t);return this.listener.j_(n,s)}H_(t){const n={};n.database=Qd(this.serializer),n.addTarget=function(c,f){let g;const p=f.target;if(g=Bd(p)?{documents:Wb(c,p)}:{query:tR(c,p).gt},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=WE(c,f.resumeToken);const _=Hd(c,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(Tt.min())>0){g.readTime=kc(c,f.snapshotVersion.toTimestamp());const _=Hd(c,f.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const s=nR(this.serializer,t);s&&(n.labels=s),this.L_(n)}J_(t){const n={};n.database=Qd(this.serializer),n.removeTarget=t,this.L_(n)}}class FR extends hT{constructor(t,n,s,l,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(t,n){return this.connection.T_("Write",t,n)}z_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.X_()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.C_.reset();const n=Jb(t.writeResults,t.commitTime),s=si(t.commitTime);return this.listener.ea(s,n)}ta(){const t={};t.database=Qd(this.serializer),this.L_(t)}Z_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>Zb(this.serializer,s))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{}class KR extends QR{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.na=!1}ra(){if(this.na)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.zo(t,Gd(n,s),l,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(Y.UNKNOWN,c.toString())})}Yo(t,n,s,l,c){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Yo(t,Gd(n,s),l,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new at(Y.UNKNOWN,f.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class YR{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(t){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.aa("Offline")))}set(t){this.la(),this.ia=0,t==="Online"&&(this.oa=!1),this.aa(t)}aa(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ua(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(zi(n),this.oa=!1):it("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="RemoteStore";class XR{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=c,this.Ea.No(f=>{s.enqueueAndForget(async()=>{Ns(this)&&(it(ws,"Restarting streams for network reachability change."),await async function(p){const _=At(p);_.Ta.add(4),await Ul(_),_.da.set("Unknown"),_.Ta.delete(4),await rh(_)}(this))})}),this.da=new YR(s,l)}}async function rh(r){if(Ns(r))for(const t of r.Ia)await t(!0)}async function Ul(r){for(const t of r.Ia)await t(!1)}function fT(r,t){const n=At(r);n.Pa.has(t.targetId)||(n.Pa.set(t.targetId,t),bm(n)?Sm(n):Xa(n).M_()&&Am(n,t))}function Tm(r,t){const n=At(r),s=Xa(n);n.Pa.delete(t),s.M_()&&dT(n,t),n.Pa.size===0&&(s.M_()?s.N_():Ns(n)&&n.da.set("Unknown"))}function Am(r,t){if(r.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Xa(r).H_(t)}function dT(r,t){r.Aa.Ke(t),Xa(r).J_(t)}function Sm(r){r.Aa=new Hb({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Pa.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),Xa(r).start(),r.da._a()}function bm(r){return Ns(r)&&!Xa(r).F_()&&r.Pa.size>0}function Ns(r){return At(r).Ta.size===0}function mT(r){r.Aa=void 0}async function $R(r){r.da.set("Online")}async function ZR(r){r.Pa.forEach((t,n)=>{Am(r,t)})}async function JR(r,t){mT(r),bm(r)?(r.da.ca(t),Sm(r)):r.da.set("Unknown")}async function WR(r,t,n){if(r.da.set("Online"),t instanceof JE&&t.state===2&&t.cause)try{await async function(l,c){const f=c.cause;for(const g of c.targetIds)l.Pa.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Pa.delete(g),l.Aa.removeTarget(g))}(r,t)}catch(s){it(ws,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Lc(r,s)}else if(t instanceof Ac?r.Aa.Xe(t):t instanceof ZE?r.Aa.ot(t):r.Aa.nt(t),!n.isEqual(Tt.min()))try{const s=await uT(r.localStore);n.compareTo(s)>=0&&await function(c,f){const g=c.Aa.It(f);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.Pa.get(_);T&&c.Pa.set(_,T.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,_)=>{const T=c.Pa.get(p);if(!T)return;c.Pa.set(p,T.withResumeToken(qe.EMPTY_BYTE_STRING,T.snapshotVersion)),dT(c,p);const I=new Sr(T.target,p,_,T.sequenceNumber);Am(c,I)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){it(ws,"Failed to raise snapshot:",s),await Lc(r,s)}}async function Lc(r,t,n){if(!Ka(t))throw t;r.Ta.add(1),await Ul(r),r.da.set("Offline"),n||(n=()=>uT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{it(ws,"Retrying IndexedDB access"),await n(),r.Ta.delete(1),await rh(r)})}function gT(r,t){return t().catch(n=>Lc(r,n,t))}async function sh(r){const t=At(r),n=Pr(t);let s=t.ha.length>0?t.ha[t.ha.length-1].batchId:om;for(;tw(t);)try{const l=await xR(t.localStore,s);if(l===null){t.ha.length===0&&n.N_();break}s=l.batchId,ew(t,l)}catch(l){await Lc(t,l)}pT(t)&&yT(t)}function tw(r){return Ns(r)&&r.ha.length<10}function ew(r,t){r.ha.push(t);const n=Pr(r);n.M_()&&n.Y_&&n.Z_(t.mutations)}function pT(r){return Ns(r)&&!Pr(r).F_()&&r.ha.length>0}function yT(r){Pr(r).start()}async function nw(r){Pr(r).ta()}async function iw(r){const t=Pr(r);for(const n of r.ha)t.Z_(n.mutations)}async function rw(r,t,n){const s=r.ha.shift(),l=mm.from(s,t,n);await gT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await sh(r)}async function sw(r,t){t&&Pr(r).Y_&&await async function(s,l){if(function(f){return qb(f)&&f!==Y.ABORTED}(l.code)){const c=s.ha.shift();Pr(s).O_(),await gT(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await sh(s)}}(r,t),pT(r)&&yT(r)}async function uv(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),it(ws,"RemoteStore received new credentials");const s=Ns(n);n.Ta.add(3),await Ul(n),s&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ta.delete(3),await rh(n)}async function aw(r,t){const n=At(r);t?(n.Ta.delete(2),await rh(n)):t||(n.Ta.add(2),await Ul(n),n.da.set("Unknown"))}function Xa(r){return r.Ra||(r.Ra=function(n,s,l){const c=At(n);return c.ra(),new GR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:$R.bind(null,r),n_:ZR.bind(null,r),i_:JR.bind(null,r),j_:WR.bind(null,r)}),r.Ia.push(async t=>{t?(r.Ra.O_(),bm(r)?Sm(r):r.da.set("Unknown")):(await r.Ra.stop(),mT(r))})),r.Ra}function Pr(r){return r.Va||(r.Va=function(n,s,l){const c=At(n);return c.ra(),new FR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:nw.bind(null,r),i_:sw.bind(null,r),X_:iw.bind(null,r),ea:rw.bind(null,r)}),r.Ia.push(async t=>{t?(r.Va.O_(),await sh(r)):(await r.Va.stop(),r.ha.length>0&&(it(ws,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const f=Date.now()+s,g=new Rm(t,n,f,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wm(r,t){if(zi("AsyncQueue",`${t}: ${r}`),Ka(r))return new at(Y.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{static emptySet(t){return new Na(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ct.comparator(n.key,s.key):(n,s)=>ct.comparator(n.key,s.key),this.keyedMap=fl(),this.sortedSet=new re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Na)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Na;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.ma=new re(ct.comparator)}track(t){const n=t.doc.key,s=this.ma.get(n);s?t.type!==0&&s.type===3?this.ma=this.ma.insert(n,t):t.type===3&&s.type!==1?this.ma=this.ma.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ma=this.ma.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ma=this.ma.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ma=this.ma.remove(n):t.type===1&&s.type===2?this.ma=this.ma.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ma=this.ma.insert(n,{type:2,doc:t.doc}):pt(63341,{Vt:t,fa:s}):this.ma=this.ma.insert(n,t)}ga(){const t=[];return this.ma.inorderTraversal((n,s)=>{t.push(s)}),t}}class qa{constructor(t,n,s,l,c,f,g,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new qa(t,n,Na.emptySet(n),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(t=>t.Sa())}}class lw{constructor(){this.queries=hv(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,s){const l=At(n),c=l.queries;l.queries=hv(),c.forEach((f,g)=>{for(const p of g.ya)p.onError(s)})})(this,new at(Y.ABORTED,"Firestore shutting down"))}}function hv(){return new Ds(r=>UE(r),Jc)}async function uw(r,t){const n=At(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.wa()&&t.Sa()&&(s=2):(c=new ow,s=t.Sa()?0:1);try{switch(s){case 0:c.pa=await n.onListen(l,!0);break;case 1:c.pa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=wm(f,`Initialization of query '${Ia(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.ya.push(t),t.Da(n.onlineState),c.pa&&t.va(c.pa)&&Im(n)}async function cw(r,t){const n=At(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const f=c.ya.indexOf(t);f>=0&&(c.ya.splice(f,1),c.ya.length===0?l=t.Sa()?0:1:!c.wa()&&t.Sa()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function hw(r,t){const n=At(r);let s=!1;for(const l of t){const c=l.query,f=n.queries.get(c);if(f){for(const g of f.ya)g.va(l)&&(s=!0);f.pa=l}}s&&Im(n)}function fw(r,t,n){const s=At(r),l=s.queries.get(t);if(l)for(const c of l.ya)c.onError(n);s.queries.delete(t)}function Im(r){r.ba.forEach(t=>{t.next()})}var Xd,fv;(fv=Xd||(Xd={})).Ca="default",fv.Cache="cache";class dw{constructor(t,n,s){this.query=t,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new qa(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Ma?this.Oa(t)&&(this.Fa.next(t),n=!0):this.Na(t,this.onlineState)&&(this.Ba(t),n=!0),this.xa=t,n}onError(t){this.Fa.error(t)}Da(t){this.onlineState=t;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,t)&&(this.Ba(this.xa),n=!0),n}Na(t,n){if(!t.fromCache||!this.Sa())return!0;const s=n!=="Offline";return(!this.options.La||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Oa(t){if(t.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(t){t=qa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Ma=!0,this.Fa.next(t)}Sa(){return this.options.source!==Xd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(t){this.key=t}}class vT{constructor(t){this.key=t}}class mw{constructor(t,n){this.query=t,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Mt(),this.mutatedKeys=Mt(),this.Ha=LE(t),this.Ja=new Na(this.Ha)}get Ya(){return this.Ga}Za(t,n){const s=n?n.Xa:new cv,l=n?n.Ja:this.Ja;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((T,I)=>{const N=l.get(T),j=Wc(this.query,I)?I:null,$=!!N&&this.mutatedKeys.has(N.key),tt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let X=!1;N&&j?N.data.isEqual(j.data)?$!==tt&&(s.track({type:3,doc:j}),X=!0):this.eu(N,j)||(s.track({type:2,doc:j}),X=!0,(p&&this.Ha(j,p)>0||_&&this.Ha(j,_)<0)&&(g=!0)):!N&&j?(s.track({type:0,doc:j}),X=!0):N&&!j&&(s.track({type:1,doc:N}),X=!0,(p||_)&&(g=!0)),X&&(j?(f=f.add(j),c=tt?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{Ja:f,Xa:s,Cs:g,mutatedKeys:c}}eu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.Ja;this.Ja=t.Ja,this.mutatedKeys=t.mutatedKeys;const f=t.Xa.ga();f.sort((T,I)=>function(j,$){const tt=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:X})}};return tt(j)-tt($)}(T.type,I.type)||this.Ha(T.doc,I.doc)),this.tu(s),l=l!=null&&l;const g=n&&!l?this.nu():[],p=this.ja.size===0&&this.current&&!l?1:0,_=p!==this.za;return this.za=p,f.length!==0||_?{snapshot:new qa(this.query,t.Ja,c,f,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:g}:{ru:g}}Da(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new cv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(t){return!this.Ga.has(t)&&!!this.Ja.has(t)&&!this.Ja.get(t).hasLocalMutations}tu(t){t&&(t.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=t.current)}nu(){if(!this.current)return[];const t=this.ja;this.ja=Mt(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const n=[];return t.forEach(s=>{this.ja.has(s)||n.push(new vT(s))}),this.ja.forEach(s=>{t.has(s)||n.push(new _T(s))}),n}su(t){this.Ga=t.$s,this.ja=Mt();const n=this.Za(t.documents);return this.applyChanges(n,!0)}ou(){return qa.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Cm="SyncEngine";class gw{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class pw{constructor(t){this.key=t,this._u=!1}}class yw{constructor(t,n,s,l,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.au={},this.uu=new Ds(g=>UE(g),Jc),this.cu=new Map,this.lu=new Set,this.hu=new re(ct.comparator),this.Pu=new Map,this.Tu=new ym,this.Iu={},this.Eu=new Map,this.du=Ba.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function _w(r,t,n=!0){const s=RT(r);let l;const c=s.uu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.ou()):l=await ET(s,t,n,!0),l}async function vw(r,t){const n=RT(r);await ET(n,t,!0,!1)}async function ET(r,t,n,s){const l=await kR(r.localStore,ri(t)),c=l.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await Ew(r,t,c,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&fT(r.remoteStore,l),g}async function Ew(r,t,n,s,l){r.Ru=(I,N,j)=>async function(tt,X,vt,ft){let lt=X.view.Za(vt);lt.Cs&&(lt=await rv(tt.localStore,X.query,!1).then(({documents:M})=>X.view.Za(M,lt)));const Ct=ft&&ft.targetChanges.get(X.targetId),_t=ft&&ft.targetMismatches.get(X.targetId)!=null,Dt=X.view.applyChanges(lt,tt.isPrimaryClient,Ct,_t);return mv(tt,X.targetId,Dt.ru),Dt.snapshot}(r,I,N,j);const c=await rv(r.localStore,t,!0),f=new mw(t,c.$s),g=f.Za(c.documents),p=kl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=f.applyChanges(g,r.isPrimaryClient,p);mv(r,n,_.ru);const T=new gw(t,n,f);return r.uu.set(t,T),r.cu.has(n)?r.cu.get(n).push(t):r.cu.set(n,[t]),_.snapshot}async function Tw(r,t,n){const s=At(r),l=s.uu.get(t),c=s.cu.get(l.targetId);if(c.length>1)return s.cu.set(l.targetId,c.filter(f=>!Jc(f,t))),void s.uu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Kd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Tm(s.remoteStore,l.targetId),$d(s,l.targetId)}).catch(Qa)):($d(s,l.targetId),await Kd(s.localStore,l.targetId,!0))}async function Aw(r,t){const n=At(r),s=n.uu.get(t),l=n.cu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Tm(n.remoteStore,s.targetId))}async function Sw(r,t,n){const s=Ow(r);try{const l=await function(f,g){const p=At(f),_=be.now(),T=g.reduce((j,$)=>j.add($.key),Mt());let I,N;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let $=Bi(),tt=Mt();return p.Bs.getEntries(j,T).next(X=>{$=X,$.forEach((vt,ft)=>{ft.isValidDocument()||(tt=tt.add(vt))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,$)).next(X=>{I=X;const vt=[];for(const ft of g){const lt=kb(ft,I.get(ft.key).overlayedDocument);lt!=null&&vt.push(new Os(ft.key,lt,DE(lt.value.mapValue),Ui.exists(!0)))}return p.mutationQueue.addMutationBatch(j,_,vt,g)}).next(X=>{N=X;const vt=X.applyToLocalDocumentSet(I,tt);return p.documentOverlayCache.saveOverlays(j,X.batchId,vt)})}).then(()=>({batchId:N.batchId,changes:BE(I)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(f,g,p){let _=f.Iu[f.currentUser.toKey()];_||(_=new re(Rt)),_=_.insert(g,p),f.Iu[f.currentUser.toKey()]=_}(s,l.batchId,n),await Ll(s,l.changes),await sh(s.remoteStore)}catch(l){const c=wm(l,"Failed to persist write");n.reject(c)}}async function TT(r,t){const n=At(r);try{const s=await MR(n.localStore,t);t.targetChanges.forEach((l,c)=>{const f=n.Pu.get(c);f&&(jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f._u=!0:l.modifiedDocuments.size>0?jt(f._u,14607):l.removedDocuments.size>0&&(jt(f._u,42227),f._u=!1))}),await Ll(n,s,t)}catch(s){await Qa(s)}}function dv(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.uu.forEach((c,f)=>{const g=f.view.Da(t);g.snapshot&&l.push(g.snapshot)}),function(f,g){const p=At(f);p.onlineState=g;let _=!1;p.queries.forEach((T,I)=>{for(const N of I.ya)N.Da(g)&&(_=!0)}),_&&Im(p)}(s.eventManager,t),l.length&&s.au.j_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function bw(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Pu.get(t),c=l&&l.key;if(c){let f=new re(ct.comparator);f=f.insert(c,Ke.newNoDocument(c,Tt.min()));const g=Mt().add(c),p=new nh(Tt.min(),new Map,new re(Rt),f,g);await TT(s,p),s.hu=s.hu.remove(c),s.Pu.delete(t),Dm(s)}else await Kd(s.localStore,t,!1).then(()=>$d(s,t,n)).catch(Qa)}async function Rw(r,t){const n=At(r),s=t.batch.batchId;try{const l=await VR(n.localStore,t);ST(n,s,null),AT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ll(n,l)}catch(l){await Qa(l)}}async function ww(r,t,n){const s=At(r);try{const l=await function(f,g){const p=At(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next(I=>(jt(I!==null,37113),T=I.keys(),p.mutationQueue.removeMutationBatch(_,I))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(s.localStore,t);ST(s,t,n),AT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ll(s,l)}catch(l){await Qa(l)}}function AT(r,t){(r.Eu.get(t)||[]).forEach(n=>{n.resolve()}),r.Eu.delete(t)}function ST(r,t,n){const s=At(r);let l=s.Iu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Iu[s.currentUser.toKey()]=l}}function $d(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.cu.get(t))r.uu.delete(s),n&&r.au.Vu(s,n);r.cu.delete(t),r.isPrimaryClient&&r.Tu.Hr(t).forEach(s=>{r.Tu.containsKey(s)||bT(r,s)})}function bT(r,t){r.lu.delete(t.path.canonicalString());const n=r.hu.get(t);n!==null&&(Tm(r.remoteStore,n),r.hu=r.hu.remove(t),r.Pu.delete(n),Dm(r))}function mv(r,t,n){for(const s of n)s instanceof _T?(r.Tu.addReference(s.key,t),Iw(r,s)):s instanceof vT?(it(Cm,"Document no longer in limbo: "+s.key),r.Tu.removeReference(s.key,t),r.Tu.containsKey(s.key)||bT(r,s.key)):pt(19791,{mu:s})}function Iw(r,t){const n=t.key,s=n.path.canonicalString();r.hu.get(n)||r.lu.has(s)||(it(Cm,"New document in limbo: "+n),r.lu.add(s),Dm(r))}function Dm(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const t=r.lu.values().next().value;r.lu.delete(t);const n=new ct(te.fromString(t)),s=r.du.next();r.Pu.set(s,new pw(n)),r.hu=r.hu.insert(n,s),fT(r.remoteStore,new Sr(ri(fm(n.path)),s,"TargetPurposeLimboResolution",Xc.le))}}async function Ll(r,t,n){const s=At(r),l=[],c=[],f=[];s.uu.isEmpty()||(s.uu.forEach((g,p)=>{f.push(s.Ru(p,t,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const I=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(_){l.push(_);const I=vm.Rs(p.targetId,_);c.push(I)}}))}),await Promise.all(f),s.au.j_(l),await async function(p,_){const T=At(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>K.forEach(_,N=>K.forEach(N.ds,j=>T.persistence.referenceDelegate.addReference(I,N.targetId,j)).next(()=>K.forEach(N.As,j=>T.persistence.referenceDelegate.removeReference(I,N.targetId,j)))))}catch(I){if(!Ka(I))throw I;it(Em,"Failed to update sequence numbers: "+I)}for(const I of _){const N=I.targetId;if(!I.fromCache){const j=T.xs.get(N),$=j.snapshotVersion,tt=j.withLastLimboFreeSnapshotVersion($);T.xs=T.xs.insert(N,tt)}}}(s.localStore,c))}async function Cw(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){it(Cm,"User change. New user:",t.toKey());const s=await lT(n.localStore,t);n.currentUser=t,function(c,f){c.Eu.forEach(g=>{g.forEach(p=>{p.reject(new at(Y.CANCELLED,f))})}),c.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ll(n,s.ks)}}function Dw(r,t){const n=At(r),s=n.Pu.get(t);if(s&&s._u)return Mt().add(s.key);{let l=Mt();const c=n.cu.get(t);if(!c)return l;for(const f of c){const g=n.uu.get(f);l=l.unionWith(g.view.Ya)}return l}}function RT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=TT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bw.bind(null,t),t.au.j_=hw.bind(null,t.eventManager),t.au.Vu=fw.bind(null,t.eventManager),t}function Ow(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Rw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ww.bind(null,t),t}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ih(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),await this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)}Su(t,n){return null}bu(t,n){return null}wu(t){return NR(this.persistence,new CR,t.initialUser,this.serializer)}yu(t){return new oT(_m.fi,this.serializer)}pu(t){return new LR}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class Nw extends zc{constructor(t){super(),this.cacheSizeBytes=t}Su(t,n){jt(this.persistence.referenceDelegate instanceof Uc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dR(s,t.asyncQueue,n)}yu(t){const n=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new oT(s=>Uc.fi(s,n),this.serializer)}}class Zd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>dv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cw.bind(null,this.syncEngine),await aw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new lw}()}createDatastore(t){const n=ih(t.databaseInfo.databaseId),s=function(c){return new HR(c)}(t.databaseInfo);return function(c,f,g,p){return new KR(c,f,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,f,g){return new XR(s,l,c,f,g)}(this.localStore,this.datastore,t.asyncQueue,n=>dv(this.syncEngine,n,0),function(){return ov.C()?new ov:new zR}())}createSyncEngine(t,n){return function(l,c,f,g,p,_,T){const I=new yw(l,c,f,g,p,_);return T&&(I.Au=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=At(l);it(ws,"RemoteStore shutting down."),c.Ta.add(5),await Ul(c),c.Ea.shutdown(),c.da.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Zd.provider={build:()=>new Zd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.vu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.vu(this.observer.error,t):zi("Uncaught Error in snapshot listener:",t.toString()))}Cu(){this.muted=!0}vu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="FirestoreClient";class Mw{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Qe.UNAUTHENTICATED,this.clientId=vE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{it(xr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(it(xr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=wm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Id(r,t){r.asyncQueue.verifyOperationInProgress(),it(xr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await lT(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function gv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await Pw(r);it(xr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>uv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>uv(t.remoteStore,l)),r._onlineComponents=t}async function Pw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(xr,"Using user provided OfflineComponentProvider");try{await Id(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;ka("Error using user provided cache. Falling back to memory cache: "+n),await Id(r,new zc)}}else it(xr,"Using default OfflineComponentProvider"),await Id(r,new Nw(void 0));return r._offlineComponents}async function wT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(xr,"Using user provided OnlineComponentProvider"),await gv(r,r._uninitializedComponentsProvider._online)):(it(xr,"Using default OnlineComponentProvider"),await gv(r,new Zd))),r._onlineComponents}function xw(r){return wT(r).then(t=>t.syncEngine)}async function pv(r){const t=await wT(r),n=t.eventManager;return n.onListen=_w.bind(null,t.syncEngine),n.onUnlisten=Tw.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=vw.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Aw.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(r,t,n){if(!n)throw new at(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function kw(r,t,n,s){if(t===!0&&s===!0)throw new at(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function _v(r){if(!ct.isDocumentKey(r))throw new at(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function vv(r){if(ct.isDocumentKey(r))throw new at(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ah(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function El(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ah(r);throw new at(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="firestore.googleapis.com",Ev=!0;class Tv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new at(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DT,this.ssl=Ev}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Ev;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=aT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<hR)throw new at(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IT((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class oh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new j1;switch(s.type){case"firstParty":return new Q1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=yv.get(n);s&&(it("ComponentProvider","Removing Datastore"),yv.delete(n),s.terminate())}(this),Promise.resolve()}}function Uw(r,t,n,s={}){var l;r=El(r,oh);const c=Vl(t),f=r._getSettings(),g=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;c&&(nE(`https://${p}`),iE("Firestore",!0)),f.host!==DT&&f.host!==p&&ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},f),{host:p,ssl:c,emulatorOptions:s});if(!Ss(_,g)&&(r._setSettings(_),s.mockUserToken)){let T,I;if(typeof s.mockUserToken=="string")T=s.mockUserToken,I=Qe.MOCK_USER;else{T=dS(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new at(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new Qe(N)}r._authCredentials=new H1(new yE(T,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Vs(this.firestore,t,this._query)}}class mn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new mn(this.firestore,t,this._key)}}class Cr extends Vs{constructor(t,n,s){super(t,n,fm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mn(this.firestore,null,new ct(t))}withConverter(t){return new Cr(this.firestore,t,this._path)}}function Av(r,t,...n){if(r=Xe(r),CT("collection","path",t),r instanceof oh){const s=te.fromString(t,...n);return vv(s),new Cr(r,null,s)}{if(!(r instanceof mn||r instanceof Cr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...n));return vv(s),new Cr(r.firestore,null,s)}}function Lw(r,t,...n){if(r=Xe(r),arguments.length===1&&(t=vE.newId()),CT("doc","path",t),r instanceof oh){const s=te.fromString(t,...n);return _v(s),new mn(r,null,new ct(s))}{if(!(r instanceof mn||r instanceof Cr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...n));return _v(s),new mn(r.firestore,r instanceof Cr?r.converter:null,new ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="AsyncQueue";class bv{constructor(t=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new cT(this,"async_queue_retry"),this.ec=()=>{const s=wd();s&&it(Sv,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=t;const n=wd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.nc(),this.rc(t)}enterRestrictedMode(t){if(!this.ju){this.ju=!0,this.Zu=t||!1;const n=wd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(t){if(this.nc(),this.ju)return new Promise(()=>{});const n=new As;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.zu.push(t),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(t){if(!Ka(t))throw t;it(Sv,"Operation failed with retryable error: "+t)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(t){const n=this.tc.then(()=>(this.Yu=!0,t().catch(s=>{throw this.Ju=s,this.Yu=!1,zi("INTERNAL UNHANDLED ERROR: ",Rv(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=n,n}enqueueAfterDelay(t,n,s){this.nc(),this.Xu.indexOf(t)>-1&&(n=0);const l=Rm.createAndSchedule(this,t,n,s,c=>this.oc(c));return this.Hu.push(l),l}nc(){this.Ju&&pt(47125,{_c:Rv(this.Ju)})}verifyOperationInProgress(){}async ac(){let t;do t=this.tc,await t;while(t!==this.tc)}uc(t){for(const n of this.Hu)if(n.timerId===t)return!0;return!1}cc(t){return this.ac().then(()=>{this.Hu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.ac()})}lc(t){this.Xu.push(t)}oc(t){const n=this.Hu.indexOf(t);this.Hu.splice(n,1)}}function Rv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Bc extends oh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new bv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new bv(t),this._firestoreClient=void 0,await t}}}function zw(r,t){const n=typeof r=="object"?r:oE(),s=typeof r=="string"?r:Nc,l=sm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=hS("firestore");c&&Uw(l,...c)}return l}function OT(r){if(r._terminated)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Bw(r),r._firestoreClient}function Bw(r){var t,n,s;const l=r._freezeSettings(),c=function(g,p,_,T){return new ob(g,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,IT(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new Mw(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ja(qe.fromBase64String(t))}catch(n){throw new at(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ja(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new at(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new at(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new at(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=/^__.*__$/;class jw{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Os(t,this.data,this.fieldMask,n,this.fieldTransforms):new xl(t,this.data,n,this.fieldTransforms)}}function VT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{hc:r})}}class Mm{constructor(t,n,s,l,c,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Pc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(t){return new Mm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.Tc({path:s,Ec:!1});return l.dc(t),l}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.Tc({path:s,Ec:!1});return l.Pc(),l}Rc(t){return this.Tc({path:void 0,Ec:!0})}Vc(t){return qc(t,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let t=0;t<this.path.length;t++)this.dc(this.path.get(t))}dc(t){if(t.length===0)throw this.Vc("Document fields must not be empty");if(VT(this.hc)&&qw.test(t))throw this.Vc('Document fields cannot begin and end with "__"')}}class Hw{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||ih(t)}gc(t,n,s,l=!1){return new Mm({hc:t,methodName:n,fc:s,path:Be.emptyPath(),Ec:!1,mc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function MT(r){const t=r._freezeSettings(),n=ih(r._databaseId);return new Hw(r._databaseId,!!t.ignoreUndefinedProperties,n)}function Gw(r,t,n,s,l,c={}){const f=r.gc(c.merge||c.mergeFields?2:0,t,n,l);kT("Data must be an object, but it was:",f,s);const g=PT(s,f);let p,_;if(c.merge)p=new kn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const I of c.mergeFields){const N=Qw(t,I,n);if(!f.contains(N))throw new at(Y.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Yw(T,N)||T.push(N)}p=new kn(T),_=f.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,_=f.fieldTransforms;return new jw(new Cn(g),p,_)}function Fw(r,t,n,s=!1){return Pm(n,r.gc(s?4:3,t))}function Pm(r,t){if(xT(r=Xe(r)))return kT("Unsupported field value:",t,r),PT(r,t);if(r instanceof NT)return function(s,l){if(!VT(l.hc))throw l.Vc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Vc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Ec&&t.hc!==4)throw t.Vc("Nested arrays are not supported");return function(s,l){const c=[];let f=0;for(const g of s){let p=Pm(g,l.Rc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=Xe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Ob(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=be.fromDate(s);return{timestampValue:kc(l.serializer,c)}}if(s instanceof be){const c=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kc(l.serializer,c)}}if(s instanceof Nm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ja)return{bytesValue:WE(l.serializer,s._byteString)};if(s instanceof mn){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.Vc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:pm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Vm)return function(f,g){return{mapValue:{fields:{[IE]:{stringValue:CE},[Vc]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw g.Vc("VectorValues must only contain numeric values.");return dm(g.serializer,_)})}}}}}}(s,l);throw l.Vc(`Unsupported field value: ${ah(s)}`)}(r,t)}function PT(r,t){const n={};return TE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Cs(r,(s,l)=>{const c=Pm(l,t.Ic(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function xT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof be||r instanceof Nm||r instanceof ja||r instanceof mn||r instanceof NT||r instanceof Vm)}function kT(r,t,n){if(!xT(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=ah(n);throw s==="an object"?t.Vc(r+" a custom object"):t.Vc(r+" "+s)}}function Qw(r,t,n){if((t=Xe(t))instanceof Om)return t._internalPath;if(typeof t=="string")return UT(r,t);throw qc("Field path arguments must be of type string or ",r,!1,void 0,n)}const Kw=new RegExp("[~\\*/\\[\\]]");function UT(r,t,n){if(t.search(Kw)>=0)throw qc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Om(...t.split("."))._internalPath}catch{throw qc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function qc(r,t,n,s,l){const c=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new at(Y.INVALID_ARGUMENT,g+r+p)}function Yw(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Xw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(xm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Xw extends LT{data(){return super.data()}}function xm(r,t){return typeof t=="string"?UT(r,t):t instanceof Om?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class km{}class zT extends km{}function Zw(r,t,...n){let s=[];t instanceof km&&s.push(t),s=s.concat(n),function(c){const f=c.filter(p=>p instanceof Lm).length,g=c.filter(p=>p instanceof Um).length;if(f>1||f>0&&g>0)throw new at(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class Um extends zT{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Um(t,n,s)}_apply(t){const n=this._parse(t);return BT(t._query,n),new Vs(t.firestore,t.converter,qd(t._query,n))}_parse(t){const n=MT(t.firestore);return function(c,f,g,p,_,T,I){let N;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new at(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Cv(I,T);const $=[];for(const tt of I)$.push(Iv(p,c,tt));N={arrayValue:{values:$}}}else N=Iv(p,c,I)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Cv(I,T),N=Fw(g,f,I,T==="in"||T==="not-in");return _e.create(_,T,N)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Lm extends km{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Lm(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Ln.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,c){let f=l;const g=c.getFlattenedFilters();for(const p of g)BT(f,p),f=qd(f,p)}(t._query,n),new Vs(t.firestore,t.converter,qd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zm extends zT{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new zm(t,n)}_apply(t){const n=function(l,c,f){if(l.startAt!==null)throw new at(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new at(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Il(c,f)}(t._query,this._field,this._direction);return new Vs(t.firestore,t.converter,function(l,c){const f=l.explicitOrderBy.concat([c]);return new Ya(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(t._query,n))}}function Jw(r,t="asc"){const n=t,s=xm("orderBy",r);return zm._create(s,n)}function Iv(r,t,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new at(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kE(t)&&n.indexOf("/")!==-1)throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(te.fromString(n));if(!ct.isDocumentKey(s))throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return z_(r,new ct(s))}if(n instanceof mn)return z_(r,n._key);throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(n)}.`)}function Cv(r,t){if(!Array.isArray(r)||r.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function BT(r,t){const n=function(l,c){for(const f of l)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Ww{convertValue(t,n="none"){switch(Mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Cs(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[Vc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>fe(f.doubleValue));return new Vm(c)}convertGeoPoint(t){return new Nm(fe(t.latitude),fe(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Zc(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(bl(t));default:return null}}convertTimestamp(t){const n=Nr(t);return new be(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=te.fromString(t);jt(sT(s),9688,{name:t});const l=new Rl(s.get(1),s.get(3)),c=new ct(s.popFirst(5));return l.isEqual(n)||zi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qT extends LT{constructor(t,n,s,l,c,f){super(t,n,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(xm("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Sc extends qT{data(t={}){return super.data(t)}}class eI{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new ml(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Sc(this._firestore,this._userDataWriter,s.key,s,new ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(g=>{const p=new Sc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ml(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new Sc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ml(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:nI(g.type),doc:p,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}class jT extends Ww{constructor(t){super(),this.firestore=t}convertBytes(t){return new ja(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function iI(r,t){const n=El(r.firestore,Bc),s=Lw(r),l=tI(r.converter,t);return sI(n,[Gw(MT(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Ui.exists(!1))]).then(()=>s)}function rI(r,...t){var n,s,l;r=Xe(r);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||wv(t[f])||(c=t[f],f++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(wv(t[f])){const I=t[f];t[f]=(n=I.next)===null||n===void 0?void 0:n.bind(I),t[f+1]=(s=I.error)===null||s===void 0?void 0:s.bind(I),t[f+2]=(l=I.complete)===null||l===void 0?void 0:l.bind(I)}let p,_,T;if(r instanceof mn)_=El(r.firestore,Bc),T=fm(r._key.path),p={next:I=>{t[f]&&t[f](aI(_,r,I))},error:t[f+1],complete:t[f+2]};else{const I=El(r,Vs);_=El(I.firestore,Bc),T=I._query;const N=new jT(_);p={next:j=>{t[f]&&t[f](new eI(_,N,I,j))},error:t[f+1],complete:t[f+2]},$w(r._query)}return function(N,j,$,tt){const X=new Vw(tt),vt=new dw(j,X,$);return N.asyncQueue.enqueueAndForget(async()=>uw(await pv(N),vt)),()=>{X.Cu(),N.asyncQueue.enqueueAndForget(async()=>cw(await pv(N),vt))}}(OT(_),T,g,p)}function sI(r,t){return function(s,l){const c=new As;return s.asyncQueue.enqueueAndForget(async()=>Sw(await xw(s),l,c)),c.promise}(OT(r),t)}function aI(r,t,n){const s=n.docs.get(t._key),l=new jT(r);return new qT(r,l,t._key,s,new ml(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){Fa=l})(Ga),xa(new bs("firestore",(s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new Bc(new G1(s.getProvider("auth-internal")),new K1(f,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(_.options.projectId,T)}(f,l),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),wr(I_,C_,t),wr(I_,C_,"esm2017")})();function Bm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function HT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oI=HT,GT=new Ml("auth","Firebase",HT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new im("@firebase/auth");function lI(r,...t){jc.logLevel<=Vt.WARN&&jc.warn(`Auth (${Ga}): ${r}`,...t)}function bc(r,...t){jc.logLevel<=Vt.ERROR&&jc.error(`Auth (${Ga}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(r,...t){throw qm(r,...t)}function ai(r,...t){return qm(r,...t)}function FT(r,t,n){const s=Object.assign(Object.assign({},oI()),{[t]:n});return new Ml("auth","Firebase",s).create(t,{appName:r.name})}function Dr(r){return FT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return GT.create(r,...t)}function gt(r,t,...n){if(!r)throw qm(t,...n)}function xi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw bc(t),new Error(t)}function qi(r,t){r||xi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function uI(){return Dv()==="http:"||Dv()==="https:"}function Dv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uI()||vS()||"connection"in navigator)?navigator.onLine:!0}function hI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t,n){this.shortDelay=t,this.longDelay=n,qi(n>t,"Short delay should be less than long delay!"),this.isMobile=pS()||ES()}get(){return cI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(r,t){qi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mI=new zl(3e4,6e4);function Ms(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function kr(r,t,n,s,l={}){return KT(r,l,async()=>{let c={},f={};s&&(t==="GET"?f=s:c={body:JSON.stringify(s)});const g=Pl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:p},c);return _S()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Vl(r.emulatorConfig.host)&&(_.credentials="include"),QT.fetch()(await YT(r,r.config.apiHost,n,g),_)})}async function KT(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},fI),t);try{const l=new pI(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw yc(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw yc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw yc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw yc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw FT(r,T,_);zn(r,T)}}catch(l){if(l instanceof ji)throw l;zn(r,"network-request-failed",{message:String(l)})}}async function lh(r,t,n,s,l={}){const c=await kr(r,t,n,s,l);return"mfaPendingCredential"in c&&zn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function YT(r,t,n,s){const l=`${t}${n}?${s}`,c=r,f=c.config.emulator?jm(r.config,l):`${r.config.apiScheme}://${l}`;return dI.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function gI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ai(this.auth,"network-request-failed")),mI.get())})}}function yc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=ai(r,t,s);return l.customData._tokenResponse=n,l}function Ov(r){return r!==void 0&&r.enterprise!==void 0}class yI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return gI(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _I(r,t){return kr(r,"GET","/v2/recaptchaConfig",Ms(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(r,t){return kr(r,"POST","/v1/accounts:delete",t)}async function Hc(r,t){return kr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function EI(r,t=!1){const n=Xe(r),s=await n.getIdToken(t),l=Hm(s);gt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:Tl(Cd(l.auth_time)),issuedAtTime:Tl(Cd(l.iat)),expirationTime:Tl(Cd(l.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Cd(r){return Number(r)*1e3}function Hm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Jv(n);return l?JSON.parse(l):(bc("Failed to decode base64 JWT payload"),null)}catch(l){return bc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Nv(r){const t=Hm(r);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ji&&TI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function TI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await Ol(r,Hc(n,{idToken:s}));gt(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const f=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?XT(c.providerUserInfo):[],g=bI(r.providerData,f),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),T=p?_:!1,I={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Wd(c.createdAt,c.lastLoginAt),isAnonymous:T};Object.assign(r,I)}async function SI(r){const t=Xe(r);await Gc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function bI(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function XT(r){return r.map(t=>{var{providerId:n}=t,s=Bm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(r,t){const n=await KT(r,{},async()=>{const s=Pl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,f=await YT(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",QT.fetch()(f,{method:"POST",headers:g,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wI(r,t){return kr(r,"POST","/v2/accounts:revokeToken",Ms(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Nv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const n=Nv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await RI(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,f=new Va;return s&&(gt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),l&&(gt(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Va,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(r,t){gt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Un{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=Bm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Wd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await Ol(this,this.stsTokenManager.getToken(this.auth,t));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return EI(this,t)}reload(){return SI(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Un(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Gc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Dr(this.auth));const t=await this.getIdToken();return await Ol(this,vI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,f,g,p,_,T;const I=(s=n.displayName)!==null&&s!==void 0?s:void 0,N=(l=n.email)!==null&&l!==void 0?l:void 0,j=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,$=(f=n.photoURL)!==null&&f!==void 0?f:void 0,tt=(g=n.tenantId)!==null&&g!==void 0?g:void 0,X=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,vt=(_=n.createdAt)!==null&&_!==void 0?_:void 0,ft=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:lt,emailVerified:Ct,isAnonymous:_t,providerData:Dt,stsTokenManager:M}=n;gt(lt&&M,t,"internal-error");const S=Va.fromJSON(this.name,M);gt(typeof lt=="string",t,"internal-error"),_r(I,t.name),_r(N,t.name),gt(typeof Ct=="boolean",t,"internal-error"),gt(typeof _t=="boolean",t,"internal-error"),_r(j,t.name),_r($,t.name),_r(tt,t.name),_r(X,t.name),_r(vt,t.name),_r(ft,t.name);const w=new Un({uid:lt,auth:t,email:N,emailVerified:Ct,displayName:I,isAnonymous:_t,photoURL:$,phoneNumber:j,tenantId:tt,stsTokenManager:S,createdAt:vt,lastLoginAt:ft});return Dt&&Array.isArray(Dt)&&(w.providerData=Dt.map(V=>Object.assign({},V))),X&&(w._redirectEventId=X),w}static async _fromIdTokenResponse(t,n,s=!1){const l=new Va;l.updateFromServerResponse(n);const c=new Un({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Gc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?XT(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Va;g.updateFromIdToken(s);const p=new Un({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:f}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Wd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map;function ki(r){qi(r instanceof Function,"Expected a class definition");let t=Vv.get(r);return t?(qi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Vv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}$T.type="NONE";const Mv=$T;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(r,t,n){return`firebase:${r}:${t}:${n}`}class Ma{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Rc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Rc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Hc(this.auth,{idToken:t}).catch(()=>{});return n?Un._fromGetAccountInfoResponse(this.auth,n,t):null}return Un._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ma(ki(Mv),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ki(Mv);const f=Rc(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const T=await _._get(f);if(T){let I;if(typeof T=="string"){const N=await Hc(t,{idToken:T}).catch(()=>{});if(!N)break;I=await Un._fromGetAccountInfoResponse(t,N,T)}else I=Un._fromJSON(t,T);_!==c&&(g=I),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Ma(c,t,s):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new Ma(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(t0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ZT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(n0(t))return"Blackberry";if(i0(t))return"Webos";if(JT(t))return"Safari";if((t.includes("chrome/")||WT(t))&&!t.includes("edge/"))return"Chrome";if(e0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ZT(r=Ye()){return/firefox\//i.test(r)}function JT(r=Ye()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function WT(r=Ye()){return/crios\//i.test(r)}function t0(r=Ye()){return/iemobile/i.test(r)}function e0(r=Ye()){return/android/i.test(r)}function n0(r=Ye()){return/blackberry/i.test(r)}function i0(r=Ye()){return/webos/i.test(r)}function Gm(r=Ye()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function II(r=Ye()){var t;return Gm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function CI(){return TS()&&document.documentMode===10}function r0(r=Ye()){return Gm(r)||e0(r)||i0(r)||n0(r)||/windows phone/i.test(r)||t0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(r,t=[]){let n;switch(r){case"Browser":n=Pv(Ye());break;case"Worker":n=`${Pv(Ye())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ga}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((f,g)=>{try{const p=t(c);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(r,t={}){return kr(r,"GET","/v2/passwordPolicy",Ms(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=6;class VI{constructor(t){var n,s,l,c;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:NI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xv(this),this.idTokenSubscription=new xv(this),this.beforeStateQueue=new DI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ki(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await Ma.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Hc(this,{idToken:t}),s=await Un._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(xn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Gc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(xn(this.app))return Promise.reject(Dr(this));const n=t?Xe(t):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return xn(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await OI(this),n=new VI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ml("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await wI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ki(t)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await Ma.create(this,[ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=s0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&lI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $a(r){return Xe(r)}class xv{constructor(t){this.auth=t,this.observer=null,this.addObserver=DS(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PI(r){uh=r}function a0(r){return uh.loadJS(r)}function xI(){return uh.recaptchaEnterpriseScript}function kI(){return uh.gapiScript}function UI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class LI{constructor(){this.enterprise=new zI}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class zI{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const BI="recaptcha-enterprise",o0="NO_RECAPTCHA";class qI{constructor(t){this.type=BI,this.auth=$a(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,g)=>{_I(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new yI(p);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,f(_.siteKey)}}).catch(p=>{g(p)})})}function l(c,f,g){const p=window.grecaptcha;Ov(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(_=>{f(_)}).catch(()=>{f(o0)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LI().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{s(this.auth).then(g=>{if(!n&&Ov(window.grecaptcha))l(g,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=xI();p.length!==0&&(p+=g),a0(p).then(()=>{l(g,c,f)}).catch(_=>{f(_)})}}).catch(g=>{f(g)})})}}async function kv(r,t,n,s=!1,l=!1){const c=new qI(r);let f;if(l)f=o0;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const g=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Uv(r,t,n,s,l){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await kv(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await kv(r,t,n,n==="getOobCode");return s(r,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(r,t){const n=sm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Ss(c,t??{}))return l;zn(l,"already-initialized")}return n.initialize({options:t})}function HI(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ki);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function GI(r,t,n){const s=$a(r);gt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=l0(t),{host:f,port:g}=FI(t),p=g===null?"":`:${g}`,_={url:`${c}//${f}${p}/`},T=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){gt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),gt(Ss(_,s.config.emulator)&&Ss(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Vl(f)?(nE(`${c}//${f}${p}`),iE("Auth",!0)):QI()}function l0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function FI(r){const t=l0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Lv(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:Lv(f)}}}function Lv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function QI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return xi("not implemented")}_getIdTokenResponse(t){return xi("not implemented")}_linkToIdToken(t,n){return xi("not implemented")}_getReauthenticationResolver(t){return xi("not implemented")}}async function KI(r,t){return kr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(r,t){return lh(r,"POST","/v1/accounts:signInWithPassword",Ms(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(r,t){return lh(r,"POST","/v1/accounts:signInWithEmailLink",Ms(r,t))}async function $I(r,t){return lh(r,"POST","/v1/accounts:signInWithEmailLink",Ms(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Fm{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Nl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Nl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uv(t,n,"signInWithPassword",YI);case"emailLink":return XI(t,{email:this._email,oobCode:this._password});default:zn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uv(t,s,"signUpPassword",KI);case"emailLink":return $I(t,{idToken:n,email:this._email,oobCode:this._password});default:zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(r,t){return lh(r,"POST","/v1/accounts:signInWithIdp",Ms(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="http://localhost";class Is extends Fm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Is(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=Bm(n,["providerId","signInMethod"]);if(!s||!l)return null;const f=new Is(s,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Pa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Pa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Pa(t,n)}buildRequest(){const t={requestUri:ZI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Pl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WI(r){const t=ul(cl(r)).link,n=t?ul(cl(t)).deep_link_id:null,s=ul(cl(r)).deep_link_id;return(s?ul(cl(s)).link:null)||s||n||t||r}class Qm{constructor(t){var n,s,l,c,f,g;const p=ul(cl(t)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,I=JI((l=p.mode)!==null&&l!==void 0?l:null);gt(_&&T&&I,"argument-error"),this.apiKey=_,this.operation=I,this.code=T,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const n=WI(t);try{return new Qm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.providerId=Za.PROVIDER_ID}static credential(t,n){return Nl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Qm.parseLink(n);return gt(s,"argument-error"),Nl._fromEmailAndCode(t,s.code,s.tenantId)}}Za.PROVIDER_ID="password";Za.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends u0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Bl{constructor(){super("facebook.com")}static credential(t){return Is._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vr.credential(t.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Is._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Er.credential(n,s)}catch{return null}}}Er.GOOGLE_SIGN_IN_METHOD="google.com";Er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Bl{constructor(){super("github.com")}static credential(t){return Is._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Bl{constructor(){super("twitter.com")}static credential(t,n){return Is._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Ar.credential(n,s)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await Un._fromIdTokenResponse(t,s,l),f=zv(s);return new Ha({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=zv(s);return new Ha({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function zv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends ji{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Fc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Fc(t,n,s,l)}}function c0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Fc._fromErrorAndOperation(r,c,t,s):c})}async function tC(r,t,n=!1){const s=await Ol(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ha._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(r,t,n=!1){const{auth:s}=r;if(xn(s.app))return Promise.reject(Dr(s));const l="reauthenticate";try{const c=await Ol(r,c0(s,l,t,r),n);gt(c.idToken,s,"internal-error");const f=Hm(c.idToken);gt(f,s,"internal-error");const{sub:g}=f;return gt(r.uid===g,s,"user-mismatch"),Ha._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&zn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h0(r,t,n=!1){if(xn(r.app))return Promise.reject(Dr(r));const s="signIn",l=await c0(r,s,t),c=await Ha._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}async function nC(r,t){return h0($a(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(r){const t=$a(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function rC(r,t,n){return xn(r.app)?Promise.reject(Dr(r)):nC(Xe(r),Za.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&iC(r),s})}function sC(r,t,n,s){return Xe(r).onIdTokenChanged(t,n,s)}function aC(r,t,n){return Xe(r).beforeAuthStateChanged(t,n)}function oC(r,t,n,s){return Xe(r).onAuthStateChanged(t,n,s)}function lC(r){return Xe(r).signOut()}const Qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qc,"1"),this.storage.removeItem(Qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=1e3,cC=10;class d0 extends f0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=r0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);CI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,cC):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},uC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}d0.type="LOCAL";const hC=d0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends f0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}m0.type="SESSION";const g0=m0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new ch(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async _=>_(n.origin,c)),p=await fC(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const _=Km("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(I){const N=I;if(N.data.eventId===_)switch(N.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(N.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function mC(r){oi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function gC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function yC(){return p0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="firebaseLocalStorageDb",_C=1,Kc="firebaseLocalStorage",_0="fbase_key";class ql{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hh(r,t){return r.transaction([Kc],t?"readwrite":"readonly").objectStore(Kc)}function vC(){const r=indexedDB.deleteDatabase(y0);return new ql(r).toPromise()}function tm(){const r=indexedDB.open(y0,_C);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Kc,{keyPath:_0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Kc)?t(s):(s.close(),await vC(),t(await tm()))})})}async function Bv(r,t,n){const s=hh(r,!0).put({[_0]:t,value:n});return new ql(s).toPromise()}async function EC(r,t){const n=hh(r,!1).get(t),s=await new ql(n).toPromise();return s===void 0?null:s.value}function qv(r,t){const n=hh(r,!0).delete(t);return new ql(n).toPromise()}const TC=800,AC=3;class v0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>AC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(yC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await gC(),!this.activeServiceWorker)return;this.sender=new dC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||pC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tm();return await Bv(t,Qc,"1"),await qv(t,Qc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Bv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>EC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>qv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=hh(l,!1).getAll();return new ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v0.type="LOCAL";const SC=v0;new zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(r,t){return t?ki(t):(gt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym extends Fm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Pa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Pa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Pa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function RC(r){return h0(r.auth,new Ym(r),r.bypassAuthState)}function wC(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),eC(n,new Ym(r),r.bypassAuthState)}async function IC(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),tC(n,new Ym(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return RC;case"linkViaPopup":case"linkViaRedirect":return IC;case"reauthViaPopup":case"reauthViaRedirect":return wC;default:zn(this.auth,"internal-error")}}resolve(t){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new zl(2e3,1e4);class Oa extends E0{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Oa.currentPopupAction&&Oa.currentPopupAction.cancel(),Oa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const t=Km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,CC.get())};t()}}Oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="pendingRedirect",wc=new Map;class OC extends E0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=wc.get(this.auth._key());if(!t){try{const s=await NC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}wc.set(this.auth._key(),t)}return this.bypassAuthState||wc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NC(r,t){const n=PC(t),s=MC(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function VC(r,t){wc.set(r._key(),t)}function MC(r){return ki(r._redirectPersistence)}function PC(r){return Rc(DC,r.config.apiKey,r.name)}async function xC(r,t,n=!1){if(xn(r.app))return Promise.reject(Dr(r));const s=$a(r),l=bC(s,t),f=await new OC(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=10*60*1e3;class UC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!LC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!T0(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ai(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=kC&&this.cachedEventUids.clear(),this.cachedEventUids.has(jv(t))}saveEventToCache(t){this.cachedEventUids.add(jv(t)),this.lastProcessedEventTime=Date.now()}}function jv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function T0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function LC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return T0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(r,t={}){return kr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qC=/^https?/;async function jC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await zC(r);for(const n of t)try{if(HC(n))return}catch{}zn(r,"unauthorized-domain")}function HC(r){const t=Jd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!qC.test(n))return!1;if(BC.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=new zl(3e4,6e4);function Hv(){const r=oi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function FC(r){return new Promise((t,n)=>{var s,l,c;function f(){Hv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Hv(),n(ai(r,"network-request-failed"))},timeout:GC.get()})}if(!((l=(s=oi().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=oi().gapi)===null||c===void 0)&&c.load)f();else{const g=UI("iframefcb");return oi()[g]=()=>{gapi.load?f():n(ai(r,"network-request-failed"))},a0(`${kI()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw Ic=null,t})}let Ic=null;function QC(r){return Ic=Ic||FC(r),Ic}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=new zl(5e3,15e3),YC="__/auth/iframe",XC="emulator/auth/iframe",$C={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JC(r){const t=r.config;gt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?jm(t,XC):`https://${r.config.authDomain}/${YC}`,s={apiKey:t.apiKey,appName:r.name,v:Ga},l=ZC.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Pl(s).slice(1)}`}async function WC(r){const t=await QC(r),n=oi().gapi;return gt(n,r,"internal-error"),t.open({where:document.body,url:JC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$C,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const f=ai(r,"network-request-failed"),g=oi().setTimeout(()=>{c(f)},KC.get());function p(){oi().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e2=500,n2=600,i2="_blank",r2="http://localhost";class Gv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s2(r,t,n,s=e2,l=n2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},t2),{width:s.toString(),height:l.toString(),top:c,left:f}),_=Ye().toLowerCase();n&&(g=WT(_)?i2:n),ZT(_)&&(t=t||r2,p.scrollbars="yes");const T=Object.entries(p).reduce((N,[j,$])=>`${N}${j}=${$},`,"");if(II(_)&&g!=="_self")return a2(t||"",g),new Gv(null);const I=window.open(t||"",g,T);gt(I,r,"popup-blocked");try{I.focus()}catch{}return new Gv(I)}function a2(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="__/auth/handler",l2="emulator/auth/handler",u2=encodeURIComponent("fac");async function Fv(r,t,n,s,l,c){gt(r.config.authDomain,r,"auth-domain-config-required"),gt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ga,eventId:l};if(t instanceof u0){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",CS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,I]of Object.entries({}))f[T]=I}if(t instanceof Bl){const T=t.getScopes().filter(I=>I!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),_=p?`#${u2}=${encodeURIComponent(p)}`:"";return`${c2(r)}?${Pl(g).slice(1)}${_}`}function c2({config:r}){return r.emulator?jm(r,l2):`https://${r.authDomain}/${o2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="webStorageSupport";class h2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=g0,this._completeRedirectFn=xC,this._overrideRedirectResult=VC}async _openPopup(t,n,s,l){var c;qi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await Fv(t,n,s,Jd(),l);return s2(t,f,Km())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await Fv(t,n,s,Jd(),l);return mC(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(qi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await WC(t),s=new UC(t);return n.register("authEvent",l=>(gt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Dd,{type:Dd},l=>{var c;const f=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Dd];f!==void 0&&n(!!f),zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return r0()||JT()||Gm()}}const f2=h2;var Qv="@firebase/auth",Kv="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g2(r){xa(new bs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;gt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s0(r)},_=new MI(s,l,c,p);return HI(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),xa(new bs("auth-internal",t=>{const n=$a(t.getProvider("auth").getImmediate());return(s=>new d2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(Qv,Kv,m2(r)),wr(Qv,Kv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=5*60,y2=eE("authIdTokenMaxAge")||p2;let Yv=null;const _2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>y2)return;const l=n==null?void 0:n.token;Yv!==l&&(Yv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function v2(r=oE()){const t=sm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=jI(r,{popupRedirectResolver:f2,persistence:[SC,hC,g0]}),s=eE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=_2(c.toString());aC(n,f,()=>f(n.currentUser)),sC(n,g=>f(g))}}const l=Wv("auth");return l&&GI(n,`http://${l}`),n}function E2(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}PI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=ai("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",E2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g2("Browser");const T2={apiKey:"AIzaSyAUkPYW13RX9yybkxjmz1t51YxG66u-210",authDomain:"family-budget-tracker-95d5e.firebaseapp.com",projectId:"family-budget-tracker-95d5e",storageBucket:"family-budget-tracker-95d5e.firebasestorage.app",messagingSenderId:"1000473516966",appId:"1:1000473516966:web:aee768d61b9500cb084d67"},A0=aE(T2),Xv=zw(A0),em=v2(A0),A2=({darkMode:r})=>{const[t,n]=Le.useState(""),[s,l]=Le.useState(""),[c,f]=Le.useState(!1),g=async p=>{p.preventDefault(),f(!0);try{await rC(em,t,s)}catch(_){let T="로그인에 실패했습니다.";_.code==="auth/user-not-found"?T="등록되지 않은 이메일입니다.":_.code==="auth/wrong-password"?T="비밀번호가 올바르지 않습니다.":_.code==="auth/invalid-email"?T="올바른 이메일 형식이 아닙니다.":_.code==="auth/too-many-requests"&&(T="너무 많은 로그인 시도가 있었습니다. 잠시 후 다시 시도해주세요."),alert(T)}finally{f(!1)}};return st.jsx("div",{className:`auth-container ${r?"dark":"light"}`,children:st.jsxs("div",{className:"auth-card glass-card",children:[st.jsx("h2",{children:"👨‍👩‍👧‍👦 가족 가계부"}),st.jsx("p",{children:"가족 구성원으로 로그인하세요"}),st.jsxs("form",{onSubmit:g,className:"auth-form",children:[st.jsx("div",{className:"form-group",children:st.jsx("input",{type:"email",placeholder:"이메일",value:t,onChange:p=>n(p.target.value),required:!0})}),st.jsx("div",{className:"form-group",children:st.jsx("input",{type:"password",placeholder:"비밀번호",value:s,onChange:p=>l(p.target.value),required:!0})}),st.jsx("button",{type:"submit",className:"auth-button",disabled:c,children:c?"로그인 중...":"로그인"})]}),st.jsxs("div",{className:"auth-info",children:[st.jsxs("p",{children:["🔒 ",st.jsx("strong",{children:"보안 안내:"})]}),st.jsxs("ul",{children:[st.jsx("li",{children:"등록된 가족 구성원만 접근 가능합니다"}),st.jsx("li",{children:"이메일과 비밀번호를 정확히 입력해주세요"}),st.jsx("li",{children:"계정이 없다면 관리자에게 문의하세요"})]})]})]})})};function S2(){const[r,t]=Le.useState([]),[n,s]=Le.useState(""),[l,c]=Le.useState(""),[f,g]=Le.useState(""),[p,_]=Le.useState(""),[T,I]=Le.useState("expense"),[N,j]=Le.useState(!1),[$,tt]=Le.useState(!1),[X,vt]=Le.useState(null),[ft,lt]=Le.useState(!0);Le.useEffect(()=>{const C=oC(em,R=>{vt(R),lt(!1)});return()=>C()},[]);const Ct=async()=>{try{await lC(em)}catch(C){console.error("로그아웃 에러:",C)}},_t=()=>{tt(!$),localStorage.setItem("darkMode",(!$).toString())};Le.useEffect(()=>{const C=localStorage.getItem("darkMode");C&&tt(C==="true")},[]),Le.useEffect(()=>{if(!X)return;const C=Zw(Av(Xv,"transactions"),Jw("date","desc")),R=rI(C,se=>{const Wt=[];se.forEach(H=>{Wt.push({id:H.id,...H.data()})}),t(Wt)});return()=>R()},[X]);const Dt=C=>C.replace(/[^\d]/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),M=C=>{const se=C.target.value.replace(/[^\d]/g,"");s(se),c(Dt(se))},S=async()=>{if(!n||!f||!p){alert("모든 필드를 입력해주세요!");return}j(!0);try{const C={amount:parseFloat(n),category:f,description:p,date:new Date().toISOString().split("T")[0],type:T,createdAt:new Date,userId:X==null?void 0:X.uid,userName:(X==null?void 0:X.displayName)||(X==null?void 0:X.email)||"익명"};await iI(Av(Xv,"transactions"),C),s(""),c(""),g(""),_("")}catch(C){console.error("Error adding transaction: ",C),alert("거래 추가 중 오류가 발생했습니다.")}finally{j(!1)}},w=r.filter(C=>C.type==="income").reduce((C,R)=>C+R.amount,0),V=r.filter(C=>C.type==="expense").reduce((C,R)=>C+R.amount,0),P=w-V;return ft?st.jsx("div",{className:`App ${$?"dark-theme":"light-theme"}`,children:st.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.5rem"},children:"로딩 중... 🔄"})}):X?st.jsx("div",{className:`App ${$?"dark-theme":"light-theme"}`,children:st.jsxs("header",{className:"App-header",children:[st.jsx("div",{className:"theme-toggle",children:st.jsx("button",{onClick:_t,className:"theme-button",children:$?"☀️":"🌙"})}),st.jsxs("div",{className:"user-info",children:[st.jsxs("span",{children:["👋 ",X.displayName||X.email,"님"]}),st.jsx("button",{onClick:Ct,className:"logout-button",children:"로그아웃"})]}),st.jsx("h1",{children:"👨‍👩‍👧‍👦 가족 가계부"}),st.jsxs("div",{className:"balance-summary glass-card",children:[st.jsxs("div",{className:"balance-item",children:[st.jsx("span",{children:"💰 총 잔액: "}),st.jsxs("span",{style:{color:P>=0?"#27ae60":"#e74c3c"},children:[P.toLocaleString(),"원"]})]}),st.jsxs("div",{className:"balance-item",children:[st.jsx("span",{children:"📈 수입: "}),st.jsxs("span",{style:{color:"#3498db"},children:[w.toLocaleString(),"원"]})]}),st.jsxs("div",{className:"balance-item",children:[st.jsx("span",{children:"📉 지출: "}),st.jsxs("span",{style:{color:"#e74c3c"},children:[V.toLocaleString(),"원"]})]})]}),st.jsxs("div",{className:"transaction-form glass-card",children:[st.jsx("h3",{children:"새 거래 추가"}),st.jsxs("div",{className:"form-group",children:[st.jsxs("label",{children:[st.jsx("input",{type:"radio",value:"income",checked:T==="income",onChange:C=>I(C.target.value)}),"수입"]}),st.jsxs("label",{children:[st.jsx("input",{type:"radio",value:"expense",checked:T==="expense",onChange:C=>I(C.target.value)}),"지출"]})]}),st.jsx("div",{className:"form-group",children:st.jsx("input",{type:"text",placeholder:"금액",value:l,onChange:M})}),st.jsx("div",{className:"form-group",children:st.jsx("input",{type:"text",placeholder:"카테고리 (예: 식비, 교통비, 월급)",value:f,onChange:C=>g(C.target.value)})}),st.jsx("div",{className:"form-group",children:st.jsx("input",{type:"text",placeholder:"설명",value:p,onChange:C=>_(C.target.value)})}),st.jsx("button",{onClick:S,className:`add-button ${N?"loading":""}`,disabled:N,children:N?"추가 중...":"거래 추가"})]}),st.jsxs("div",{className:"transaction-list glass-card",children:[st.jsx("h3",{children:"거래 내역"}),r.length===0?st.jsx("p",{children:"아직 거래 내역이 없습니다."}):r.map(C=>st.jsxs("div",{className:`transaction-item ${C.type}`,children:[st.jsxs("div",{className:"transaction-info",children:[st.jsx("span",{className:"transaction-category",children:C.category}),st.jsx("span",{className:"transaction-description",children:C.description}),st.jsx("span",{className:"transaction-date",children:C.date}),st.jsxs("span",{className:"transaction-user",children:["👤 ",C.userName||"익명"]})]}),st.jsxs("div",{className:`transaction-amount ${C.type}`,children:[C.type==="income"?"+":"-",C.amount.toLocaleString(),"원"]})]},C.id))]})]})}):st.jsx(A2,{darkMode:$})}nS.createRoot(document.getElementById("root")).render(st.jsx(Le.StrictMode,{children:st.jsx(S2,{})}));
